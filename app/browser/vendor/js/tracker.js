// Generated by CoffeeScript 1.6.3
(function() {
  window.tracker = {
    endpoint: "/api/event",
    registered: {},
    init: function(options) {
      if (options.endpoint != null) {
        return tracker.endpoint = options.endpoint;
      }
    },
    track: function(event, data) {
      var finalData, key, value, _ref;
      finalData = {};
      _ref = tracker.registered;
      for (key in _ref) {
        value = _ref[key];
        finalData[key] = value;
      }
      for (key in data) {
        value = data[key];
        finalData[key] = value;
      }
      finalData["__event"] = event;
      return $.ajax({
        type: 'POST',
        url: tracker.endpoint,
        data: finalData
      });
    },
    register: function(data) {
      var key, value, _results;
      _results = [];
      for (key in data) {
        value = data[key];
        _results.push(tracker.registered[key] = value);
      }
      return _results;
    }
  };

}).call(this);