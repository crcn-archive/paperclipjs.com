(function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var u=typeof require=="function"&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var c=n[a]={"exports":{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n?n:t)},c,c.exports,t,e,n,r)}return n[a].exports}var o=typeof require=="function"&&require;for(var a=0;a<r.length;a++)i(r[a]);return i})({"1":[function(e,t,n){(function(t){var n=e("./index");var r=t.app=new n;r.initialize({"element":document.body})}).call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./index":2}],"2":[function(e,t,n){var r=e("mojo-application");e("paperclip");t.exports=r.extend({"plugins":[e("mojo-bootstrap"),e("mojo-models"),e("mojo-views"),e("mojo-paperclip"),e("mojo-router"),e("./models"),e("./views"),e("./routes")],"didBootstrap":function(e){$(e.element).append(this.views.create("main",{"todos":app.todos=this.models.create("todos").load()}).render())}})},{"./models":3,"./routes":8,"./views":9,"mojo-application":31,"mojo-bootstrap":55,"mojo-models":82,"mojo-paperclip":96,"mojo-router":98,"mojo-views":135,"paperclip":185}],"3":[function(e,t,n){t.exports=function(t){t.models.register({"todos":e("./todos"),"todo":e("./todo")})}},{"./todo":6,"./todos":7}],"4":[function(e,t,n){t.exports={"localStorage":e("./localStorage")}},{"./localStorage":5}],"5":[function(e,t,n){var r=e("pouchdb");n.collection=function(e){return function(t){t.storage=new r(e);return{"load":function(e){this.storage.allDocs({"include_docs":true},function(t,n){if(t)return e(t);e(null,n.rows.map(function(e){return e.doc}))})}}}};n.model=function(){return function(e){var t=e.collection.storage;return{"save":function(e){var n=this.serialize();if(!n._id){n._id=Date.now()+"_"+Math.round(Math.random()*999999);t.put(n,function(t){if(t)return e(t);e(null,n)})}else{t.get(n._id,function(r,i){if(r)return e(r);t.put(n,i._rev,function(t){if(t)return e(t);e(null,n)})})}},"load":function(e){storaget.get(this._id,e)},"remove":function(e){t.get(this._id,function(n,r){if(n)return e(n);t.remove(r,e)})}}}}},{"pouchdb":274}],"6":[function(e,t,n){var r=e("mojo-models"),i=e("./persist").localStorage;t.exports=r.Base.extend({"toggleCompleted":function(e){this.set("completed",arguments.length?!!e:!this.completed);this.save()},"deserialize":function(e){return{"_id":e._id,"text":e.text,"completed":!!e.completed}},"serialize":function(){return{"_id":this._id,"text":this.text,"completed":!!this.completed}},"persist":i.model()})},{"./persist":4,"mojo-models":82}],"7":[function(e,t,n){var r=e("mojo-models"),i=e("./persist").localStorage;t.exports=r.Collection.extend({"modelType":e("./todo"),"bindings":{"@each.completed":{"numCompleted":{"map":function(e){return e.filter(function(e){return!!e}).length}}},"numCompleted, length":{"allCompleted":{"map":function(e,t){return e===t}}}},"toggleCompleted":function(){var e=this;var t=this.allCompleted;this.each(function(e){e.toggleCompleted(!t)})},"clearCompleted":function(){for(var e=this.length;e--;){var t=this.at(e);if(t.completed){t.remove()}}},"persist":i.collection("todos")})},{"./persist":4,"./todo":6,"mojo-models":82}],"8":[function(e,t,n){var r=e("sift");t.exports=function(e){e.router.add({"/":{"name":"allTodos","enter":function(){e.models.set("todosFilter",function(){return true})},"states":{"page":"all"}},"/active":{"name":"activeTodos","enter":function(){e.models.set("todosFilter",r({"completed":false}).test)},"states":{"page":"active"}},"/completed":{"name":"completedTodos","enter":function(){e.models.set("todosFilter",r({"completed":true}).test)},"states":{"page":"completed"}}})}},{"sift":313}],"9":[function(e,t,n){t.exports=function(t){t.views.register({"main":e("./main")})}},{"./main":14}],"10":[function(e,t,n){var r=e("mojo-views");t.exports=r.Base.extend({"paper":e("./index.pc")})},{"./index.pc":11,"mojo-views":135}],"11":[function(e,t,n){"use strict";t.exports=function(e,t,n,r,i,o,a){return t({"if":{"run":function(){return this.get(["todos","length"])},"refs":[["todos","length"]]}},function(e,t,n,r,i,o,a){return n("footer",{"id":"footer"},[n("span",{"id":"todo-count"},[n("strong",{},[t({"value":{"run":function(){return this.get(["todos","length"])-this.get(["todos","numCompleted"])},"refs":[["todos","length"],["todos","numCompleted"]]}},void 0)]),r(" todos left ")]),r(" "),n("ul",{"id":"filters"},[n("li",{},[n("a",{"data-href":"allTodos","data-bind":[{"css":{"run":function(){return{"selected":this.get(["models","states","page"])=="all"}},"refs":[["models","states","page"]]}}]},[r("All")])]),r(" "),n("li",{},[n("a",{"data-href":"activeTodos","data-bind":[{"css":{"run":function(){return{"selected":this.get(["models","states","page"])=="active"}},"refs":[["models","states","page"]]}}]},[r("Active")])]),r(" "),n("li",{},[n("a",{"data-href":"completedTodos","data-bind":[{"css":{"run":function(){return{"selected":this.get(["models","states","page"])=="completed"}},"refs":[["models","states","page"]]}}]},[r("Completed")])])]),r(" "),t({"if":{"run":function(){return this.get(["todos","numCompleted"])},"refs":[["todos","numCompleted"]]}},function(e,t,n,r,i,o,a){return n("button",{"id":"clear-completed","data-bind":[{"onClick":{"run":function(){return this.call(this.get(["todos"]),"clearCompleted",[])},"refs":[["todos","clearCompleted"]]}}]},[r("Clear completed ("),t({"value":{"run":function(){return this.get(["todos","numCompleted"])},"refs":[["todos","numCompleted"]]}},void 0),r(") ")])})])})}},{}],"12":[function(e,t,n){var r=e("mojo-views");t.exports=r.Base.extend({"paper":e("./index.pc"),"addNewTodo":function(){if(!this.newTodoText)return;this.get("todos").create({"text":this.newTodoText}).save();this.set("newTodoText",void 0)}})},{"./index.pc":13,"mojo-views":135}],"13":[function(e,t,n){"use strict";t.exports=function(e,t,n,r,i,o,a){return n("header",{"id":"header"},[n("h1",{},[r("todos")]),r(" "),n("input",{"type":"text","id":"new-todo","placeholder":"What needs to be done?","data-bind":[{"model":{"run":function(){return this.bindTo(["newTodoText"],true)},"refs":[["newTodoText"]]},"onEnter":{"run":function(){return this.call(this.__context,"addNewTodo",[])},"refs":[["addNewTodo"]]},"focus":{"run":function(){return true},"refs":[]}}]},[])])}},{}],"14":[function(e,t,n){var r=e("mojo-views"),i=e("bindable");t.exports=r.Base.extend({"paper":e("./index.pc"),"sections":{"header":e("./header"),"todos":e("./todos"),"footer":e("./footer")}})},{"./footer":10,"./header":12,"./index.pc":15,"./todos":16,"bindable":22,"mojo-views":135}],"15":[function(e,t,n){"use strict";t.exports=function(e,t,n,r,i,o,a){return e([n("section",{"id":"todoapp"},[t({"html":{"run":function(){return this.get(["sections","header"])},"refs":[["sections","header"]]}},void 0),r(" "),t({"html":{"run":function(){return this.get(["sections","todos"])},"refs":[["sections","todos"]]}},void 0),r(" "),t({"html":{"run":function(){return this.get(["sections","footer"])},"refs":[["sections","footer"]]}},void 0)]),r(" "),n("footer",{"id":"info"},[n("p",{},[r("Double-click to edit a todo")])])])}},{}],"16":[function(e,t,n){var r=e("mojo-views"),i=e("poolparty");var o=e("./todo");var a=i({"max":1e3,"create":function(e){var t=new o(e);t.on("dispose",function(){a.add(t)});return t},"recycle":function(e,t){e.setProperties(t)}});t.exports=r.Base.extend({"paper":e("./index.pc"),"sections":{"items":{"type":"list","source":"todos","filter":"models.todosFilter","modelViewClass":e("./todo")}}})},{"./index.pc":17,"./todo":18,"mojo-views":135,"poolparty":257}],"17":[function(e,t,n){"use strict";t.exports=function(e,t,n,r,i,o,a){return n("section",{"id":"main"},[n("ul",{"id":"todo-list"},[t({"html":{"run":function(){return this.get(["sections","items"])},"refs":[["sections","items"]]}},void 0)]),r(" "),t({"if":{"run":function(){return this.get(["todos","length"])},"refs":[["todos","length"]]}},function(e,t,n,r,i,o,a){return n("input",{"type":"checkbox","id":"toggle-all","data-bind":[{"model":{"run":function(){return this.bindTo(["todos","allCompleted"],false)},"refs":[["todos","allCompleted"]]},"onClick":{"run":function(){return this.call(this.get(["todos"]),"toggleCompleted",[])},"refs":[["todos","toggleCompleted"]]}}]},[])})])}},{}],"18":[function(e,t,n){var r=e("mojo-views");t.exports=r.Base.extend({"paper":e("./index.pc"),"save":function(){this.toggleEdit(false);this.get("model").save()},"toggleEdit":function(e){this.set("edit",arguments.length?e:!this.edit)}})},{"./index.pc":19,"mojo-views":135}],"19":[function(e,t,n){"use strict";t.exports=function(e,t,n,r,i,o,a){return n("li",{"data-bind":[{"css":{"run":function(){return{"completed":this.get(["model","completed"]),"editing":this.get(["edit"])}},"refs":[["edit"],["model","completed"]]}}]},[t({"if":{"run":function(){return this.get(["edit"])},"refs":[["edit"]]}},function(e,t,n,r,i,o,a){return n("input",{"type":"text","class":"edit","data-bind":[{"model":{"run":function(){return this.bindTo(["model","text"],true)},"refs":[["model","text"]]},"onEnter":{"run":function(){return this.call(this.__context,"save",[])},"refs":[["save"]]},"focus":{"run":function(){return true},"refs":[]}}]},[])},function(e,t,n,r,i,o,a){return t({"else":{"run":function(){return true},"refs":[]}},function(e,t,n,r,i,o,a){return e([n("input",{"type":"checkbox","class":"toggle","data-bind":[{"model":{"run":function(){return this.bindTo(["model","completed"],false)},"refs":[["model","completed"]]},"onClick":{"run":function(){return this.call(this.get(["model"]),"toggleCompleted",[])},"refs":[["model","toggleCompleted"]]}}]},[]),n("label",{"data-bind":[{"onDblClick":{"run":function(){return this.call(this.__context,"toggleEdit",[])},"refs":[["toggleEdit"]]}}]},[t({"value":{"run":function(){return this.get(["model","text"])},"refs":[["model","text"]]}},void 0)]),r(" "),n("button",{"class":"destroy","data-bind":[{"onClick":{"run":function(){return this.call(this.get(["model"]),"remove",[])},"refs":[["model","remove"]]}}]},[])])})})])}},{}],"20":[function(e,t,n){"use strict";var r=e("../object"),i=e("../utils/computed"),o=e("sift");function a(e){r.call(this,this);this._source=e||[];this._updateInfo()}r.extend(a,{"__isBindableCollection":true,"reset":function(e){return this.source(e)},"source":function(e){if(!arguments.length)return this._source;var t=this._source||[];this._source=e||[];this._updateInfo();this.emit("reset",this._source)},"indexOf":function(e){return this._source.indexOf(e)},"filter":function(e){return this._source.filter(e)},"search":function(e){return o(e,this._source).shift()},"searchIndex":function(e){return this.indexOf(this.search(e))},"at":function(e){return this._source[e]},"each":i(["length"],function(e){this._source.forEach(e)}),"map":function(e){return this._source.map(e)},"join":function(e){return this._source.join(e)},"slice":function(){return this._source.slice.apply(this._source,arguments)},"push":function(){var e=Array.prototype.slice.call(arguments);this._source.push.apply(this._source,e);this._updateInfo();this.emit("insert",e[0],this.length-1);this.emit("update",{"insert":e,"index":this.length-1})},"unshift":function(){var e=Array.prototype.slice.call(arguments);this._source.unshift.apply(this._source,e);this._updateInfo();this.emit("insert",e[0],0);this.emit("update",{"insert":e})},"splice":function(e,t){var n=Array.prototype.slice.call(arguments,2),r=this._source.splice.apply(this._source,arguments);this._updateInfo();this.emit("replace",n,r,e);this.emit("update",{"insert":n,"remove":r})},"remove":function(e){var t=this.indexOf(e);if(!~t)return false;this._source.splice(t,1);this._updateInfo();this.emit("remove",e,t);this.emit("update",{"remove":[e]});return e},"pop":function(){if(!this._source.length)return;return this.remove(this._source[this._source.length-1])},"shift":function(){if(!this._source.length)return;return this.remove(this._source[0])},"toJSON":function(){return this._source.map(function(e){return e&&e.toJSON?e.toJSON():e})},"_updateInfo":function(){this.setProperties({"first":this._source.length?this._source[0]:void 0,"length":this._source.length,"empty":!this._source.length,"last":this._source.length?this._source[this._source.length-1]:void 0})}});t.exports=a},{"../object":23,"../utils/computed":26,"sift":313}],"21":[function(e,t,n){"use strict";var r=e("protoclass");function i(){this._events={}}i.prototype.setMaxListeners=function(){};i.prototype.on=function(e,t){if(typeof t!=="function"){throw new Error("listener must be a function for event '"+e+"'")}var n;if(!(n=this._events[e])){this._events[e]=t}else if(typeof n==="function"){this._events[e]=[n,t]}else{n.push(t)}var r=this;return{"dispose":function(){r.off(e,t)}}};i.prototype.off=function(e,t){var n;if(!(n=this._events[e])){return}if(typeof n==="function"){this._events[e]=undefined}else{var r=n.indexOf(t);if(~r)n.splice(r,1);if(!n.length){this._events[e]=undefined}}};i.prototype.once=function(e,t){if(typeof t!=="function"){throw new Error("listener must be a function for event '"+e+"'")}function n(){r.dispose();t.apply(this,arguments)}var r=this.on(e,n);r.target=this;return r};i.prototype.emit=function(e){if(this._events[e]===undefined)return;var t=this._events[e],n,r,i,o;if(typeof t==="function"){if(arguments.length===1){t()}else{switch(arguments.length){case 2:t(arguments[1]);break;case 3:t(arguments[1],arguments[2]);break;case 4:t(arguments[1],arguments[2],arguments[3]);break;default:n=arguments.length;r=new Array(n-1);for(i=1;i<n;i++)r[i-1]=arguments[i];t.apply(this,r)}}}else{n=arguments.length;r=new Array(n-1);for(i=1;i<n;i++)r[i-1]=arguments[i];for(o=t.length;o--;){if(t[o])t[o].apply(this,r)}}};i.prototype.removeAllListeners=function(e){if(arguments.length===1){this._events[e]=undefined}else{this._events={}}};t.exports=i},{"protoclass":28}],"22":[function(e,t,n){"use strict";t.exports={"Object":e("./object"),"Collection":e("./collection"),"EventEmitter":e("./core/eventEmitter"),"computed":e("./utils/computed"),"options":e("./utils/options")};if(typeof window!=="undefined"){window.bindable=t.exports}},{"./collection":20,"./core/eventEmitter":21,"./object":23,"./utils/computed":26,"./utils/options":27}],"23":[function(e,t,n){"use strict";var r=e("../core/eventEmitter"),i=e("protoclass"),o=e("./watchProperty");function a(e){if(e){this.context(e)}else{this.__context={}}a.parent.call(this)}o.BindableObject=a;i(r,a,{"__isBindable":true,"context":function(e){if(!arguments.length)return this.__context;if(e.__isBindable&&e!==this){throw new Error("context cannot be a bindable object")}this.__context=e},"keys":function(){return Object.keys(this.toJSON())},"has":function(e){return this.get(e)!=null},"get":function(e){var t;if((t=typeof e==="string")&&!~e.indexOf(".")){return this.__context[e]}var n=t?e.split("."):e,r=this.__context,i=r,o;for(var a=0,s=n.length-1;a<s;a++){i=i[n[a]];if(!i)return;if(i.__isBindable&&i!==r){i=i.__context}}if(i)return i[n[a]]},"call":function(e,t,n){if(typeof t==="function"){n=t;t=[]}if(!t)t=[];if(!n)n=function(e){if(e)throw e};if(Object.prototype.toString.call(t)!=="[object Array]"){return n(new Error("args must be an array"))}var r=this,i=e.split("."),o;function a(e){var i=o?e.get(o)||e[o]:e;try{n(null,i.apply(r,t))}catch(a){n(a)}}var s=this.get(e)||this[e];if(s){return a(s)}if(i.length>1){o=i.pop()}this.bind(i,{"max":1,"to":a}).now()},"setProperties":function(e){for(var t in e){this.set(t,e[t])}return this},"set":function(e,t){var n,r,i,o;if((n=typeof e==="string")&&!~e.indexOf(".")){r=(i=this.__context[e])!==t;if(r)this.__context[e]=t}else{o=n?e.split("."):e;var a=this.__context,s=a,u,c,l;for(var f=0,p=o.length-1;f<p;f++){c=o[f];u=s;s=s[c];if(!s){s=u[c]={}}if(s.__isBindable){l=o.slice(f+1);r=(i=s.get(l))!==t;s.set(l,t);s=i;break}}if(!l&&(r=s!==t)){c=o[f];i=s[c];s[c]=t}}if(!r)return t;var d=o?o.join("."):e;this.emit("change:"+d,t,i);this.emit("change",d,t,i);return t},"bind":function(e,t,n){return o(this,e,t,n)},"dispose":function(){this.emit("dispose")},"toJSON":function(){var e={},t;for(var n in this.__context){t=this.__context[n];if(t&&t.__isBindable){t=t.toJSON()}e[n]=t}return e}});t.exports=a},{"../core/eventEmitter":21,"./watchProperty":25,"protoclass":28}],"24":[function(e,t,n){"use strict";var r=e("toarray"),i=e("underscore");function o(e,t){return function(n){e.set(t,n)}}function a(e,t){if(e.length!==t.length)return true;for(var n=t.length;n--;){if(t[n]!==e[n])return true}return false}function s(e,t,n){var r=0;return function(){var i=Array.prototype.slice.call(arguments,0),o=i.length%2===0?i.slice(0,i.length/2):i;if(!a(o,t))return;if(~n&&++r>=n){this.dispose()}t=o;e.apply(this,i)}}function u(e,t,n){var i=n.when||function(){return true},a=n.map||function(){return Array.prototype.slice.call(arguments,0)},c=n.target||e,l=n.max||(n.once?1:void 0)||-1,f=r(n.to).concat(),p=r(n.defaultValue),d=[],h=n.bothWays,v;if(!i.test&&typeof i==="function"){i={"test":i}}if(!p.length){p.push(void 0)}if(!f.length){throw new Error("missing 'to' option")}for(v=f.length;v--;){var m=f[v],g=typeof m;if(g==="object"){for(var y in m){m[y].to=y;f.push(u(c,t,m[y]))}f.splice(v,1)}else if(g==="string"){d.push(m);f[v]=s(o(c,m),p,l)}else if(g==="function"){f[v]=s(m,p,l)}else{throw new Error("'to' must be a function")}}if(h){for(v=d.length;v--;){c.bind(d[v],{"to":t})}}return function(){var e=r(a.apply(this,arguments));if(!i.test.apply(i,e))return;for(var t=f.length;t--;){f[t].apply(this,e)}}}t.exports=u},{"toarray":29,"underscore":30}],"25":[function(e,t,n){(function(n){"use strict";var r=e("underscore"),i=e("./transform"),o=e("../utils/options");function a(e,t,n){e.emit("watching",[t]);var i=e.on("change:"+t,function(){n.apply(o,arguments)}),o;o={"target":e,"now":function(){n.call(o,e.get(t));return o},"dispose":function(){i.dispose()},"pause":function(){o.dispose();o.now=function(){return this}},"resume":function(){o.pause();r.extend(o,a(e,t,n));return o}};return o}function s(e,i,o,a){var u=[],c=i?[]:undefined,l;var f=function(){h();u=[];c=i?[]:void 0;d(e,o);l.now()};if(i&&n.browser){f=r.debounce(f,1)}function p(e,n){return function(r){if(!r)return;if(!r.__isBindable){r=new t.exports.BindableObject(r)}d(r,e,n)}}function d(e,t,n){var r=[],o,a,s,l,h,v,m,g,y=t.length?e.__context:e;if(i){s=0;h=t.length;for(;s<h;s++){r.push(t[s]);a=t[s];e.emit("watching",r);v=a.charCodeAt(0)===64;if(v){m=true;r[s]=a=r[s].substr(1)}g=y;if(y)y=y[a];if(v&&y){if(y.compute){for(l=y.compute.length;l--;){d(e,[y.compute[l]],false)}}var b=t.slice(s+1);y.call(g,p(b,n));break}else if(y&&y.__isBindable&&s!==h-1){d(y,t.slice(s+1),false);y=y.__context}u.push(e.on("change:"+r.join("."),f))}if(!m&&n!==false){c.push(y)}}else{s=0;h=t.length;for(;s<h;s++){a=t[s];r.push(a);e.emit("watching",r);if(y)y=y[a];if(y&&y.__isBindable&&s!==h-1){d(y,t.slice(s+1),false);y=y.__context}u.push(e.on("change:"+r.join("."),f))}if(n!==false)c=y}}function h(){if(!u)return;for(var e=u.length;e--;){u[e].dispose()}u=[]}l={"target":e,"now":function(){a.call(l,c);return l},"dispose":h,"pause":function(){l.dispose();l.now=function(){return this}},"resume":function(){l.pause();r.extend(l,s(e,i,o,a));return l}};d(e,o);return l}function u(e,t,n){var i=new Array(t.length),a=new Array(t.length),s=new Array(t.length),c=o.computedDelay===-1?n:r.debounce(n,o.computedDelay),l;t.forEach(function(t,n){function r(e,t){i[n]=e;a[n]=t;c.apply(this,i.concat(a))}s[n]=e.bind(t,r)});l={"target":e,"now":function(){for(var e=s.length;e--;){s[e].now()}return l},"dispose":function(){for(var e=s.length;e--;){s[e].dispose()}s=[]},"pause":function(){l.dispose();l.now=function(){return l}},"resume":function(){l.pause();r.extend(l,u(e,t,n));return l}};return l}function c(e,t,n){if(typeof n==="object"){n=i(e,t,n)}var r;if(typeof t==="string"){if(~t.indexOf(",")){return u(e,t.split(/[,\s]+/),n)}else if(~t.indexOf(".")){r=t.split(".")}else{r=[t]}}else{r=t}if(r.length===1){return a(e,t,n)}else{return s(e,~t.indexOf("@"),r,n)}}t.exports=c}).call(this,e("OpdoqP"))},{"../utils/options":27,"./transform":24,"OpdoqP":58,"underscore":30}],"26":[function(e,t,n){"use strict";var r=e("toarray");t.exports=function(e,t){e=r(e);t.compute=e;return t}},{"toarray":29}],"27":[function(e,t,n){"use strict";t.exports={"computedDelay":0}},{}],"28":[function(e,t,n){function r(e,t){for(var n=0,r=t.length;n<r;n++){var i=t[n];for(var o in i){e[o]=i[o]}}return e}function i(e,t){var n=Array.prototype.slice.call(arguments,2);if(typeof t!=="function"){if(t)n.unshift(t);t=e;e=function(){}}r(t,e);function o(){this.constructor=t}o.prototype=e.prototype;t.prototype=new o;t.__super__=e.prototype;t.parent=t.superclass=e;r(t.prototype,n);i.setup(t);return t}i.setup=function(e){if(!e.extend){e.extend=function(e){var t=Array.prototype.slice.call(arguments,0);if(typeof e!=="function"){t.unshift(e=function(){e.parent.apply(this,arguments)})}return i.apply(this,[this].concat(t))};e.mixin=function(e){r(this.prototype,arguments)}}return e};t.exports=i},{}],"29":[function(e,t,n){t.exports=function(e){if(e===undefined)return[];return Object.prototype.toString.call(e)==="[object Array]"?e:[e]}},{}],"30":[function(e,t,n){(function(){var e=this;var r=e._;var i={};var o=Array.prototype,a=Object.prototype,s=Function.prototype;var u=o.push,c=o.slice,l=o.concat,f=a.toString,p=a.hasOwnProperty;var d=o.forEach,h=o.map,v=o.reduce,m=o.reduceRight,g=o.filter,y=o.every,b=o.some,_=o.indexOf,w=o.lastIndexOf,x=Array.isArray,E=Object.keys,A=s.bind;var k=function(e){if(e instanceof k)return e;if(!(this instanceof k))return new k(e);this._wrapped=e};if(typeof n!=="undefined"){if(typeof t!=="undefined"&&t.exports){n=t.exports=k}n._=k}else{e._=k}k.VERSION="1.4.4";var q=k.each=k.forEach=function(e,t,n){if(e==null)return;if(d&&e.forEach===d){e.forEach(t,n)}else if(e.length===+e.length){for(var r=0,o=e.length;r<o;r++){if(t.call(n,e[r],r,e)===i)return}}else{for(var a in e){if(k.has(e,a)){if(t.call(n,e[a],a,e)===i)return}}}};k.map=k.collect=function(e,t,n){var r=[];if(e==null)return r;if(h&&e.map===h)return e.map(t,n);q(e,function(e,i,o){r[r.length]=t.call(n,e,i,o)});return r};var S="Reduce of empty array with no initial value";k.reduce=k.foldl=k.inject=function(e,t,n,r){var i=arguments.length>2;if(e==null)e=[];if(v&&e.reduce===v){if(r)t=k.bind(t,r);return i?e.reduce(t,n):e.reduce(t)}q(e,function(e,o,a){if(!i){n=e;i=true}else{n=t.call(r,n,e,o,a)}});if(!i)throw new TypeError(S);return n};k.reduceRight=k.foldr=function(e,t,n,r){var i=arguments.length>2;if(e==null)e=[];if(m&&e.reduceRight===m){if(r)t=k.bind(t,r);return i?e.reduceRight(t,n):e.reduceRight(t)}var o=e.length;if(o!==+o){var a=k.keys(e);o=a.length}q(e,function(s,u,c){u=a?a[--o]:--o;if(!i){n=e[u];i=true}else{n=t.call(r,n,e[u],u,c)}});if(!i)throw new TypeError(S);return n};k.find=k.detect=function(e,t,n){var r;C(e,function(e,i,o){if(t.call(n,e,i,o)){r=e;return true}});return r};k.filter=k.select=function(e,t,n){var r=[];if(e==null)return r;if(g&&e.filter===g)return e.filter(t,n);q(e,function(e,i,o){if(t.call(n,e,i,o))r[r.length]=e});return r};k.reject=function(e,t,n){return k.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)};k.every=k.all=function(e,t,n){t||(t=k.identity);var r=true;if(e==null)return r;if(y&&e.every===y)return e.every(t,n);q(e,function(e,o,a){if(!(r=r&&t.call(n,e,o,a)))return i});return!!r};var C=k.some=k.any=function(e,t,n){t||(t=k.identity);var r=false;if(e==null)return r;if(b&&e.some===b)return e.some(t,n);q(e,function(e,o,a){if(r||(r=t.call(n,e,o,a)))return i});return!!r};k.contains=k.include=function(e,t){if(e==null)return false;if(_&&e.indexOf===_)return e.indexOf(t)!=-1;return C(e,function(e){return e===t})};k.invoke=function(e,t){var n=c.call(arguments,2);var r=k.isFunction(t);return k.map(e,function(e){return(r?t:e[t]).apply(e,n)})};k.pluck=function(e,t){return k.map(e,function(e){return e[t]})};k.where=function(e,t,n){if(k.isEmpty(t))return n?null:[];return k[n?"find":"filter"](e,function(e){for(var n in t){if(t[n]!==e[n])return false}return true})};k.findWhere=function(e,t){return k.where(e,t,true)};k.max=function(e,t,n){if(!t&&k.isArray(e)&&e[0]===+e[0]&&e.length<65535){return Math.max.apply(Math,e)}if(!t&&k.isEmpty(e))return-Infinity;var r={"computed":-Infinity,"value":-Infinity};q(e,function(e,i,o){var a=t?t.call(n,e,i,o):e;a>=r.computed&&(r={"value":e,"computed":a})});return r.value};k.min=function(e,t,n){if(!t&&k.isArray(e)&&e[0]===+e[0]&&e.length<65535){return Math.min.apply(Math,e)}if(!t&&k.isEmpty(e))return Infinity;var r={"computed":Infinity,"value":Infinity};q(e,function(e,i,o){var a=t?t.call(n,e,i,o):e;a<r.computed&&(r={"value":e,"computed":a})});return r.value};k.shuffle=function(e){var t;var n=0;var r=[];q(e,function(e){t=k.random(n++);r[n-1]=r[t];r[t]=e});return r};var D=function(e){return k.isFunction(e)?e:function(t){return t[e]}};k.sortBy=function(e,t,n){var r=D(t);return k.pluck(k.map(e,function(e,t,i){return{"value":e,"index":t,"criteria":r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria;var r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index<t.index?-1:1}),"value")};var O=function(e,t,n,r){var i={};var o=D(t||k.identity);q(e,function(t,a){var s=o.call(n,t,a,e);r(i,s,t)});return i};k.groupBy=function(e,t,n){return O(e,t,n,function(e,t,n){(k.has(e,t)?e[t]:e[t]=[]).push(n)})};k.countBy=function(e,t,n){return O(e,t,n,function(e,t){if(!k.has(e,t))e[t]=0;e[t]++})};k.sortedIndex=function(e,t,n,r){n=n==null?k.identity:D(n);var i=n.call(r,t);var o=0,a=e.length;while(o<a){var s=o+a>>>1;n.call(r,e[s])<i?o=s+1:a=s}return o};k.toArray=function(e){if(!e)return[];if(k.isArray(e))return c.call(e);if(e.length===+e.length)return k.map(e,k.identity);return k.values(e)};k.size=function(e){if(e==null)return 0;return e.length===+e.length?e.length:k.keys(e).length};k.first=k.head=k.take=function(e,t,n){if(e==null)return void 0;return t!=null&&!n?c.call(e,0,t):e[0]};k.initial=function(e,t,n){return c.call(e,0,e.length-(t==null||n?1:t))};k.last=function(e,t,n){if(e==null)return void 0;if(t!=null&&!n){return c.call(e,Math.max(e.length-t,0))}else{return e[e.length-1]}};k.rest=k.tail=k.drop=function(e,t,n){return c.call(e,t==null||n?1:t)};k.compact=function(e){return k.filter(e,k.identity)};var j=function(e,t,n){q(e,function(e){if(k.isArray(e)){t?u.apply(n,e):j(e,t,n)}else{n.push(e)}});return n};k.flatten=function(e,t){return j(e,t,[])};k.without=function(e){return k.difference(e,c.call(arguments,1))};k.uniq=k.unique=function(e,t,n,r){if(k.isFunction(t)){r=n;n=t;t=false}var i=n?k.map(e,n,r):e;var o=[];var a=[];q(i,function(n,r){if(t?!r||a[a.length-1]!==n:!k.contains(a,n)){a.push(n);o.push(e[r])}});return o};k.union=function(){return k.uniq(l.apply(o,arguments))};k.intersection=function(e){var t=c.call(arguments,1);return k.filter(k.uniq(e),function(e){return k.every(t,function(t){return k.indexOf(t,e)>=0})})};k.difference=function(e){var t=l.apply(o,c.call(arguments,1));return k.filter(e,function(e){return!k.contains(t,e)})};k.zip=function(){var e=c.call(arguments);var t=k.max(k.pluck(e,"length"));var n=new Array(t);for(var r=0;r<t;r++){n[r]=k.pluck(e,""+r)}return n};k.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++){if(t){n[e[r]]=t[r]}else{n[e[r][0]]=e[r][1]}}return n};k.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n=="number"){r=n<0?Math.max(0,i+n):n}else{r=k.sortedIndex(e,t);return e[r]===t?r:-1}}if(_&&e.indexOf===_)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1};k.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(w&&e.lastIndexOf===w){return r?e.lastIndexOf(t,n):e.lastIndexOf(t)}var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1};k.range=function(e,t,n){if(arguments.length<=1){t=e||0;e=0}n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0);var i=0;var o=new Array(r);while(i<r){o[i++]=e;e+=n}return o};k.bind=function(e,t){if(e.bind===A&&A)return A.apply(e,c.call(arguments,1));var n=c.call(arguments,2);return function(){return e.apply(t,n.concat(c.call(arguments)))}};k.partial=function(e){var t=c.call(arguments,1);return function(){return e.apply(this,t.concat(c.call(arguments)))}};k.bindAll=function(e){var t=c.call(arguments,1);if(t.length===0)t=k.functions(e);q(t,function(t){e[t]=k.bind(e[t],e)});return e};k.memoize=function(e,t){var n={};t||(t=k.identity);return function(){var r=t.apply(this,arguments);return k.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}};k.delay=function(e,t){var n=c.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)};k.defer=function(e){return k.delay.apply(k,[e,1].concat(c.call(arguments,1)))};k.throttle=function(e,t){var n,r,i,o;var a=0;var s=function(){a=new Date;i=null;o=e.apply(n,r)};return function(){var u=new Date;var c=t-(u-a);n=this;r=arguments;if(c<=0){clearTimeout(i);i=null;a=u;o=e.apply(n,r)}else if(!i){i=setTimeout(s,c)}return o}};k.debounce=function(e,t,n){var r,i;return function(){var o=this,a=arguments;var s=function(){r=null;if(!n)i=e.apply(o,a)};var u=n&&!r;clearTimeout(r);r=setTimeout(s,t);if(u)i=e.apply(o,a);return i}};k.once=function(e){var t=false,n;return function(){if(t)return n;t=true;n=e.apply(this,arguments);e=null;return n}};k.wrap=function(e,t){return function(){var n=[e];u.apply(n,arguments);return t.apply(this,n)}};k.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--){t=[e[n].apply(this,t)]}return t[0]}};k.after=function(e,t){if(e<=0)return t();return function(){if(--e<1){return t.apply(this,arguments)}}};k.keys=E||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)if(k.has(e,n))t[t.length]=n;return t};k.values=function(e){var t=[];for(var n in e)if(k.has(e,n))t.push(e[n]);return t};k.pairs=function(e){var t=[];for(var n in e)if(k.has(e,n))t.push([n,e[n]]);return t};k.invert=function(e){var t={};for(var n in e)if(k.has(e,n))t[e[n]]=n;return t};k.functions=k.methods=function(e){var t=[];for(var n in e){if(k.isFunction(e[n]))t.push(n)}return t.sort()};k.extend=function(e){q(c.call(arguments,1),function(t){if(t){for(var n in t){e[n]=t[n]}}});return e};k.pick=function(e){var t={};var n=l.apply(o,c.call(arguments,1));q(n,function(n){if(n in e)t[n]=e[n]});return t};k.omit=function(e){var t={};var n=l.apply(o,c.call(arguments,1));for(var r in e){if(!k.contains(n,r))t[r]=e[r]}return t};k.defaults=function(e){q(c.call(arguments,1),function(t){if(t){for(var n in t){if(e[n]==null)e[n]=t[n]}}});return e};k.clone=function(e){if(!k.isObject(e))return e;return k.isArray(e)?e.slice():k.extend({},e)};k.tap=function(e,t){t(e);return e};var T=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;if(e instanceof k)e=e._wrapped;if(t instanceof k)t=t._wrapped;var i=f.call(e);if(i!=f.call(t))return false;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return false;var o=n.length;while(o--){if(n[o]==e)return r[o]==t}n.push(e);r.push(t);var a=0,s=true;if(i=="[object Array]"){a=e.length;s=a==t.length;if(s){while(a--){if(!(s=T(e[a],t[a],n,r)))break}}}else{var u=e.constructor,c=t.constructor;if(u!==c&&!(k.isFunction(u)&&u instanceof u&&k.isFunction(c)&&c instanceof c)){return false}for(var l in e){if(k.has(e,l)){a++;if(!(s=k.has(t,l)&&T(e[l],t[l],n,r)))break}}if(s){for(l in t){if(k.has(t,l)&&!a--)break}s=!a}}n.pop();r.pop();return s};k.isEqual=function(e,t){return T(e,t,[],[])};k.isEmpty=function(e){if(e==null)return true;if(k.isArray(e)||k.isString(e))return e.length===0;for(var t in e)if(k.has(e,t))return false;return true};k.isElement=function(e){return!!(e&&e.nodeType===1)};k.isArray=x||function(e){return f.call(e)=="[object Array]"};k.isObject=function(e){return e===Object(e)};q(["Arguments","Function","String","Number","Date","RegExp"],function(e){k["is"+e]=function(t){return f.call(t)=="[object "+e+"]"
}});if(!k.isArguments(arguments)){k.isArguments=function(e){return!!(e&&k.has(e,"callee"))}}if(typeof/./!=="function"){k.isFunction=function(e){return typeof e==="function"}}k.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))};k.isNaN=function(e){return k.isNumber(e)&&e!=+e};k.isBoolean=function(e){return e===true||e===false||f.call(e)=="[object Boolean]"};k.isNull=function(e){return e===null};k.isUndefined=function(e){return e===void 0};k.has=function(e,t){return p.call(e,t)};k.noConflict=function(){e._=r;return this};k.identity=function(e){return e};k.times=function(e,t,n){var r=Array(e);for(var i=0;i<e;i++)r[i]=t.call(n,i);return r};k.random=function(e,t){if(t==null){t=e;e=0}return e+Math.floor(Math.random()*(t-e+1))};var N={"escape":{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};N.unescape=k.invert(N.escape);var B={"escape":new RegExp("["+k.keys(N.escape).join("")+"]","g"),"unescape":new RegExp("("+k.keys(N.unescape).join("|")+")","g")};k.each(["escape","unescape"],function(e){k[e]=function(t){if(t==null)return"";return(""+t).replace(B[e],function(t){return N[e][t]})}});k.result=function(e,t){if(e==null)return null;var n=e[t];return k.isFunction(n)?n.call(e):n};k.mixin=function(e){q(k.functions(e),function(t){var n=k[t]=e[t];k.prototype[t]=function(){var e=[this._wrapped];u.apply(e,arguments);return P.call(this,n.apply(k,e))}})};var L=0;k.uniqueId=function(e){var t=++L+"";return e?e+t:t};k.templateSettings={"evaluate":/<%([\s\S]+?)%>/g,"interpolate":/<%=([\s\S]+?)%>/g,"escape":/<%-([\s\S]+?)%>/g};var R=/(.)^/;var F={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"};var I=/\\|'|\r|\n|\t|\u2028|\u2029/g;k.template=function(e,t,n){var r;n=k.defaults({},n,k.templateSettings);var i=new RegExp([(n.escape||R).source,(n.interpolate||R).source,(n.evaluate||R).source].join("|")+"|$","g");var o=0;var a="__p+='";e.replace(i,function(t,n,r,i,s){a+=e.slice(o,s).replace(I,function(e){return"\\"+F[e]});if(n){a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"}if(r){a+="'+\n((__t=("+r+"))==null?'':__t)+\n'"}if(i){a+="';\n"+i+"\n__p+='"}o=s+t.length;return t});a+="';\n";if(!n.variable)a="with(obj||{}){\n"+a+"}\n";a="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(n.variable||"obj","_",a)}catch(s){s.source=a;throw s}if(t)return r(t,k);var u=function(e){return r.call(this,e,k)};u.source="function("+(n.variable||"obj")+"){\n"+a+"}";return u};k.chain=function(e){return k(e).chain()};var P=function(e){return this._chain?k(e).chain():e};k.mixin(k);q(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=o[e];k.prototype[e]=function(){var n=this._wrapped;t.apply(n,arguments);if((e=="shift"||e=="splice")&&n.length===0)delete n[0];return P.call(this,n)}});q(["concat","join","slice"],function(e){var t=o[e];k.prototype[e]=function(){return P.call(this,t.apply(this._wrapped,arguments))}});k.extend(k.prototype,{"chain":function(){this._chain=true;return this},"value":function(){return this._wrapped}})}).call(this)},{}],"31":[function(e,t,n){var r=e("bindable"),i=e("nofactor");function o(e){if(!e)e={};o.parent.call(this,this);this.setProperties(e);this.nodeFactory=e.nodeFactory||i["default"];this.models=new r.Object;this._registerPlugins();var t=this}t.exports=r.Object.extend(o,{"plugins":[],"_registerPlugins":function(){var e=this,t=[];while(e){t.push(e.plugins||[]);e=e.constructor.__super__}for(var n=t.length;n--;){this.use.apply(this,t[n])}this.registerPlugins()},"registerPlugins":function(){},"willInitialize":function(){},"didInitialize":function(){},"use":function(){for(var e=0,t=arguments.length;e<t;e++){arguments[e](this)}return this},"initialize":function(){if(this._initialized)throw new Error("cannot initialize application more than once");this._initialized=true;var e=Array.prototype.slice.call(arguments,0);this.willInitialize.apply(this,e);this.emit.apply(this,["initialize"].concat(e));this.didInitialize.apply(this,e)}});t.exports.main=new o},{"bindable":22,"nofactor":35}],"32":[function(e,t,n){var r=e("protoclass");function i(){}r(i,{"createElement":function(e){},"createFragment":function(){},"createComment":function(e){},"createTextNode":function(e){},"parseHtml":function(e){}});t.exports=i},{"protoclass":54}],"33":[function(e,t,n){var r=e("./base"),i=e("factories");function o(e,t){r.call(this);this._mainFactory=e;if(!e){throw new Error("main factory must be provided. User string, or dom")}this._factories={"element":{}};if(t){for(var n in t){this.registerElement(n,t[n])}}}r.extend(o,{"registerElement":function(e,t){this._factories.element[e]=i.factory.create(t);return this},"createElement":function(e){var t=this._factories.element[e];if(t)return t.create(e);return this._mainFactory.createElement(e)},"createComment":function(e){return this._mainFactory.createComment(e)},"createTextNode":function(e){return this._mainFactory.createTextNode(e)},"createFragment":function(){return this._mainFactory.createFragment.apply(this._mainFactory,arguments)},"parseHtml":function(e){return this._mainFactory.parseHtml(e)}});t.exports=function(e,t){return new o(e,t)}},{"./base":32,"factories":51}],"34":[function(e,t,n){var r=e("./base");function i(){}r.extend(i,{"name":"dom","createElement":function(e){return document.createElement(e)},"createComment":function(e){return document.createComment(e)},"createTextNode":function(e){return document.createTextNode(e)},"createFragment":function(e){if(!e)e=[];var t=document.createDocumentFragment();var n=[];for(var r=0,i=e.length;r<i;r++){n.push(e[r])}for(var o=0,a=n.length;o<a;o++){t.appendChild(n[o])}return t}});t.exports=new i},{"./base":32}],"35":[function(e,t,n){t.exports={"string":e("./string"),"dom":e("./dom"),"custom":e("./custom")};t.exports["default"]=typeof window!=="undefined"?t.exports.dom:t.exports.custom(t.exports.string,t.exports.string.voidElements);if(typeof window!=="undefined"){window.nofactor=t.exports}},{"./custom":33,"./dom":34,"./string":40}],"36":[function(e,t,n){var r=e("./text");function i(){i.superclass.apply(this,arguments)}r.extend(i,{"nodeType":8,"getInnerHTML":function(){return"<!--"+i.__super__.getInnerHTML.call(this)+"-->"},"cloneNode":function(){var e=new i(this.nodeValue);e._buffer=this._buffer;return e}});t.exports=i},{"./text":43}],"37":[function(e,t,n){var r=e("./node");function i(){this.childNodes=[]}r.extend(i,{"appendChild":function(e){if(e.nodeType===11&&e.childNodes.length){while(e.childNodes.length){this.appendChild(e.childNodes[0])}return}if(e===this)return;this._unlink(e);this.childNodes.push(e);this._link(e);this._triggerChange()},"prependChild":function(e){if(!this.childNodes.length){this.appendChild(e)}else{this.insertBefore(e,this.childNodes[0])}},"removeChild":function(e){var t=this.childNodes.indexOf(e);if(!~t)return;this.childNodes.splice(t,1);if(e.previousSibling)e.previousSibling.nextSibling=e.nextSibling;if(e.nextSibling)e.nextSibling.previousSibling=e.previousSibling;e.parentNode=void 0;e.nextSibling=void 0;e.previousSibling=void 0;this._triggerChange()},"insertBefore":function(e,t){if(e.nodeType===11){var t,n;for(var r=e.childNodes.length;r--;){this.insertBefore(n=e.childNodes[r],t);t=n}}if(e==t||e===this){return}if(e)this._unlink(e);var i=this.childNodes.indexOf(t);if(typeof i==="undefined")return;if(!~i)return;this.childNodes.splice(i,0,e);if(e)this._link(e);this._triggerChange()},"_unlink":function(e){if(e.parentNode){e.parentNode.removeChild(e)}},"_link":function(e){if(!e.__isNode){throw new Error("cannot append non-node")}e.parentNode=this;var t=this.childNodes.indexOf(e);if(t!==0)e.previousSibling=this.childNodes[t-1];if(t!=this.childNodes.length-1)e.nextSibling=this.childNodes[t+1];if(e.previousSibling)e.previousSibling.nextSibling=e;if(e.nextSibling)e.nextSibling.previousSibling=e}});t.exports=i},{"./node":41}],"38":[function(e,t,n){var r=e("./container"),i=e("./style");function o(e){o.superclass.call(this);this.nodeName=e.toUpperCase();this._name=e.toLowerCase();this.attributes=[];this._attrsByKey={};this.style=new i(this)}r.extend(o,{"nodeType":3,"setAttribute":function(e,t){e=e.toLowerCase();if(e==="style"){return this.style.reset(t)}if(t==undefined){return this.removeAttribute(e)}var n,r;if(!(n=this._attrsByKey[e])){this.attributes.push(n=this._attrsByKey[e]={})}r=n.value!=t;n.name=e;n.value=t;if(r)this._triggerChange()},"removeAttribute":function(e){var t;for(var n=this.attributes.length;n--;){var r=this.attributes[n];if(r.name==e){t=true;this.attributes.splice(n,1);delete this._attrsByKey[e];break}}if(t)this._triggerChange()},"getAttribute":function(e){var t;if(t=this._attrsByKey[e])return t.value},"getInnerHTML":function(){var e="<"+this._name,t="",n;for(var r in this._attrsByKey){var i=this._attrsByKey[r].value;n=r;if(r!=undefined){n+='="'+i+'"'}t+=" "+n}if(this.style.hasStyles()){t+=" style="+'"'+this.style.toString()+'"'}if(t.length){e+=t}return e+">"+this.childNodes.join("")+"</"+this._name+">"},"cloneNode":function(){var e=new o(this.nodeName);for(var t in this._attrsByKey){e.setAttribute(t,this._attrsByKey[t].value)}e.setAttribute("style",this.style.toString());for(var n=0,r=this.childNodes.length;n<r;n++){e.appendChild(this.childNodes[n].cloneNode())}e._buffer=this._buffer;return e}});t.exports=o},{"./container":37,"./style":42}],"39":[function(e,t,n){var r=e("./container");function i(){i.superclass.call(this)}r.extend(i,{"nodeType":11,"getInnerHTML":function(){return this.childNodes.join("")},"cloneNode":function(){var e=new i;for(var t=0,n=this.childNodes.length;t<n;t++){e.appendChild(this.childNodes[t].cloneNode())}e._buffer=this._buffer;return e}});t.exports=i},{"./container":37}],"40":[function(e,t,n){var r=e("../base"),i=e("./element"),o=e("./fragment"),a=e("./text"),s=e("./comment"),u=e("./container"),c=e("./voidElements");function l(e){this.context=e}r.extend(l,{"name":"string","createElement":function(e){return new i(e)},"createTextNode":function(e,t){return new a(e,t)},"createComment":function(e){return new s(e)},"createFragment":function(e){if(!e)e=[];var t=new o,n=Array.prototype.slice.call(e,0);for(var r=0,i=n.length;r<i;r++){t.appendChild(n[r])}return t},"parseHtml":function(e){return this.createTextNode(e)}});t.exports=new l;t.exports.Element=i;t.exports.Fragment=o;t.exports.Text=a;t.exports.Container=u;t.exports.voidElements=c},{"../base":32,"./comment":36,"./container":37,"./element":38,"./fragment":39,"./text":43,"./voidElements":44}],"41":[function(e,t,n){var r=e("protoclass");function i(){}r(i,{"__isNode":true,"toString":function(){if(this._innerHTML)return this._innerHTML;return this._innerHTML=this.getInnerHTML()},"_triggerChange":function(){if(!this._innerHTML)return;this._innerHTML=void 0;if(this.parentNode)this.parentNode._triggerChange()}});t.exports=i},{"protoclass":54}],"42":[function(e,t,n){var r=e("protoclass");function i(e){this._element=e}r(i,{"_hasStyle":false,"setProperty":function(e,t){var n=t===""||t==void 0?void 0:t;if(this[e]===n)return;this[e]=t;this._element._triggerChange()},"setProperties":function(e){for(var t in e){this.setProperty(t,e[t])}},"reset":function(e){var t=e.split(/;\s*/),n=false;for(var r=0,i=t.length;r<i;r++){var o=t[r].split(/:\s*/),a=o[0],s=o[1];if(s==void 0||s==""){continue}n=n||this[a]===s;this[a]=s}if(n)this._element._triggerChange()},"toString":function(){var e="",t=this.getStyles();for(var n in t){e+=n+":"+t[n]+";"}return e},"hasStyles":function(){if(this._hasStyle)return true;for(var e in this){if(e.substr(0,1)!=="_"&&this[e]!=undefined&&this.constructor.prototype[e]==undefined){return this._hasStyle=true}}return false},"getStyles":function(){var e={};for(var t in this){var n=this[t];if(t.substr(0,1)!=="_"&&n!==""&&this[t]!=void 0&&this.constructor.prototype[t]==undefined){e[t]=this[t]}}return e}});t.exports=i},{"protoclass":54}],"43":[function(e,t,n){var r=e("./node"),i=e("he");function o(e,t){this.replaceText(e,t)}r.extend(o,{"nodeType":3,"getInnerHTML":function(){return this.nodeValue},"cloneNode":function(){var e=new o(this.nodeValue);e._buffer=this._buffer;return e},"replaceText":function(e,t){this.nodeValue=t?i.encode(String(e)):e;this._triggerChange()}});t.exports=o},{"./node":41,"he":53}],"44":[function(e,t,n){var r=e("./element");function i(){r.apply(this,arguments)}r.extend(i,{"getInnerHTML":function(){return r.prototype.getInnerHTML.call(this).replace("></"+this._name+">",">")},"cloneNode":function(){var e=new i(this._name);for(var t in this._attrsByKey){e.setAttribute(t,this._attrsByKey[t].value)}e.setAttribute("style",this.style.toString());e._buffer=this._buffer;return e}});["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track"].forEach(function(e){n[e]=i})},{"./element":38}],"45":[function(e,t,n){(function(){var n,r,i={}.hasOwnProperty,o=function(e,t){for(var n in t){if(i.call(t,n))e[n]=t[n]}function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r;e.__super__=t.prototype;return e};r=e("./factory");n=function(e){o(t,e);function t(e){if(e==null){e=[]}this.factories=e.map(r.create)}t.prototype.test=function(e){return!!this._getFactory(e)};t.prototype.push=function(e){return this.factories.push(r.create(e))};t.prototype.create=function(e){var t;return(t=this._getFactory(e))!=null?t.create(e):void 0};t.prototype._getFactory=function(e){var t,n,r,i;i=this.factories;for(n=0,r=i.length;n<r;n++){t=i[n];if(t.test(e)){return t}}};return t}(e("./base"));t.exports=function(e){return new n(e)}}).call(this)},{"./base":46,"./factory":48}],"46":[function(e,t,n){(function(){var e;e=function(){function e(){}e.prototype.create=function(e){};e.prototype.test=function(e){};return e}();t.exports=e}).call(this)},{}],"47":[function(e,t,n){(function(){var n,r={}.hasOwnProperty,i=function(e,t){for(var n in t){if(r.call(t,n))e[n]=t[n]}function i(){this.constructor=e}i.prototype=t.prototype;e.prototype=new i;e.__super__=t.prototype;return e};n=function(e){i(t,e);function t(e){this.clazz=e}t.prototype.create=function(e){return new this.clazz(e)};t.prototype.test=function(e){return this.clazz.test(e)};return t}(e("./base"));t.exports=function(e){return new n(e)}}).call(this)},{"./base":46}],"48":[function(e,t,n){(function(){var n,r,i,o,a,s={}.hasOwnProperty,u=function(e,t){for(var n in t){if(s.call(t,n))e[n]=t[n]}function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r;e.__super__=t.prototype;return e};n=e("./class");a=e("type-component");i=e("./fn");r=function(e){u(t,e);function t(){}t.prototype.create=function(e){var t;if(e.create&&e.test){return e}else if((t=a(e))==="function"){if(e.prototype.constructor){return new n(e)}else{return new i(e)}}return e};return t}(e("./base"));o=new r;t.exports=o}).call(this)},{"./base":46,"./class":47,"./fn":49,"type-component":52}],"49":[function(e,t,n){(function(){var e;e=function(){function e(e){this.fn=e}e.prototype.test=function(e){return this.fn.test(e)};e.prototype.create=function(e){return this.fn(e)};return e}();t.exports=function(t){return new e(t)}}).call(this)},{}],"50":[function(e,t,n){(function(){var n,r,i={}.hasOwnProperty,o=function(e,t){for(var n in t){if(i.call(t,n))e[n]=t[n]}function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r;e.__super__=t.prototype;return e};r=e("./factory");n=function(e){o(t,e);function t(e,t,n){if(e==null){e=[]}if(t==null){t=[]}this.groupClass=n;this.mandatory=e.map(r.create);this.optional=t.map(r.create)}t.prototype.test=function(e){return!!this._getFactories(e,this.mandatory).length};t.prototype.create=function(e){var t,n,r,i,o,a,s,u;n=[];s=this._getFactories(e,this.mandatory);for(r=0,o=s.length;r<o;r++){t=s[r];n.push(t.create(e))}u=this._getFactories(e,this.optional);for(i=0,a=u.length;i<a;i++){t=u[i];n.push(t.create(e))}if(n.length===1){return n[0]}return new this.groupClass(e,n)};t.prototype._getFactories=function(e,t){var n,r,i,o;n=[];for(i=0,o=t.length;i<o;i++){r=t[i];if(r.test(e)){n.push(r)}}return n};return t}(e("./base"));t.exports=function(e,t,r){return new n(e,t,r)}}).call(this)},{"./base":46,"./factory":48}],"51":[function(e,t,n){(function(){t.exports={"any":e("./any"),"class":e("./class"),"factory":e("./factory"),"fn":e("./fn"),"group":e("./group")}}).call(this)},{"./any":45,"./class":47,"./factory":48,"./fn":49,"./group":50}],"52":[function(e,t,n){var r=Object.prototype.toString;t.exports=function(e){switch(r.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array"}if(e===null)return"null";if(e===undefined)return"undefined";if(e===Object(e))return"object";return typeof e}},{}],"53":[function(e,t,n){(function(e){(function(r){var i=typeof n=="object"&&n;var o=typeof t=="object"&&t&&t.exports==i&&t;var a=typeof e=="object"&&e;if(a.global===a||a.window===a){r=a}var s=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;var u=/[\x01-\x7F]/g;var c=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g;var l=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g;var f={"\xc1":"Aacute","\xe1":"aacute","\u0102":"Abreve","\u0103":"abreve","\u223e":"ac","\u223f":"acd","\u223e\u0333":"acE","\xc2":"Acirc","\xe2":"acirc","\xb4":"acute","\u0410":"Acy","\u0430":"acy","\xc6":"AElig","\xe6":"aelig","\u2061":"af","\ud835\udd04":"Afr","\ud835\udd1e":"afr","\xc0":"Agrave","\xe0":"agrave","\u2135":"aleph","\u0391":"Alpha","\u03b1":"alpha","\u0100":"Amacr","\u0101":"amacr","\u2a3f":"amalg","&":"amp","\u2a55":"andand","\u2a53":"And","\u2227":"and","\u2a5c":"andd","\u2a58":"andslope","\u2a5a":"andv","\u2220":"ang","\u29a4":"ange","\u29a8":"angmsdaa","\u29a9":"angmsdab","\u29aa":"angmsdac","\u29ab":"angmsdad","\u29ac":"angmsdae","\u29ad":"angmsdaf","\u29ae":"angmsdag","\u29af":"angmsdah","\u2221":"angmsd","\u221f":"angrt","\u22be":"angrtvb","\u299d":"angrtvbd","\u2222":"angsph","\xc5":"angst","\u237c":"angzarr","\u0104":"Aogon","\u0105":"aogon","\ud835\udd38":"Aopf","\ud835\udd52":"aopf","\u2a6f":"apacir","\u2248":"ap","\u2a70":"apE","\u224a":"ape","\u224b":"apid","'":"apos","\xe5":"aring","\ud835\udc9c":"Ascr","\ud835\udcb6":"ascr","\u2254":"colone","*":"ast","\u224d":"CupCap","\xc3":"Atilde","\xe3":"atilde","\xc4":"Auml","\xe4":"auml","\u2233":"awconint","\u2a11":"awint","\u224c":"bcong","\u03f6":"bepsi","\u2035":"bprime","\u223d":"bsim","\u22cd":"bsime","\u2216":"setmn","\u2ae7":"Barv","\u22bd":"barvee","\u2305":"barwed","\u2306":"Barwed","\u23b5":"bbrk","\u23b6":"bbrktbrk","\u0411":"Bcy","\u0431":"bcy","\u201e":"bdquo","\u2235":"becaus","\u29b0":"bemptyv","\u212c":"Bscr","\u0392":"Beta","\u03b2":"beta","\u2136":"beth","\u226c":"twixt","\ud835\udd05":"Bfr","\ud835\udd1f":"bfr","\u22c2":"xcap","\u25ef":"xcirc","\u22c3":"xcup","\u2a00":"xodot","\u2a01":"xoplus","\u2a02":"xotime","\u2a06":"xsqcup","\u2605":"starf","\u25bd":"xdtri","\u25b3":"xutri","\u2a04":"xuplus","\u22c1":"Vee","\u22c0":"Wedge","\u290d":"rbarr","\u29eb":"lozf","\u25aa":"squf","\u25b4":"utrif","\u25be":"dtrif","\u25c2":"ltrif","\u25b8":"rtrif","\u2423":"blank","\u2592":"blk12","\u2591":"blk14","\u2593":"blk34","\u2588":"block","=\u20e5":"bne","\u2261\u20e5":"bnequiv","\u2aed":"bNot","\u2310":"bnot","\ud835\udd39":"Bopf","\ud835\udd53":"bopf","\u22a5":"bot","\u22c8":"bowtie","\u29c9":"boxbox","\u2510":"boxdl","\u2555":"boxdL","\u2556":"boxDl","\u2557":"boxDL","\u250c":"boxdr","\u2552":"boxdR","\u2553":"boxDr","\u2554":"boxDR","\u2500":"boxh","\u2550":"boxH","\u252c":"boxhd","\u2564":"boxHd","\u2565":"boxhD","\u2566":"boxHD","\u2534":"boxhu","\u2567":"boxHu","\u2568":"boxhU","\u2569":"boxHU","\u229f":"minusb","\u229e":"plusb","\u22a0":"timesb","\u2518":"boxul","\u255b":"boxuL","\u255c":"boxUl","\u255d":"boxUL","\u2514":"boxur","\u2558":"boxuR","\u2559":"boxUr","\u255a":"boxUR","\u2502":"boxv","\u2551":"boxV","\u253c":"boxvh","\u256a":"boxvH","\u256b":"boxVh","\u256c":"boxVH","\u2524":"boxvl","\u2561":"boxvL","\u2562":"boxVl","\u2563":"boxVL","\u251c":"boxvr","\u255e":"boxvR","\u255f":"boxVr","\u2560":"boxVR","\u02d8":"breve","\xa6":"brvbar","\ud835\udcb7":"bscr","\u204f":"bsemi","\u29c5":"bsolb","\\":"bsol","\u27c8":"bsolhsub","\u2022":"bull","\u224e":"bump","\u2aae":"bumpE","\u224f":"bumpe","\u0106":"Cacute","\u0107":"cacute","\u2a44":"capand","\u2a49":"capbrcup","\u2a4b":"capcap","\u2229":"cap","\u22d2":"Cap","\u2a47":"capcup","\u2a40":"capdot","\u2145":"DD","\u2229\ufe00":"caps","\u2041":"caret","\u02c7":"caron","\u212d":"Cfr","\u2a4d":"ccaps","\u010c":"Ccaron","\u010d":"ccaron","\xc7":"Ccedil","\xe7":"ccedil","\u0108":"Ccirc","\u0109":"ccirc","\u2230":"Cconint","\u2a4c":"ccups","\u2a50":"ccupssm","\u010a":"Cdot","\u010b":"cdot","\xb8":"cedil","\u29b2":"cemptyv","\xa2":"cent","\xb7":"middot","\ud835\udd20":"cfr","\u0427":"CHcy","\u0447":"chcy","\u2713":"check","\u03a7":"Chi","\u03c7":"chi","\u02c6":"circ","\u2257":"cire","\u21ba":"olarr","\u21bb":"orarr","\u229b":"oast","\u229a":"ocir","\u229d":"odash","\u2299":"odot","\xae":"reg","\u24c8":"oS","\u2296":"ominus","\u2295":"oplus","\u2297":"otimes","\u25cb":"cir","\u29c3":"cirE","\u2a10":"cirfnint","\u2aef":"cirmid","\u29c2":"cirscir","\u2232":"cwconint","\u201d":"rdquo","\u2019":"rsquo","\u2663":"clubs",":":"colon","\u2237":"Colon","\u2a74":"Colone",",":"comma","@":"commat","\u2201":"comp","\u2218":"compfn","\u2102":"Copf","\u2245":"cong","\u2a6d":"congdot","\u2261":"equiv","\u222e":"oint","\u222f":"Conint","\ud835\udd54":"copf","\u2210":"coprod","\xa9":"copy","\u2117":"copysr","\u21b5":"crarr","\u2717":"cross","\u2a2f":"Cross","\ud835\udc9e":"Cscr","\ud835\udcb8":"cscr","\u2acf":"csub","\u2ad1":"csube","\u2ad0":"csup","\u2ad2":"csupe","\u22ef":"ctdot","\u2938":"cudarrl","\u2935":"cudarrr","\u22de":"cuepr","\u22df":"cuesc","\u21b6":"cularr","\u293d":"cularrp","\u2a48":"cupbrcap","\u2a46":"cupcap","\u222a":"cup","\u22d3":"Cup","\u2a4a":"cupcup","\u228d":"cupdot","\u2a45":"cupor","\u222a\ufe00":"cups","\u21b7":"curarr","\u293c":"curarrm","\u22ce":"cuvee","\u22cf":"cuwed","\xa4":"curren","\u2231":"cwint","\u232d":"cylcty","\u2020":"dagger","\u2021":"Dagger","\u2138":"daleth","\u2193":"darr","\u21a1":"Darr","\u21d3":"dArr","\u2010":"dash","\u2ae4":"Dashv","\u22a3":"dashv","\u290f":"rBarr","\u02dd":"dblac","\u010e":"Dcaron","\u010f":"dcaron","\u0414":"Dcy","\u0434":"dcy","\u21ca":"ddarr","\u2146":"dd","\u2911":"DDotrahd","\u2a77":"eDDot","\xb0":"deg","\u2207":"Del","\u0394":"Delta","\u03b4":"delta","\u29b1":"demptyv","\u297f":"dfisht","\ud835\udd07":"Dfr","\ud835\udd21":"dfr","\u2965":"dHar","\u21c3":"dharl","\u21c2":"dharr","\u02d9":"dot","`":"grave","\u02dc":"tilde","\u22c4":"diam","\u2666":"diams","\xa8":"die","\u03dd":"gammad","\u22f2":"disin","\xf7":"div","\u22c7":"divonx","\u0402":"DJcy","\u0452":"djcy","\u231e":"dlcorn","\u230d":"dlcrop","$":"dollar","\ud835\udd3b":"Dopf","\ud835\udd55":"dopf","\u20dc":"DotDot","\u2250":"doteq","\u2251":"eDot","\u2238":"minusd","\u2214":"plusdo","\u22a1":"sdotb","\u21d0":"lArr","\u21d4":"iff","\u27f8":"xlArr","\u27fa":"xhArr","\u27f9":"xrArr","\u21d2":"rArr","\u22a8":"vDash","\u21d1":"uArr","\u21d5":"vArr","\u2225":"par","\u2913":"DownArrowBar","\u21f5":"duarr","\u0311":"DownBreve","\u2950":"DownLeftRightVector","\u295e":"DownLeftTeeVector","\u2956":"DownLeftVectorBar","\u21bd":"lhard","\u295f":"DownRightTeeVector","\u2957":"DownRightVectorBar","\u21c1":"rhard","\u21a7":"mapstodown","\u22a4":"top","\u2910":"RBarr","\u231f":"drcorn","\u230c":"drcrop","\ud835\udc9f":"Dscr","\ud835\udcb9":"dscr","\u0405":"DScy","\u0455":"dscy","\u29f6":"dsol","\u0110":"Dstrok","\u0111":"dstrok","\u22f1":"dtdot","\u25bf":"dtri","\u296f":"duhar","\u29a6":"dwangle","\u040f":"DZcy","\u045f":"dzcy","\u27ff":"dzigrarr","\xc9":"Eacute","\xe9":"eacute","\u2a6e":"easter","\u011a":"Ecaron","\u011b":"ecaron","\xca":"Ecirc","\xea":"ecirc","\u2256":"ecir","\u2255":"ecolon","\u042d":"Ecy","\u044d":"ecy","\u0116":"Edot","\u0117":"edot","\u2147":"ee","\u2252":"efDot","\ud835\udd08":"Efr","\ud835\udd22":"efr","\u2a9a":"eg","\xc8":"Egrave","\xe8":"egrave","\u2a96":"egs","\u2a98":"egsdot","\u2a99":"el","\u2208":"in","\u23e7":"elinters","\u2113":"ell","\u2a95":"els","\u2a97":"elsdot","\u0112":"Emacr","\u0113":"emacr","\u2205":"empty","\u25fb":"EmptySmallSquare","\u25ab":"EmptyVerySmallSquare","\u2004":"emsp13","\u2005":"emsp14","\u2003":"emsp","\u014a":"ENG","\u014b":"eng","\u2002":"ensp","\u0118":"Eogon","\u0119":"eogon","\ud835\udd3c":"Eopf","\ud835\udd56":"eopf","\u22d5":"epar","\u29e3":"eparsl","\u2a71":"eplus","\u03b5":"epsi","\u0395":"Epsilon","\u03f5":"epsiv","\u2242":"esim","\u2a75":"Equal","=":"equals","\u225f":"equest","\u21cc":"rlhar","\u2a78":"equivDD","\u29e5":"eqvparsl","\u2971":"erarr","\u2253":"erDot","\u212f":"escr","\u2130":"Escr","\u2a73":"Esim","\u0397":"Eta","\u03b7":"eta","\xd0":"ETH","\xf0":"eth","\xcb":"Euml","\xeb":"euml","\u20ac":"euro","!":"excl","\u2203":"exist","\u0424":"Fcy","\u0444":"fcy","\u2640":"female","\ufb03":"ffilig","\ufb00":"fflig","\ufb04":"ffllig","\ud835\udd09":"Ffr","\ud835\udd23":"ffr","\ufb01":"filig","\u25fc":"FilledSmallSquare","fj":"fjlig","\u266d":"flat","\ufb02":"fllig","\u25b1":"fltns","\u0192":"fnof","\ud835\udd3d":"Fopf","\ud835\udd57":"fopf","\u2200":"forall","\u22d4":"fork","\u2ad9":"forkv","\u2131":"Fscr","\u2a0d":"fpartint","\xbd":"half","\u2153":"frac13","\xbc":"frac14","\u2155":"frac15","\u2159":"frac16","\u215b":"frac18","\u2154":"frac23","\u2156":"frac25","\xbe":"frac34","\u2157":"frac35","\u215c":"frac38","\u2158":"frac45","\u215a":"frac56","\u215d":"frac58","\u215e":"frac78","\u2044":"frasl","\u2322":"frown","\ud835\udcbb":"fscr","\u01f5":"gacute","\u0393":"Gamma","\u03b3":"gamma","\u03dc":"Gammad","\u2a86":"gap","\u011e":"Gbreve","\u011f":"gbreve","\u0122":"Gcedil","\u011c":"Gcirc","\u011d":"gcirc","\u0413":"Gcy","\u0433":"gcy","\u0120":"Gdot","\u0121":"gdot","\u2265":"ge","\u2267":"gE","\u2a8c":"gEl","\u22db":"gel","\u2a7e":"ges","\u2aa9":"gescc","\u2a80":"gesdot","\u2a82":"gesdoto","\u2a84":"gesdotol","\u22db\ufe00":"gesl","\u2a94":"gesles","\ud835\udd0a":"Gfr","\ud835\udd24":"gfr","\u226b":"gg","\u22d9":"Gg","\u2137":"gimel","\u0403":"GJcy","\u0453":"gjcy","\u2aa5":"gla","\u2277":"gl","\u2a92":"glE","\u2aa4":"glj","\u2a8a":"gnap","\u2a88":"gne","\u2269":"gnE","\u22e7":"gnsim","\ud835\udd3e":"Gopf","\ud835\udd58":"gopf","\u2aa2":"GreaterGreater","\u2273":"gsim","\ud835\udca2":"Gscr","\u210a":"gscr","\u2a8e":"gsime","\u2a90":"gsiml","\u2aa7":"gtcc","\u2a7a":"gtcir",">":"gt","\u22d7":"gtdot","\u2995":"gtlPar","\u2a7c":"gtquest","\u2978":"gtrarr","\u2269\ufe00":"gvnE","\u200a":"hairsp","\u210b":"Hscr","\u042a":"HARDcy","\u044a":"hardcy","\u2948":"harrcir","\u2194":"harr","\u21ad":"harrw","^":"Hat","\u210f":"hbar","\u0124":"Hcirc","\u0125":"hcirc","\u2665":"hearts","\u2026":"mldr","\u22b9":"hercon","\ud835\udd25":"hfr","\u210c":"Hfr","\u2925":"searhk","\u2926":"swarhk","\u21ff":"hoarr","\u223b":"homtht","\u21a9":"larrhk","\u21aa":"rarrhk","\ud835\udd59":"hopf","\u210d":"Hopf","\u2015":"horbar","\ud835\udcbd":"hscr","\u0126":"Hstrok","\u0127":"hstrok","\u2043":"hybull","\xcd":"Iacute","\xed":"iacute","\u2063":"ic","\xce":"Icirc","\xee":"icirc","\u0418":"Icy","\u0438":"icy","\u0130":"Idot","\u0415":"IEcy","\u0435":"iecy","\xa1":"iexcl","\ud835\udd26":"ifr","\u2111":"Im","\xcc":"Igrave","\xec":"igrave","\u2148":"ii","\u2a0c":"qint","\u222d":"tint","\u29dc":"iinfin","\u2129":"iiota","\u0132":"IJlig","\u0133":"ijlig","\u012a":"Imacr","\u012b":"imacr","\u2110":"Iscr","\u0131":"imath","\u22b7":"imof","\u01b5":"imped","\u2105":"incare","\u221e":"infin","\u29dd":"infintie","\u22ba":"intcal","\u222b":"int","\u222c":"Int","\u2124":"Zopf","\u2a17":"intlarhk","\u2a3c":"iprod","\u2062":"it","\u0401":"IOcy","\u0451":"iocy","\u012e":"Iogon","\u012f":"iogon","\ud835\udd40":"Iopf","\ud835\udd5a":"iopf","\u0399":"Iota","\u03b9":"iota","\xbf":"iquest","\ud835\udcbe":"iscr","\u22f5":"isindot","\u22f9":"isinE","\u22f4":"isins","\u22f3":"isinsv","\u0128":"Itilde","\u0129":"itilde","\u0406":"Iukcy","\u0456":"iukcy","\xcf":"Iuml","\xef":"iuml","\u0134":"Jcirc","\u0135":"jcirc","\u0419":"Jcy","\u0439":"jcy","\ud835\udd0d":"Jfr","\ud835\udd27":"jfr","\u0237":"jmath","\ud835\udd41":"Jopf","\ud835\udd5b":"jopf","\ud835\udca5":"Jscr","\ud835\udcbf":"jscr","\u0408":"Jsercy","\u0458":"jsercy","\u0404":"Jukcy","\u0454":"jukcy","\u039a":"Kappa","\u03ba":"kappa","\u03f0":"kappav","\u0136":"Kcedil","\u0137":"kcedil","\u041a":"Kcy","\u043a":"kcy","\ud835\udd0e":"Kfr","\ud835\udd28":"kfr","\u0138":"kgreen","\u0425":"KHcy","\u0445":"khcy","\u040c":"KJcy","\u045c":"kjcy","\ud835\udd42":"Kopf","\ud835\udd5c":"kopf","\ud835\udca6":"Kscr","\ud835\udcc0":"kscr","\u21da":"lAarr","\u0139":"Lacute","\u013a":"lacute","\u29b4":"laemptyv","\u2112":"Lscr","\u039b":"Lambda","\u03bb":"lambda","\u27e8":"lang","\u27ea":"Lang","\u2991":"langd","\u2a85":"lap","\xab":"laquo","\u21e4":"larrb","\u291f":"larrbfs","\u2190":"larr","\u219e":"Larr","\u291d":"larrfs","\u21ab":"larrlp","\u2939":"larrpl","\u2973":"larrsim","\u21a2":"larrtl","\u2919":"latail","\u291b":"lAtail","\u2aab":"lat","\u2aad":"late","\u2aad\ufe00":"lates","\u290c":"lbarr","\u290e":"lBarr","\u2772":"lbbrk","{":"lcub","[":"lsqb","\u298b":"lbrke","\u298f":"lbrksld","\u298d":"lbrkslu","\u013d":"Lcaron","\u013e":"lcaron","\u013b":"Lcedil","\u013c":"lcedil","\u2308":"lceil","\u041b":"Lcy","\u043b":"lcy","\u2936":"ldca","\u201c":"ldquo","\u2967":"ldrdhar","\u294b":"ldrushar","\u21b2":"ldsh","\u2264":"le","\u2266":"lE","\u21c6":"lrarr","\u27e6":"lobrk","\u2961":"LeftDownTeeVector","\u2959":"LeftDownVectorBar","\u230a":"lfloor","\u21bc":"lharu","\u21c7":"llarr","\u21cb":"lrhar","\u294e":"LeftRightVector","\u21a4":"mapstoleft","\u295a":"LeftTeeVector","\u22cb":"lthree","\u29cf":"LeftTriangleBar","\u22b2":"vltri","\u22b4":"ltrie","\u2951":"LeftUpDownVector","\u2960":"LeftUpTeeVector","\u2958":"LeftUpVectorBar","\u21bf":"uharl","\u2952":"LeftVectorBar","\u2a8b":"lEg","\u22da":"leg","\u2a7d":"les","\u2aa8":"lescc","\u2a7f":"lesdot","\u2a81":"lesdoto","\u2a83":"lesdotor","\u22da\ufe00":"lesg","\u2a93":"lesges","\u22d6":"ltdot","\u2276":"lg","\u2aa1":"LessLess","\u2272":"lsim","\u297c":"lfisht","\ud835\udd0f":"Lfr","\ud835\udd29":"lfr","\u2a91":"lgE","\u2962":"lHar","\u296a":"lharul","\u2584":"lhblk","\u0409":"LJcy","\u0459":"ljcy","\u226a":"ll","\u22d8":"Ll","\u296b":"llhard","\u25fa":"lltri","\u013f":"Lmidot","\u0140":"lmidot","\u23b0":"lmoust","\u2a89":"lnap","\u2a87":"lne","\u2268":"lnE","\u22e6":"lnsim","\u27ec":"loang","\u21fd":"loarr","\u27f5":"xlarr","\u27f7":"xharr","\u27fc":"xmap","\u27f6":"xrarr","\u21ac":"rarrlp","\u2985":"lopar","\ud835\udd43":"Lopf","\ud835\udd5d":"lopf","\u2a2d":"loplus","\u2a34":"lotimes","\u2217":"lowast","_":"lowbar","\u2199":"swarr","\u2198":"searr","\u25ca":"loz","(":"lpar","\u2993":"lparlt","\u296d":"lrhard","\u200e":"lrm","\u22bf":"lrtri","\u2039":"lsaquo","\ud835\udcc1":"lscr","\u21b0":"lsh","\u2a8d":"lsime","\u2a8f":"lsimg","\u2018":"lsquo","\u201a":"sbquo","\u0141":"Lstrok","\u0142":"lstrok","\u2aa6":"ltcc","\u2a79":"ltcir","<":"lt","\u22c9":"ltimes","\u2976":"ltlarr","\u2a7b":"ltquest","\u25c3":"ltri","\u2996":"ltrPar","\u294a":"lurdshar","\u2966":"luruhar","\u2268\ufe00":"lvnE","\xaf":"macr","\u2642":"male","\u2720":"malt","\u2905":"Map","\u21a6":"map","\u21a5":"mapstoup","\u25ae":"marker","\u2a29":"mcomma","\u041c":"Mcy","\u043c":"mcy","\u2014":"mdash","\u223a":"mDDot","\u205f":"MediumSpace","\u2133":"Mscr","\ud835\udd10":"Mfr","\ud835\udd2a":"mfr","\u2127":"mho","\xb5":"micro","\u2af0":"midcir","\u2223":"mid","\u2212":"minus","\u2a2a":"minusdu","\u2213":"mp","\u2adb":"mlcp","\u22a7":"models","\ud835\udd44":"Mopf","\ud835\udd5e":"mopf","\ud835\udcc2":"mscr","\u039c":"Mu","\u03bc":"mu","\u22b8":"mumap","\u0143":"Nacute","\u0144":"nacute","\u2220\u20d2":"nang","\u2249":"nap","\u2a70\u0338":"napE","\u224b\u0338":"napid","\u0149":"napos","\u266e":"natur","\u2115":"Nopf","\xa0":"nbsp","\u224e\u0338":"nbump","\u224f\u0338":"nbumpe","\u2a43":"ncap","\u0147":"Ncaron","\u0148":"ncaron","\u0145":"Ncedil","\u0146":"ncedil","\u2247":"ncong","\u2a6d\u0338":"ncongdot","\u2a42":"ncup","\u041d":"Ncy","\u043d":"ncy","\u2013":"ndash","\u2924":"nearhk","\u2197":"nearr","\u21d7":"neArr","\u2260":"ne","\u2250\u0338":"nedot","\u200b":"ZeroWidthSpace","\u2262":"nequiv","\u2928":"toea","\u2242\u0338":"nesim","\n":"NewLine","\u2204":"nexist","\ud835\udd11":"Nfr","\ud835\udd2b":"nfr","\u2267\u0338":"ngE","\u2271":"nge","\u2a7e\u0338":"nges","\u22d9\u0338":"nGg","\u2275":"ngsim","\u226b\u20d2":"nGt","\u226f":"ngt","\u226b\u0338":"nGtv","\u21ae":"nharr","\u21ce":"nhArr","\u2af2":"nhpar","\u220b":"ni","\u22fc":"nis","\u22fa":"nisd","\u040a":"NJcy","\u045a":"njcy","\u219a":"nlarr","\u21cd":"nlArr","\u2025":"nldr","\u2266\u0338":"nlE","\u2270":"nle","\u2a7d\u0338":"nles","\u226e":"nlt","\u22d8\u0338":"nLl","\u2274":"nlsim","\u226a\u20d2":"nLt","\u22ea":"nltri","\u22ec":"nltrie","\u226a\u0338":"nLtv","\u2224":"nmid","\u2060":"NoBreak","\ud835\udd5f":"nopf","\u2aec":"Not","\xac":"not","\u226d":"NotCupCap","\u2226":"npar","\u2209":"notin","\u2279":"ntgl","\u22f5\u0338":"notindot","\u22f9\u0338":"notinE","\u22f7":"notinvb","\u22f6":"notinvc","\u29cf\u0338":"NotLeftTriangleBar","\u2278":"ntlg","\u2aa2\u0338":"NotNestedGreaterGreater","\u2aa1\u0338":"NotNestedLessLess","\u220c":"notni","\u22fe":"notnivb","\u22fd":"notnivc","\u2280":"npr","\u2aaf\u0338":"npre","\u22e0":"nprcue","\u29d0\u0338":"NotRightTriangleBar","\u22eb":"nrtri","\u22ed":"nrtrie","\u228f\u0338":"NotSquareSubset","\u22e2":"nsqsube","\u2290\u0338":"NotSquareSuperset","\u22e3":"nsqsupe","\u2282\u20d2":"vnsub","\u2288":"nsube","\u2281":"nsc","\u2ab0\u0338":"nsce","\u22e1":"nsccue","\u227f\u0338":"NotSucceedsTilde","\u2283\u20d2":"vnsup","\u2289":"nsupe","\u2241":"nsim","\u2244":"nsime","\u2afd\u20e5":"nparsl","\u2202\u0338":"npart","\u2a14":"npolint","\u2933\u0338":"nrarrc","\u219b":"nrarr","\u21cf":"nrArr","\u219d\u0338":"nrarrw","\ud835\udca9":"Nscr","\ud835\udcc3":"nscr","\u2284":"nsub","\u2ac5\u0338":"nsubE","\u2285":"nsup","\u2ac6\u0338":"nsupE","\xd1":"Ntilde","\xf1":"ntilde","\u039d":"Nu","\u03bd":"nu","#":"num","\u2116":"numero","\u2007":"numsp","\u224d\u20d2":"nvap","\u22ac":"nvdash","\u22ad":"nvDash","\u22ae":"nVdash","\u22af":"nVDash","\u2265\u20d2":"nvge",">\u20d2":"nvgt","\u2904":"nvHarr","\u29de":"nvinfin","\u2902":"nvlArr","\u2264\u20d2":"nvle","<\u20d2":"nvlt","\u22b4\u20d2":"nvltrie","\u2903":"nvrArr","\u22b5\u20d2":"nvrtrie","\u223c\u20d2":"nvsim","\u2923":"nwarhk","\u2196":"nwarr","\u21d6":"nwArr","\u2927":"nwnear","\xd3":"Oacute","\xf3":"oacute","\xd4":"Ocirc","\xf4":"ocirc","\u041e":"Ocy","\u043e":"ocy","\u0150":"Odblac","\u0151":"odblac","\u2a38":"odiv","\u29bc":"odsold","\u0152":"OElig","\u0153":"oelig","\u29bf":"ofcir","\ud835\udd12":"Ofr","\ud835\udd2c":"ofr","\u02db":"ogon","\xd2":"Ograve","\xf2":"ograve","\u29c1":"ogt","\u29b5":"ohbar","\u03a9":"ohm","\u29be":"olcir","\u29bb":"olcross","\u203e":"oline","\u29c0":"olt","\u014c":"Omacr","\u014d":"omacr","\u03c9":"omega","\u039f":"Omicron","\u03bf":"omicron","\u29b6":"omid","\ud835\udd46":"Oopf","\ud835\udd60":"oopf","\u29b7":"opar","\u29b9":"operp","\u2a54":"Or","\u2228":"or","\u2a5d":"ord","\u2134":"oscr","\xaa":"ordf","\xba":"ordm","\u22b6":"origof","\u2a56":"oror","\u2a57":"orslope","\u2a5b":"orv","\ud835\udcaa":"Oscr","\xd8":"Oslash","\xf8":"oslash","\u2298":"osol","\xd5":"Otilde","\xf5":"otilde","\u2a36":"otimesas","\u2a37":"Otimes","\xd6":"Ouml","\xf6":"ouml","\u233d":"ovbar","\u23de":"OverBrace","\u23b4":"tbrk","\u23dc":"OverParenthesis","\xb6":"para","\u2af3":"parsim","\u2afd":"parsl","\u2202":"part","\u041f":"Pcy","\u043f":"pcy","%":"percnt",".":"period","\u2030":"permil","\u2031":"pertenk","\ud835\udd13":"Pfr","\ud835\udd2d":"pfr","\u03a6":"Phi","\u03c6":"phi","\u03d5":"phiv","\u260e":"phone","\u03a0":"Pi","\u03c0":"pi","\u03d6":"piv","\u210e":"planckh","\u2a23":"plusacir","\u2a22":"pluscir","+":"plus","\u2a25":"plusdu","\u2a72":"pluse","\xb1":"pm","\u2a26":"plussim","\u2a27":"plustwo","\u2a15":"pointint","\ud835\udd61":"popf","\u2119":"Popf","\xa3":"pound","\u2ab7":"prap","\u2abb":"Pr","\u227a":"pr","\u227c":"prcue","\u2aaf":"pre","\u227e":"prsim","\u2ab9":"prnap","\u2ab5":"prnE","\u22e8":"prnsim","\u2ab3":"prE","\u2032":"prime","\u2033":"Prime","\u220f":"prod","\u232e":"profalar","\u2312":"profline","\u2313":"profsurf","\u221d":"prop","\u22b0":"prurel","\ud835\udcab":"Pscr","\ud835\udcc5":"pscr","\u03a8":"Psi","\u03c8":"psi","\u2008":"puncsp","\ud835\udd14":"Qfr","\ud835\udd2e":"qfr","\ud835\udd62":"qopf","\u211a":"Qopf","\u2057":"qprime","\ud835\udcac":"Qscr","\ud835\udcc6":"qscr","\u2a16":"quatint","?":"quest",'"':"quot","\u21db":"rAarr","\u223d\u0331":"race","\u0154":"Racute","\u0155":"racute","\u221a":"Sqrt","\u29b3":"raemptyv","\u27e9":"rang","\u27eb":"Rang","\u2992":"rangd","\u29a5":"range","\xbb":"raquo","\u2975":"rarrap","\u21e5":"rarrb","\u2920":"rarrbfs","\u2933":"rarrc","\u2192":"rarr","\u21a0":"Rarr","\u291e":"rarrfs","\u2945":"rarrpl","\u2974":"rarrsim","\u2916":"Rarrtl","\u21a3":"rarrtl","\u219d":"rarrw","\u291a":"ratail","\u291c":"rAtail","\u2236":"ratio","\u2773":"rbbrk","}":"rcub","]":"rsqb","\u298c":"rbrke","\u298e":"rbrksld","\u2990":"rbrkslu","\u0158":"Rcaron","\u0159":"rcaron","\u0156":"Rcedil","\u0157":"rcedil","\u2309":"rceil","\u0420":"Rcy","\u0440":"rcy","\u2937":"rdca","\u2969":"rdldhar","\u21b3":"rdsh","\u211c":"Re","\u211b":"Rscr","\u211d":"Ropf","\u25ad":"rect","\u297d":"rfisht","\u230b":"rfloor","\ud835\udd2f":"rfr","\u2964":"rHar","\u21c0":"rharu","\u296c":"rharul","\u03a1":"Rho","\u03c1":"rho","\u03f1":"rhov","\u21c4":"rlarr","\u27e7":"robrk","\u295d":"RightDownTeeVector","\u2955":"RightDownVectorBar","\u21c9":"rrarr","\u22a2":"vdash","\u295b":"RightTeeVector","\u22cc":"rthree","\u29d0":"RightTriangleBar","\u22b3":"vrtri","\u22b5":"rtrie","\u294f":"RightUpDownVector","\u295c":"RightUpTeeVector","\u2954":"RightUpVectorBar","\u21be":"uharr","\u2953":"RightVectorBar","\u02da":"ring","\u200f":"rlm","\u23b1":"rmoust","\u2aee":"rnmid","\u27ed":"roang","\u21fe":"roarr","\u2986":"ropar","\ud835\udd63":"ropf","\u2a2e":"roplus","\u2a35":"rotimes","\u2970":"RoundImplies",")":"rpar","\u2994":"rpargt","\u2a12":"rppolint","\u203a":"rsaquo","\ud835\udcc7":"rscr","\u21b1":"rsh","\u22ca":"rtimes","\u25b9":"rtri","\u29ce":"rtriltri","\u29f4":"RuleDelayed","\u2968":"ruluhar","\u211e":"rx","\u015a":"Sacute","\u015b":"sacute","\u2ab8":"scap","\u0160":"Scaron","\u0161":"scaron","\u2abc":"Sc","\u227b":"sc","\u227d":"sccue","\u2ab0":"sce","\u2ab4":"scE","\u015e":"Scedil","\u015f":"scedil","\u015c":"Scirc","\u015d":"scirc","\u2aba":"scnap","\u2ab6":"scnE","\u22e9":"scnsim","\u2a13":"scpolint","\u227f":"scsim","\u0421":"Scy","\u0441":"scy","\u22c5":"sdot","\u2a66":"sdote","\u21d8":"seArr","\xa7":"sect",";":"semi","\u2929":"tosa","\u2736":"sext","\ud835\udd16":"Sfr","\ud835\udd30":"sfr","\u266f":"sharp","\u0429":"SHCHcy","\u0449":"shchcy","\u0428":"SHcy","\u0448":"shcy","\u2191":"uarr","\xad":"shy","\u03a3":"Sigma","\u03c3":"sigma","\u03c2":"sigmaf","\u223c":"sim","\u2a6a":"simdot","\u2243":"sime","\u2a9e":"simg","\u2aa0":"simgE","\u2a9d":"siml","\u2a9f":"simlE","\u2246":"simne","\u2a24":"simplus","\u2972":"simrarr","\u2a33":"smashp","\u29e4":"smeparsl","\u2323":"smile","\u2aaa":"smt","\u2aac":"smte","\u2aac\ufe00":"smtes","\u042c":"SOFTcy","\u044c":"softcy","\u233f":"solbar","\u29c4":"solb","/":"sol","\ud835\udd4a":"Sopf","\ud835\udd64":"sopf","\u2660":"spades","\u2293":"sqcap","\u2293\ufe00":"sqcaps","\u2294":"sqcup","\u2294\ufe00":"sqcups","\u228f":"sqsub","\u2291":"sqsube","\u2290":"sqsup","\u2292":"sqsupe","\u25a1":"squ","\ud835\udcae":"Sscr","\ud835\udcc8":"sscr","\u22c6":"Star","\u2606":"star","\u2282":"sub","\u22d0":"Sub","\u2abd":"subdot","\u2ac5":"subE","\u2286":"sube","\u2ac3":"subedot","\u2ac1":"submult","\u2acb":"subnE","\u228a":"subne","\u2abf":"subplus","\u2979":"subrarr","\u2ac7":"subsim","\u2ad5":"subsub","\u2ad3":"subsup","\u2211":"sum","\u266a":"sung","\xb9":"sup1","\xb2":"sup2","\xb3":"sup3","\u2283":"sup","\u22d1":"Sup","\u2abe":"supdot","\u2ad8":"supdsub","\u2ac6":"supE","\u2287":"supe","\u2ac4":"supedot","\u27c9":"suphsol","\u2ad7":"suphsub","\u297b":"suplarr","\u2ac2":"supmult","\u2acc":"supnE","\u228b":"supne","\u2ac0":"supplus","\u2ac8":"supsim","\u2ad4":"supsub","\u2ad6":"supsup","\u21d9":"swArr","\u292a":"swnwar","\xdf":"szlig","	":"Tab","\u2316":"target","\u03a4":"Tau","\u03c4":"tau","\u0164":"Tcaron","\u0165":"tcaron","\u0162":"Tcedil","\u0163":"tcedil","\u0422":"Tcy","\u0442":"tcy","\u20db":"tdot","\u2315":"telrec","\ud835\udd17":"Tfr","\ud835\udd31":"tfr","\u2234":"there4","\u0398":"Theta","\u03b8":"theta","\u03d1":"thetav","\u205f\u200a":"ThickSpace","\u2009":"thinsp","\xde":"THORN","\xfe":"thorn","\u2a31":"timesbar","\xd7":"times","\u2a30":"timesd","\u2336":"topbot","\u2af1":"topcir","\ud835\udd4b":"Topf","\ud835\udd65":"topf","\u2ada":"topfork","\u2034":"tprime","\u2122":"trade","\u25b5":"utri","\u225c":"trie","\u25ec":"tridot","\u2a3a":"triminus","\u2a39":"triplus","\u29cd":"trisb","\u2a3b":"tritime","\u23e2":"trpezium","\ud835\udcaf":"Tscr","\ud835\udcc9":"tscr","\u0426":"TScy","\u0446":"tscy","\u040b":"TSHcy","\u045b":"tshcy","\u0166":"Tstrok","\u0167":"tstrok","\xda":"Uacute","\xfa":"uacute","\u219f":"Uarr","\u2949":"Uarrocir","\u040e":"Ubrcy","\u045e":"ubrcy","\u016c":"Ubreve","\u016d":"ubreve","\xdb":"Ucirc","\xfb":"ucirc","\u0423":"Ucy","\u0443":"ucy","\u21c5":"udarr","\u0170":"Udblac","\u0171":"udblac","\u296e":"udhar","\u297e":"ufisht","\ud835\udd18":"Ufr","\ud835\udd32":"ufr","\xd9":"Ugrave","\xf9":"ugrave","\u2963":"uHar","\u2580":"uhblk","\u231c":"ulcorn","\u230f":"ulcrop","\u25f8":"ultri","\u016a":"Umacr","\u016b":"umacr","\u23df":"UnderBrace","\u23dd":"UnderParenthesis","\u228e":"uplus","\u0172":"Uogon","\u0173":"uogon","\ud835\udd4c":"Uopf","\ud835\udd66":"uopf","\u2912":"UpArrowBar","\u2195":"varr","\u03c5":"upsi","\u03d2":"Upsi","\u03a5":"Upsilon","\u21c8":"uuarr","\u231d":"urcorn","\u230e":"urcrop","\u016e":"Uring","\u016f":"uring","\u25f9":"urtri","\ud835\udcb0":"Uscr","\ud835\udcca":"uscr","\u22f0":"utdot","\u0168":"Utilde","\u0169":"utilde","\xdc":"Uuml","\xfc":"uuml","\u29a7":"uwangle","\u299c":"vangrt","\u228a\ufe00":"vsubne","\u2acb\ufe00":"vsubnE","\u228b\ufe00":"vsupne","\u2acc\ufe00":"vsupnE","\u2ae8":"vBar","\u2aeb":"Vbar","\u2ae9":"vBarv","\u0412":"Vcy","\u0432":"vcy","\u22a9":"Vdash","\u22ab":"VDash","\u2ae6":"Vdashl","\u22bb":"veebar","\u225a":"veeeq","\u22ee":"vellip","|":"vert","\u2016":"Vert","\u2758":"VerticalSeparator","\u2240":"wr","\ud835\udd19":"Vfr","\ud835\udd33":"vfr","\ud835\udd4d":"Vopf","\ud835\udd67":"vopf","\ud835\udcb1":"Vscr","\ud835\udccb":"vscr","\u22aa":"Vvdash","\u299a":"vzigzag","\u0174":"Wcirc","\u0175":"wcirc","\u2a5f":"wedbar","\u2259":"wedgeq","\u2118":"wp","\ud835\udd1a":"Wfr","\ud835\udd34":"wfr","\ud835\udd4e":"Wopf","\ud835\udd68":"wopf","\ud835\udcb2":"Wscr","\ud835\udccc":"wscr","\ud835\udd1b":"Xfr","\ud835\udd35":"xfr","\u039e":"Xi","\u03be":"xi","\u22fb":"xnis","\ud835\udd4f":"Xopf","\ud835\udd69":"xopf","\ud835\udcb3":"Xscr","\ud835\udccd":"xscr","\xdd":"Yacute","\xfd":"yacute","\u042f":"YAcy","\u044f":"yacy","\u0176":"Ycirc","\u0177":"ycirc","\u042b":"Ycy","\u044b":"ycy","\xa5":"yen","\ud835\udd1c":"Yfr","\ud835\udd36":"yfr","\u0407":"YIcy","\u0457":"yicy","\ud835\udd50":"Yopf","\ud835\udd6a":"yopf","\ud835\udcb4":"Yscr","\ud835\udcce":"yscr","\u042e":"YUcy","\u044e":"yucy","\xff":"yuml","\u0178":"Yuml","\u0179":"Zacute","\u017a":"zacute","\u017d":"Zcaron","\u017e":"zcaron","\u0417":"Zcy","\u0437":"zcy","\u017b":"Zdot","\u017c":"zdot","\u2128":"Zfr","\u0396":"Zeta","\u03b6":"zeta","\ud835\udd37":"zfr","\u0416":"ZHcy","\u0436":"zhcy","\u21dd":"zigrarr","\ud835\udd6b":"zopf","\ud835\udcb5":"Zscr","\ud835\udccf":"zscr","\u200d":"zwj","\u200c":"zwnj"};
var p=/["&'<>`]/g;var d={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"};var h=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/;var v=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/;var m=/&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+);|&(Aacute|iacute|Uacute|plusmn|otilde|Otilde|Agrave|agrave|yacute|Yacute|oslash|Oslash|Atilde|atilde|brvbar|Ccedil|ccedil|ograve|curren|divide|Eacute|eacute|Ograve|oacute|Egrave|egrave|ugrave|frac12|frac14|frac34|Ugrave|Oacute|Iacute|ntilde|Ntilde|uacute|middot|Igrave|igrave|iquest|aacute|laquo|THORN|micro|iexcl|icirc|Icirc|Acirc|ucirc|ecirc|Ocirc|ocirc|Ecirc|Ucirc|aring|Aring|aelig|AElig|acute|pound|raquo|acirc|times|thorn|szlig|cedil|COPY|Auml|ordf|ordm|uuml|macr|Uuml|auml|Ouml|ouml|para|nbsp|Euml|quot|QUOT|euml|yuml|cent|sect|copy|sup1|sup2|sup3|Iuml|iuml|shy|eth|reg|not|yen|amp|AMP|REG|uml|ETH|deg|gt|GT|LT|lt)([=a-zA-Z0-9])?/g;var g={"Aacute":"\xc1","aacute":"\xe1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223e","acd":"\u223f","acE":"\u223e\u0333","Acirc":"\xc2","acirc":"\xe2","acute":"\xb4","Acy":"\u0410","acy":"\u0430","AElig":"\xc6","aelig":"\xe6","af":"\u2061","Afr":"\ud835\udd04","afr":"\ud835\udd1e","Agrave":"\xc0","agrave":"\xe0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03b1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2a3f","amp":"&","AMP":"&","andand":"\u2a55","And":"\u2a53","and":"\u2227","andd":"\u2a5c","andslope":"\u2a58","andv":"\u2a5a","ang":"\u2220","ange":"\u29a4","angle":"\u2220","angmsdaa":"\u29a8","angmsdab":"\u29a9","angmsdac":"\u29aa","angmsdad":"\u29ab","angmsdae":"\u29ac","angmsdaf":"\u29ad","angmsdag":"\u29ae","angmsdah":"\u29af","angmsd":"\u2221","angrt":"\u221f","angrtvb":"\u22be","angrtvbd":"\u299d","angsph":"\u2222","angst":"\xc5","angzarr":"\u237c","Aogon":"\u0104","aogon":"\u0105","Aopf":"\ud835\udd38","aopf":"\ud835\udd52","apacir":"\u2a6f","ap":"\u2248","apE":"\u2a70","ape":"\u224a","apid":"\u224b","apos":"'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224a","Aring":"\xc5","aring":"\xe5","Ascr":"\ud835\udc9c","ascr":"\ud835\udcb6","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224d","Atilde":"\xc3","atilde":"\xe3","Auml":"\xc4","auml":"\xe4","awconint":"\u2233","awint":"\u2a11","backcong":"\u224c","backepsilon":"\u03f6","backprime":"\u2035","backsim":"\u223d","backsimeq":"\u22cd","Backslash":"\u2216","Barv":"\u2ae7","barvee":"\u22bd","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23b5","bbrktbrk":"\u23b6","bcong":"\u224c","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201e","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29b0","bepsi":"\u03f6","bernou":"\u212c","Bernoullis":"\u212c","Beta":"\u0392","beta":"\u03b2","beth":"\u2136","between":"\u226c","Bfr":"\ud835\udd05","bfr":"\ud835\udd1f","bigcap":"\u22c2","bigcirc":"\u25ef","bigcup":"\u22c3","bigodot":"\u2a00","bigoplus":"\u2a01","bigotimes":"\u2a02","bigsqcup":"\u2a06","bigstar":"\u2605","bigtriangledown":"\u25bd","bigtriangleup":"\u25b3","biguplus":"\u2a04","bigvee":"\u22c1","bigwedge":"\u22c0","bkarow":"\u290d","blacklozenge":"\u29eb","blacksquare":"\u25aa","blacktriangle":"\u25b4","blacktriangledown":"\u25be","blacktriangleleft":"\u25c2","blacktriangleright":"\u25b8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20e5","bnequiv":"\u2261\u20e5","bNot":"\u2aed","bnot":"\u2310","Bopf":"\ud835\udd39","bopf":"\ud835\udd53","bot":"\u22a5","bottom":"\u22a5","bowtie":"\u22c8","boxbox":"\u29c9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250c","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252c","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229f","boxplus":"\u229e","boxtimes":"\u22a0","boxul":"\u2518","boxuL":"\u255b","boxUl":"\u255c","boxUL":"\u255d","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255a","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253c","boxvH":"\u256a","boxVh":"\u256b","boxVH":"\u256c","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251c","boxvR":"\u255e","boxVr":"\u255f","boxVR":"\u2560","bprime":"\u2035","breve":"\u02d8","Breve":"\u02d8","brvbar":"\xa6","bscr":"\ud835\udcb7","Bscr":"\u212c","bsemi":"\u204f","bsim":"\u223d","bsime":"\u22cd","bsolb":"\u29c5","bsol":"\\","bsolhsub":"\u27c8","bull":"\u2022","bullet":"\u2022","bump":"\u224e","bumpE":"\u2aae","bumpe":"\u224f","Bumpeq":"\u224e","bumpeq":"\u224f","Cacute":"\u0106","cacute":"\u0107","capand":"\u2a44","capbrcup":"\u2a49","capcap":"\u2a4b","cap":"\u2229","Cap":"\u22d2","capcup":"\u2a47","capdot":"\u2a40","CapitalDifferentialD":"\u2145","caps":"\u2229\ufe00","caret":"\u2041","caron":"\u02c7","Cayleys":"\u212d","ccaps":"\u2a4d","Ccaron":"\u010c","ccaron":"\u010d","Ccedil":"\xc7","ccedil":"\xe7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2a4c","ccupssm":"\u2a50","Cdot":"\u010a","cdot":"\u010b","cedil":"\xb8","Cedilla":"\xb8","cemptyv":"\u29b2","cent":"\xa2","centerdot":"\xb7","CenterDot":"\xb7","cfr":"\ud835\udd20","Cfr":"\u212d","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03a7","chi":"\u03c7","circ":"\u02c6","circeq":"\u2257","circlearrowleft":"\u21ba","circlearrowright":"\u21bb","circledast":"\u229b","circledcirc":"\u229a","circleddash":"\u229d","CircleDot":"\u2299","circledR":"\xae","circledS":"\u24c8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25cb","cirE":"\u29c3","cire":"\u2257","cirfnint":"\u2a10","cirmid":"\u2aef","cirscir":"\u29c2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201d","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2a74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2a6d","Congruent":"\u2261","conint":"\u222e","Conint":"\u222f","ContourIntegral":"\u222e","copf":"\ud835\udd54","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xa9","COPY":"\xa9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21b5","cross":"\u2717","Cross":"\u2a2f","Cscr":"\ud835\udc9e","cscr":"\ud835\udcb8","csub":"\u2acf","csube":"\u2ad1","csup":"\u2ad0","csupe":"\u2ad2","ctdot":"\u22ef","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22de","cuesc":"\u22df","cularr":"\u21b6","cularrp":"\u293d","cupbrcap":"\u2a48","cupcap":"\u2a46","CupCap":"\u224d","cup":"\u222a","Cup":"\u22d3","cupcup":"\u2a4a","cupdot":"\u228d","cupor":"\u2a45","cups":"\u222a\ufe00","curarr":"\u21b7","curarrm":"\u293c","curlyeqprec":"\u22de","curlyeqsucc":"\u22df","curlyvee":"\u22ce","curlywedge":"\u22cf","curren":"\xa4","curvearrowleft":"\u21b6","curvearrowright":"\u21b7","cuvee":"\u22ce","cuwed":"\u22cf","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232d","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21a1","dArr":"\u21d3","dash":"\u2010","Dashv":"\u2ae4","dashv":"\u22a3","dbkarow":"\u290f","dblac":"\u02dd","Dcaron":"\u010e","dcaron":"\u010f","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21ca","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2a77","deg":"\xb0","Del":"\u2207","Delta":"\u0394","delta":"\u03b4","demptyv":"\u29b1","dfisht":"\u297f","Dfr":"\ud835\udd07","dfr":"\ud835\udd21","dHar":"\u2965","dharl":"\u21c3","dharr":"\u21c2","DiacriticalAcute":"\xb4","DiacriticalDot":"\u02d9","DiacriticalDoubleAcute":"\u02dd","DiacriticalGrave":"`","DiacriticalTilde":"\u02dc","diam":"\u22c4","diamond":"\u22c4","Diamond":"\u22c4","diamondsuit":"\u2666","diams":"\u2666","die":"\xa8","DifferentialD":"\u2146","digamma":"\u03dd","disin":"\u22f2","div":"\xf7","divide":"\xf7","divideontimes":"\u22c7","divonx":"\u22c7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231e","dlcrop":"\u230d","dollar":"$","Dopf":"\ud835\udd3b","dopf":"\ud835\udd55","Dot":"\xa8","dot":"\u02d9","DotDot":"\u20dc","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22a1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222f","DoubleDot":"\xa8","DoubleDownArrow":"\u21d3","DoubleLeftArrow":"\u21d0","DoubleLeftRightArrow":"\u21d4","DoubleLeftTee":"\u2ae4","DoubleLongLeftArrow":"\u27f8","DoubleLongLeftRightArrow":"\u27fa","DoubleLongRightArrow":"\u27f9","DoubleRightArrow":"\u21d2","DoubleRightTee":"\u22a8","DoubleUpArrow":"\u21d1","DoubleUpDownArrow":"\u21d5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21d3","DownArrowUpArrow":"\u21f5","DownBreve":"\u0311","downdownarrows":"\u21ca","downharpoonleft":"\u21c3","downharpoonright":"\u21c2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295e","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21bd","DownRightTeeVector":"\u295f","DownRightVectorBar":"\u2957","DownRightVector":"\u21c1","DownTeeArrow":"\u21a7","DownTee":"\u22a4","drbkarow":"\u2910","drcorn":"\u231f","drcrop":"\u230c","Dscr":"\ud835\udc9f","dscr":"\ud835\udcb9","DScy":"\u0405","dscy":"\u0455","dsol":"\u29f6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22f1","dtri":"\u25bf","dtrif":"\u25be","duarr":"\u21f5","duhar":"\u296f","dwangle":"\u29a6","DZcy":"\u040f","dzcy":"\u045f","dzigrarr":"\u27ff","Eacute":"\xc9","eacute":"\xe9","easter":"\u2a6e","Ecaron":"\u011a","ecaron":"\u011b","Ecirc":"\xca","ecirc":"\xea","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042d","ecy":"\u044d","eDDot":"\u2a77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\ud835\udd08","efr":"\ud835\udd22","eg":"\u2a9a","Egrave":"\xc8","egrave":"\xe8","egs":"\u2a96","egsdot":"\u2a98","el":"\u2a99","Element":"\u2208","elinters":"\u23e7","ell":"\u2113","els":"\u2a95","elsdot":"\u2a97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25fb","emptyv":"\u2205","EmptyVerySmallSquare":"\u25ab","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014a","eng":"\u014b","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\ud835\udd3c","eopf":"\ud835\udd56","epar":"\u22d5","eparsl":"\u29e3","eplus":"\u2a71","epsi":"\u03b5","Epsilon":"\u0395","epsilon":"\u03b5","epsiv":"\u03f5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2a96","eqslantless":"\u2a95","Equal":"\u2a75","equals":"=","EqualTilde":"\u2242","equest":"\u225f","Equilibrium":"\u21cc","equiv":"\u2261","equivDD":"\u2a78","eqvparsl":"\u29e5","erarr":"\u2971","erDot":"\u2253","escr":"\u212f","Escr":"\u2130","esdot":"\u2250","Esim":"\u2a73","esim":"\u2242","Eta":"\u0397","eta":"\u03b7","ETH":"\xd0","eth":"\xf0","Euml":"\xcb","euml":"\xeb","euro":"\u20ac","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\ufb03","fflig":"\ufb00","ffllig":"\ufb04","Ffr":"\ud835\udd09","ffr":"\ud835\udd23","filig":"\ufb01","FilledSmallSquare":"\u25fc","FilledVerySmallSquare":"\u25aa","fjlig":"fj","flat":"\u266d","fllig":"\ufb02","fltns":"\u25b1","fnof":"\u0192","Fopf":"\ud835\udd3d","fopf":"\ud835\udd57","forall":"\u2200","ForAll":"\u2200","fork":"\u22d4","forkv":"\u2ad9","Fouriertrf":"\u2131","fpartint":"\u2a0d","frac12":"\xbd","frac13":"\u2153","frac14":"\xbc","frac15":"\u2155","frac16":"\u2159","frac18":"\u215b","frac23":"\u2154","frac25":"\u2156","frac34":"\xbe","frac35":"\u2157","frac38":"\u215c","frac45":"\u2158","frac56":"\u215a","frac58":"\u215d","frac78":"\u215e","frasl":"\u2044","frown":"\u2322","fscr":"\ud835\udcbb","Fscr":"\u2131","gacute":"\u01f5","Gamma":"\u0393","gamma":"\u03b3","Gammad":"\u03dc","gammad":"\u03dd","gap":"\u2a86","Gbreve":"\u011e","gbreve":"\u011f","Gcedil":"\u0122","Gcirc":"\u011c","gcirc":"\u011d","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2a8c","gel":"\u22db","geq":"\u2265","geqq":"\u2267","geqslant":"\u2a7e","gescc":"\u2aa9","ges":"\u2a7e","gesdot":"\u2a80","gesdoto":"\u2a82","gesdotol":"\u2a84","gesl":"\u22db\ufe00","gesles":"\u2a94","Gfr":"\ud835\udd0a","gfr":"\ud835\udd24","gg":"\u226b","Gg":"\u22d9","ggg":"\u22d9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2aa5","gl":"\u2277","glE":"\u2a92","glj":"\u2aa4","gnap":"\u2a8a","gnapprox":"\u2a8a","gne":"\u2a88","gnE":"\u2269","gneq":"\u2a88","gneqq":"\u2269","gnsim":"\u22e7","Gopf":"\ud835\udd3e","gopf":"\ud835\udd58","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22db","GreaterFullEqual":"\u2267","GreaterGreater":"\u2aa2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2a7e","GreaterTilde":"\u2273","Gscr":"\ud835\udca2","gscr":"\u210a","gsim":"\u2273","gsime":"\u2a8e","gsiml":"\u2a90","gtcc":"\u2aa7","gtcir":"\u2a7a","gt":">","GT":">","Gt":"\u226b","gtdot":"\u22d7","gtlPar":"\u2995","gtquest":"\u2a7c","gtrapprox":"\u2a86","gtrarr":"\u2978","gtrdot":"\u22d7","gtreqless":"\u22db","gtreqqless":"\u2a8c","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\ufe00","gvnE":"\u2269\ufe00","Hacek":"\u02c7","hairsp":"\u200a","half":"\xbd","hamilt":"\u210b","HARDcy":"\u042a","hardcy":"\u044a","harrcir":"\u2948","harr":"\u2194","hArr":"\u21d4","harrw":"\u21ad","Hat":"^","hbar":"\u210f","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22b9","hfr":"\ud835\udd25","Hfr":"\u210c","HilbertSpace":"\u210b","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21ff","homtht":"\u223b","hookleftarrow":"\u21a9","hookrightarrow":"\u21aa","hopf":"\ud835\udd59","Hopf":"\u210d","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\ud835\udcbd","Hscr":"\u210b","hslash":"\u210f","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224e","HumpEqual":"\u224f","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xcd","iacute":"\xed","ic":"\u2063","Icirc":"\xce","icirc":"\xee","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xa1","iff":"\u21d4","ifr":"\ud835\udd26","Ifr":"\u2111","Igrave":"\xcc","igrave":"\xec","ii":"\u2148","iiiint":"\u2a0c","iiint":"\u222d","iinfin":"\u29dc","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012a","imacr":"\u012b","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22b7","imped":"\u01b5","Implies":"\u21d2","incare":"\u2105","in":"\u2208","infin":"\u221e","infintie":"\u29dd","inodot":"\u0131","intcal":"\u22ba","int":"\u222b","Int":"\u222c","integers":"\u2124","Integral":"\u222b","intercal":"\u22ba","Intersection":"\u22c2","intlarhk":"\u2a17","intprod":"\u2a3c","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012e","iogon":"\u012f","Iopf":"\ud835\udd40","iopf":"\ud835\udd5a","Iota":"\u0399","iota":"\u03b9","iprod":"\u2a3c","iquest":"\xbf","iscr":"\ud835\udcbe","Iscr":"\u2110","isin":"\u2208","isindot":"\u22f5","isinE":"\u22f9","isins":"\u22f4","isinsv":"\u22f3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xcf","iuml":"\xef","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\ud835\udd0d","jfr":"\ud835\udd27","jmath":"\u0237","Jopf":"\ud835\udd41","jopf":"\ud835\udd5b","Jscr":"\ud835\udca5","jscr":"\ud835\udcbf","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039a","kappa":"\u03ba","kappav":"\u03f0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041a","kcy":"\u043a","Kfr":"\ud835\udd0e","kfr":"\ud835\udd28","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040c","kjcy":"\u045c","Kopf":"\ud835\udd42","kopf":"\ud835\udd5c","Kscr":"\ud835\udca6","kscr":"\ud835\udcc0","lAarr":"\u21da","Lacute":"\u0139","lacute":"\u013a","laemptyv":"\u29b4","lagran":"\u2112","Lambda":"\u039b","lambda":"\u03bb","lang":"\u27e8","Lang":"\u27ea","langd":"\u2991","langle":"\u27e8","lap":"\u2a85","Laplacetrf":"\u2112","laquo":"\xab","larrb":"\u21e4","larrbfs":"\u291f","larr":"\u2190","Larr":"\u219e","lArr":"\u21d0","larrfs":"\u291d","larrhk":"\u21a9","larrlp":"\u21ab","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21a2","latail":"\u2919","lAtail":"\u291b","lat":"\u2aab","late":"\u2aad","lates":"\u2aad\ufe00","lbarr":"\u290c","lBarr":"\u290e","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298b","lbrksld":"\u298f","lbrkslu":"\u298d","Lcaron":"\u013d","lcaron":"\u013e","Lcedil":"\u013b","lcedil":"\u013c","lceil":"\u2308","lcub":"{","Lcy":"\u041b","lcy":"\u043b","ldca":"\u2936","ldquo":"\u201c","ldquor":"\u201e","ldrdhar":"\u2967","ldrushar":"\u294b","ldsh":"\u21b2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27e8","LeftArrowBar":"\u21e4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21d0","LeftArrowRightArrow":"\u21c6","leftarrowtail":"\u21a2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27e6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21c3","LeftFloor":"\u230a","leftharpoondown":"\u21bd","leftharpoonup":"\u21bc","leftleftarrows":"\u21c7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21d4","leftrightarrows":"\u21c6","leftrightharpoons":"\u21cb","leftrightsquigarrow":"\u21ad","LeftRightVector":"\u294e","LeftTeeArrow":"\u21a4","LeftTee":"\u22a3","LeftTeeVector":"\u295a","leftthreetimes":"\u22cb","LeftTriangleBar":"\u29cf","LeftTriangle":"\u22b2","LeftTriangleEqual":"\u22b4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21bf","LeftVectorBar":"\u2952","LeftVector":"\u21bc","lEg":"\u2a8b","leg":"\u22da","leq":"\u2264","leqq":"\u2266","leqslant":"\u2a7d","lescc":"\u2aa8","les":"\u2a7d","lesdot":"\u2a7f","lesdoto":"\u2a81","lesdotor":"\u2a83","lesg":"\u22da\ufe00","lesges":"\u2a93","lessapprox":"\u2a85","lessdot":"\u22d6","lesseqgtr":"\u22da","lesseqqgtr":"\u2a8b","LessEqualGreater":"\u22da","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2aa1","lesssim":"\u2272","LessSlantEqual":"\u2a7d","LessTilde":"\u2272","lfisht":"\u297c","lfloor":"\u230a","Lfr":"\ud835\udd0f","lfr":"\ud835\udd29","lg":"\u2276","lgE":"\u2a91","lHar":"\u2962","lhard":"\u21bd","lharu":"\u21bc","lharul":"\u296a","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21c7","ll":"\u226a","Ll":"\u22d8","llcorner":"\u231e","Lleftarrow":"\u21da","llhard":"\u296b","lltri":"\u25fa","Lmidot":"\u013f","lmidot":"\u0140","lmoustache":"\u23b0","lmoust":"\u23b0","lnap":"\u2a89","lnapprox":"\u2a89","lne":"\u2a87","lnE":"\u2268","lneq":"\u2a87","lneqq":"\u2268","lnsim":"\u22e6","loang":"\u27ec","loarr":"\u21fd","lobrk":"\u27e6","longleftarrow":"\u27f5","LongLeftArrow":"\u27f5","Longleftarrow":"\u27f8","longleftrightarrow":"\u27f7","LongLeftRightArrow":"\u27f7","Longleftrightarrow":"\u27fa","longmapsto":"\u27fc","longrightarrow":"\u27f6","LongRightArrow":"\u27f6","Longrightarrow":"\u27f9","looparrowleft":"\u21ab","looparrowright":"\u21ac","lopar":"\u2985","Lopf":"\ud835\udd43","lopf":"\ud835\udd5d","loplus":"\u2a2d","lotimes":"\u2a34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25ca","lozenge":"\u25ca","lozf":"\u29eb","lpar":"(","lparlt":"\u2993","lrarr":"\u21c6","lrcorner":"\u231f","lrhar":"\u21cb","lrhard":"\u296d","lrm":"\u200e","lrtri":"\u22bf","lsaquo":"\u2039","lscr":"\ud835\udcc1","Lscr":"\u2112","lsh":"\u21b0","Lsh":"\u21b0","lsim":"\u2272","lsime":"\u2a8d","lsimg":"\u2a8f","lsqb":"[","lsquo":"\u2018","lsquor":"\u201a","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2aa6","ltcir":"\u2a79","lt":"<","LT":"<","Lt":"\u226a","ltdot":"\u22d6","lthree":"\u22cb","ltimes":"\u22c9","ltlarr":"\u2976","ltquest":"\u2a7b","ltri":"\u25c3","ltrie":"\u22b4","ltrif":"\u25c2","ltrPar":"\u2996","lurdshar":"\u294a","luruhar":"\u2966","lvertneqq":"\u2268\ufe00","lvnE":"\u2268\ufe00","macr":"\xaf","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21a6","mapsto":"\u21a6","mapstodown":"\u21a7","mapstoleft":"\u21a4","mapstoup":"\u21a5","marker":"\u25ae","mcomma":"\u2a29","Mcy":"\u041c","mcy":"\u043c","mdash":"\u2014","mDDot":"\u223a","measuredangle":"\u2221","MediumSpace":"\u205f","Mellintrf":"\u2133","Mfr":"\ud835\udd10","mfr":"\ud835\udd2a","mho":"\u2127","micro":"\xb5","midast":"*","midcir":"\u2af0","mid":"\u2223","middot":"\xb7","minusb":"\u229f","minus":"\u2212","minusd":"\u2238","minusdu":"\u2a2a","MinusPlus":"\u2213","mlcp":"\u2adb","mldr":"\u2026","mnplus":"\u2213","models":"\u22a7","Mopf":"\ud835\udd44","mopf":"\ud835\udd5e","mp":"\u2213","mscr":"\ud835\udcc2","Mscr":"\u2133","mstpos":"\u223e","Mu":"\u039c","mu":"\u03bc","multimap":"\u22b8","mumap":"\u22b8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20d2","nap":"\u2249","napE":"\u2a70\u0338","napid":"\u224b\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266e","naturals":"\u2115","natur":"\u266e","nbsp":"\xa0","nbump":"\u224e\u0338","nbumpe":"\u224f\u0338","ncap":"\u2a43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2a6d\u0338","ncup":"\u2a42","Ncy":"\u041d","ncy":"\u043d","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21d7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200b","NegativeThickSpace":"\u200b","NegativeThinSpace":"\u200b","NegativeVeryThinSpace":"\u200b","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226b","NestedLessLess":"\u226a","NewLine":"\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\ud835\udd11","nfr":"\ud835\udd2b","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2a7e\u0338","nges":"\u2a7e\u0338","nGg":"\u22d9\u0338","ngsim":"\u2275","nGt":"\u226b\u20d2","ngt":"\u226f","ngtr":"\u226f","nGtv":"\u226b\u0338","nharr":"\u21ae","nhArr":"\u21ce","nhpar":"\u2af2","ni":"\u220b","nis":"\u22fc","nisd":"\u22fa","niv":"\u220b","NJcy":"\u040a","njcy":"\u045a","nlarr":"\u219a","nlArr":"\u21cd","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219a","nLeftarrow":"\u21cd","nleftrightarrow":"\u21ae","nLeftrightarrow":"\u21ce","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2a7d\u0338","nles":"\u2a7d\u0338","nless":"\u226e","nLl":"\u22d8\u0338","nlsim":"\u2274","nLt":"\u226a\u20d2","nlt":"\u226e","nltri":"\u22ea","nltrie":"\u22ec","nLtv":"\u226a\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xa0","nopf":"\ud835\udd5f","Nopf":"\u2115","Not":"\u2aec","not":"\xac","NotCongruent":"\u2262","NotCupCap":"\u226d","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226f","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226b\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2a7e\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224e\u0338","NotHumpEqual":"\u224f\u0338","notin":"\u2209","notindot":"\u22f5\u0338","notinE":"\u22f9\u0338","notinva":"\u2209","notinvb":"\u22f7","notinvc":"\u22f6","NotLeftTriangleBar":"\u29cf\u0338","NotLeftTriangle":"\u22ea","NotLeftTriangleEqual":"\u22ec","NotLess":"\u226e","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226a\u0338","NotLessSlantEqual":"\u2a7d\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2aa2\u0338","NotNestedLessLess":"\u2aa1\u0338","notni":"\u220c","notniva":"\u220c","notnivb":"\u22fe","notnivc":"\u22fd","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2aaf\u0338","NotPrecedesSlantEqual":"\u22e0","NotReverseElement":"\u220c","NotRightTriangleBar":"\u29d0\u0338","NotRightTriangle":"\u22eb","NotRightTriangleEqual":"\u22ed","NotSquareSubset":"\u228f\u0338","NotSquareSubsetEqual":"\u22e2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22e3","NotSubset":"\u2282\u20d2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2ab0\u0338","NotSucceedsSlantEqual":"\u22e1","NotSucceedsTilde":"\u227f\u0338","NotSuperset":"\u2283\u20d2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2afd\u20e5","npart":"\u2202\u0338","npolint":"\u2a14","npr":"\u2280","nprcue":"\u22e0","nprec":"\u2280","npreceq":"\u2aaf\u0338","npre":"\u2aaf\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219b","nrArr":"\u21cf","nrarrw":"\u219d\u0338","nrightarrow":"\u219b","nRightarrow":"\u21cf","nrtri":"\u22eb","nrtrie":"\u22ed","nsc":"\u2281","nsccue":"\u22e1","nsce":"\u2ab0\u0338","Nscr":"\ud835\udca9","nscr":"\ud835\udcc3","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22e2","nsqsupe":"\u22e3","nsub":"\u2284","nsubE":"\u2ac5\u0338","nsube":"\u2288","nsubset":"\u2282\u20d2","nsubseteq":"\u2288","nsubseteqq":"\u2ac5\u0338","nsucc":"\u2281","nsucceq":"\u2ab0\u0338","nsup":"\u2285","nsupE":"\u2ac6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20d2","nsupseteq":"\u2289","nsupseteqq":"\u2ac6\u0338","ntgl":"\u2279","Ntilde":"\xd1","ntilde":"\xf1","ntlg":"\u2278","ntriangleleft":"\u22ea","ntrianglelefteq":"\u22ec","ntriangleright":"\u22eb","ntrianglerighteq":"\u22ed","Nu":"\u039d","nu":"\u03bd","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224d\u20d2","nvdash":"\u22ac","nvDash":"\u22ad","nVdash":"\u22ae","nVDash":"\u22af","nvge":"\u2265\u20d2","nvgt":">\u20d2","nvHarr":"\u2904","nvinfin":"\u29de","nvlArr":"\u2902","nvle":"\u2264\u20d2","nvlt":"<\u20d2","nvltrie":"\u22b4\u20d2","nvrArr":"\u2903","nvrtrie":"\u22b5\u20d2","nvsim":"\u223c\u20d2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21d6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xd3","oacute":"\xf3","oast":"\u229b","Ocirc":"\xd4","ocirc":"\xf4","ocir":"\u229a","Ocy":"\u041e","ocy":"\u043e","odash":"\u229d","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2a38","odot":"\u2299","odsold":"\u29bc","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29bf","Ofr":"\ud835\udd12","ofr":"\ud835\udd2c","ogon":"\u02db","Ograve":"\xd2","ograve":"\xf2","ogt":"\u29c1","ohbar":"\u29b5","ohm":"\u03a9","oint":"\u222e","olarr":"\u21ba","olcir":"\u29be","olcross":"\u29bb","oline":"\u203e","olt":"\u29c0","Omacr":"\u014c","omacr":"\u014d","Omega":"\u03a9","omega":"\u03c9","Omicron":"\u039f","omicron":"\u03bf","omid":"\u29b6","ominus":"\u2296","Oopf":"\ud835\udd46","oopf":"\ud835\udd60","opar":"\u29b7","OpenCurlyDoubleQuote":"\u201c","OpenCurlyQuote":"\u2018","operp":"\u29b9","oplus":"\u2295","orarr":"\u21bb","Or":"\u2a54","or":"\u2228","ord":"\u2a5d","order":"\u2134","orderof":"\u2134","ordf":"\xaa","ordm":"\xba","origof":"\u22b6","oror":"\u2a56","orslope":"\u2a57","orv":"\u2a5b","oS":"\u24c8","Oscr":"\ud835\udcaa","oscr":"\u2134","Oslash":"\xd8","oslash":"\xf8","osol":"\u2298","Otilde":"\xd5","otilde":"\xf5","otimesas":"\u2a36","Otimes":"\u2a37","otimes":"\u2297","Ouml":"\xd6","ouml":"\xf6","ovbar":"\u233d","OverBar":"\u203e","OverBrace":"\u23de","OverBracket":"\u23b4","OverParenthesis":"\u23dc","para":"\xb6","parallel":"\u2225","par":"\u2225","parsim":"\u2af3","parsl":"\u2afd","part":"\u2202","PartialD":"\u2202","Pcy":"\u041f","pcy":"\u043f","percnt":"%","period":".","permil":"\u2030","perp":"\u22a5","pertenk":"\u2031","Pfr":"\ud835\udd13","pfr":"\ud835\udd2d","Phi":"\u03a6","phi":"\u03c6","phiv":"\u03d5","phmmat":"\u2133","phone":"\u260e","Pi":"\u03a0","pi":"\u03c0","pitchfork":"\u22d4","piv":"\u03d6","planck":"\u210f","planckh":"\u210e","plankv":"\u210f","plusacir":"\u2a23","plusb":"\u229e","pluscir":"\u2a22","plus":"+","plusdo":"\u2214","plusdu":"\u2a25","pluse":"\u2a72","PlusMinus":"\xb1","plusmn":"\xb1","plussim":"\u2a26","plustwo":"\u2a27","pm":"\xb1","Poincareplane":"\u210c","pointint":"\u2a15","popf":"\ud835\udd61","Popf":"\u2119","pound":"\xa3","prap":"\u2ab7","Pr":"\u2abb","pr":"\u227a","prcue":"\u227c","precapprox":"\u2ab7","prec":"\u227a","preccurlyeq":"\u227c","Precedes":"\u227a","PrecedesEqual":"\u2aaf","PrecedesSlantEqual":"\u227c","PrecedesTilde":"\u227e","preceq":"\u2aaf","precnapprox":"\u2ab9","precneqq":"\u2ab5","precnsim":"\u22e8","pre":"\u2aaf","prE":"\u2ab3","precsim":"\u227e","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2ab9","prnE":"\u2ab5","prnsim":"\u22e8","prod":"\u220f","Product":"\u220f","profalar":"\u232e","profline":"\u2312","profsurf":"\u2313","prop":"\u221d","Proportional":"\u221d","Proportion":"\u2237","propto":"\u221d","prsim":"\u227e","prurel":"\u22b0","Pscr":"\ud835\udcab","pscr":"\ud835\udcc5","Psi":"\u03a8","psi":"\u03c8","puncsp":"\u2008","Qfr":"\ud835\udd14","qfr":"\ud835\udd2e","qint":"\u2a0c","qopf":"\ud835\udd62","Qopf":"\u211a","qprime":"\u2057","Qscr":"\ud835\udcac","qscr":"\ud835\udcc6","quaternions":"\u210d","quatint":"\u2a16","quest":"?","questeq":"\u225f","quot":'"',"QUOT":'"',"rAarr":"\u21db","race":"\u223d\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221a","raemptyv":"\u29b3","rang":"\u27e9","Rang":"\u27eb","rangd":"\u2992","range":"\u29a5","rangle":"\u27e9","raquo":"\xbb","rarrap":"\u2975","rarrb":"\u21e5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21a0","rArr":"\u21d2","rarrfs":"\u291e","rarrhk":"\u21aa","rarrlp":"\u21ac","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21a3","rarrw":"\u219d","ratail":"\u291a","rAtail":"\u291c","ratio":"\u2236","rationals":"\u211a","rbarr":"\u290d","rBarr":"\u290f","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298c","rbrksld":"\u298e","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201d","rdquor":"\u201d","rdsh":"\u21b3","real":"\u211c","realine":"\u211b","realpart":"\u211c","reals":"\u211d","Re":"\u211c","rect":"\u25ad","reg":"\xae","REG":"\xae","ReverseElement":"\u220b","ReverseEquilibrium":"\u21cb","ReverseUpEquilibrium":"\u296f","rfisht":"\u297d","rfloor":"\u230b","rfr":"\ud835\udd2f","Rfr":"\u211c","rHar":"\u2964","rhard":"\u21c1","rharu":"\u21c0","rharul":"\u296c","Rho":"\u03a1","rho":"\u03c1","rhov":"\u03f1","RightAngleBracket":"\u27e9","RightArrowBar":"\u21e5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21d2","RightArrowLeftArrow":"\u21c4","rightarrowtail":"\u21a3","RightCeiling":"\u2309","RightDoubleBracket":"\u27e7","RightDownTeeVector":"\u295d","RightDownVectorBar":"\u2955","RightDownVector":"\u21c2","RightFloor":"\u230b","rightharpoondown":"\u21c1","rightharpoonup":"\u21c0","rightleftarrows":"\u21c4","rightleftharpoons":"\u21cc","rightrightarrows":"\u21c9","rightsquigarrow":"\u219d","RightTeeArrow":"\u21a6","RightTee":"\u22a2","RightTeeVector":"\u295b","rightthreetimes":"\u22cc","RightTriangleBar":"\u29d0","RightTriangle":"\u22b3","RightTriangleEqual":"\u22b5","RightUpDownVector":"\u294f","RightUpTeeVector":"\u295c","RightUpVectorBar":"\u2954","RightUpVector":"\u21be","RightVectorBar":"\u2953","RightVector":"\u21c0","ring":"\u02da","risingdotseq":"\u2253","rlarr":"\u21c4","rlhar":"\u21cc","rlm":"\u200f","rmoustache":"\u23b1","rmoust":"\u23b1","rnmid":"\u2aee","roang":"\u27ed","roarr":"\u21fe","robrk":"\u27e7","ropar":"\u2986","ropf":"\ud835\udd63","Ropf":"\u211d","roplus":"\u2a2e","rotimes":"\u2a35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2a12","rrarr":"\u21c9","Rrightarrow":"\u21db","rsaquo":"\u203a","rscr":"\ud835\udcc7","Rscr":"\u211b","rsh":"\u21b1","Rsh":"\u21b1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22cc","rtimes":"\u22ca","rtri":"\u25b9","rtrie":"\u22b5","rtrif":"\u25b8","rtriltri":"\u29ce","RuleDelayed":"\u29f4","ruluhar":"\u2968","rx":"\u211e","Sacute":"\u015a","sacute":"\u015b","sbquo":"\u201a","scap":"\u2ab8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2abc","sc":"\u227b","sccue":"\u227d","sce":"\u2ab0","scE":"\u2ab4","Scedil":"\u015e","scedil":"\u015f","Scirc":"\u015c","scirc":"\u015d","scnap":"\u2aba","scnE":"\u2ab6","scnsim":"\u22e9","scpolint":"\u2a13","scsim":"\u227f","Scy":"\u0421","scy":"\u0441","sdotb":"\u22a1","sdot":"\u22c5","sdote":"\u2a66","searhk":"\u2925","searr":"\u2198","seArr":"\u21d8","searrow":"\u2198","sect":"\xa7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\ud835\udd16","sfr":"\ud835\udd30","sfrown":"\u2322","sharp":"\u266f","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xad","Sigma":"\u03a3","sigma":"\u03c3","sigmaf":"\u03c2","sigmav":"\u03c2","sim":"\u223c","simdot":"\u2a6a","sime":"\u2243","simeq":"\u2243","simg":"\u2a9e","simgE":"\u2aa0","siml":"\u2a9d","simlE":"\u2a9f","simne":"\u2246","simplus":"\u2a24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2a33","smeparsl":"\u29e4","smid":"\u2223","smile":"\u2323","smt":"\u2aaa","smte":"\u2aac","smtes":"\u2aac\ufe00","SOFTcy":"\u042c","softcy":"\u044c","solbar":"\u233f","solb":"\u29c4","sol":"/","Sopf":"\ud835\udd4a","sopf":"\ud835\udd64","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\ufe00","sqcup":"\u2294","sqcups":"\u2294\ufe00","Sqrt":"\u221a","sqsub":"\u228f","sqsube":"\u2291","sqsubset":"\u228f","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25a1","Square":"\u25a1","SquareIntersection":"\u2293","SquareSubset":"\u228f","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25aa","squ":"\u25a1","squf":"\u25aa","srarr":"\u2192","Sscr":"\ud835\udcae","sscr":"\ud835\udcc8","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22c6","Star":"\u22c6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03f5","straightphi":"\u03d5","strns":"\xaf","sub":"\u2282","Sub":"\u22d0","subdot":"\u2abd","subE":"\u2ac5","sube":"\u2286","subedot":"\u2ac3","submult":"\u2ac1","subnE":"\u2acb","subne":"\u228a","subplus":"\u2abf","subrarr":"\u2979","subset":"\u2282","Subset":"\u22d0","subseteq":"\u2286","subseteqq":"\u2ac5","SubsetEqual":"\u2286","subsetneq":"\u228a","subsetneqq":"\u2acb","subsim":"\u2ac7","subsub":"\u2ad5","subsup":"\u2ad3","succapprox":"\u2ab8","succ":"\u227b","succcurlyeq":"\u227d","Succeeds":"\u227b","SucceedsEqual":"\u2ab0","SucceedsSlantEqual":"\u227d","SucceedsTilde":"\u227f","succeq":"\u2ab0","succnapprox":"\u2aba","succneqq":"\u2ab6","succnsim":"\u22e9","succsim":"\u227f","SuchThat":"\u220b","sum":"\u2211","Sum":"\u2211","sung":"\u266a","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","sup":"\u2283","Sup":"\u22d1","supdot":"\u2abe","supdsub":"\u2ad8","supE":"\u2ac6","supe":"\u2287","supedot":"\u2ac4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27c9","suphsub":"\u2ad7","suplarr":"\u297b","supmult":"\u2ac2","supnE":"\u2acc","supne":"\u228b","supplus":"\u2ac0","supset":"\u2283","Supset":"\u22d1","supseteq":"\u2287","supseteqq":"\u2ac6","supsetneq":"\u228b","supsetneqq":"\u2acc","supsim":"\u2ac8","supsub":"\u2ad4","supsup":"\u2ad6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21d9","swarrow":"\u2199","swnwar":"\u292a","szlig":"\xdf","Tab":"	","target":"\u2316","Tau":"\u03a4","tau":"\u03c4","tbrk":"\u23b4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20db","telrec":"\u2315","Tfr":"\ud835\udd17","tfr":"\ud835\udd31","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03b8","thetasym":"\u03d1","thetav":"\u03d1","thickapprox":"\u2248","thicksim":"\u223c","ThickSpace":"\u205f\u200a","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223c","THORN":"\xde","thorn":"\xfe","tilde":"\u02dc","Tilde":"\u223c","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2a31","timesb":"\u22a0","times":"\xd7","timesd":"\u2a30","tint":"\u222d","toea":"\u2928","topbot":"\u2336","topcir":"\u2af1","top":"\u22a4","Topf":"\ud835\udd4b","topf":"\ud835\udd65","topfork":"\u2ada","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25b5","triangledown":"\u25bf","triangleleft":"\u25c3","trianglelefteq":"\u22b4","triangleq":"\u225c","triangleright":"\u25b9","trianglerighteq":"\u22b5","tridot":"\u25ec","trie":"\u225c","triminus":"\u2a3a","TripleDot":"\u20db","triplus":"\u2a39","trisb":"\u29cd","tritime":"\u2a3b","trpezium":"\u23e2","Tscr":"\ud835\udcaf","tscr":"\ud835\udcc9","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040b","tshcy":"\u045b","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226c","twoheadleftarrow":"\u219e","twoheadrightarrow":"\u21a0","Uacute":"\xda","uacute":"\xfa","uarr":"\u2191","Uarr":"\u219f","uArr":"\u21d1","Uarrocir":"\u2949","Ubrcy":"\u040e","ubrcy":"\u045e","Ubreve":"\u016c","ubreve":"\u016d","Ucirc":"\xdb","ucirc":"\xfb","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21c5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296e","ufisht":"\u297e","Ufr":"\ud835\udd18","ufr":"\ud835\udd32","Ugrave":"\xd9","ugrave":"\xf9","uHar":"\u2963","uharl":"\u21bf","uharr":"\u21be","uhblk":"\u2580","ulcorn":"\u231c","ulcorner":"\u231c","ulcrop":"\u230f","ultri":"\u25f8","Umacr":"\u016a","umacr":"\u016b","uml":"\xa8","UnderBar":"_","UnderBrace":"\u23df","UnderBracket":"\u23b5","UnderParenthesis":"\u23dd","Union":"\u22c3","UnionPlus":"\u228e","Uogon":"\u0172","uogon":"\u0173","Uopf":"\ud835\udd4c","uopf":"\ud835\udd66","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21d1","UpArrowDownArrow":"\u21c5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21d5","UpEquilibrium":"\u296e","upharpoonleft":"\u21bf","upharpoonright":"\u21be","uplus":"\u228e","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03c5","Upsi":"\u03d2","upsih":"\u03d2","Upsilon":"\u03a5","upsilon":"\u03c5","UpTeeArrow":"\u21a5","UpTee":"\u22a5","upuparrows":"\u21c8","urcorn":"\u231d","urcorner":"\u231d","urcrop":"\u230e","Uring":"\u016e","uring":"\u016f","urtri":"\u25f9","Uscr":"\ud835\udcb0","uscr":"\ud835\udcca","utdot":"\u22f0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25b5","utrif":"\u25b4","uuarr":"\u21c8","Uuml":"\xdc","uuml":"\xfc","uwangle":"\u29a7","vangrt":"\u299c","varepsilon":"\u03f5","varkappa":"\u03f0","varnothing":"\u2205","varphi":"\u03d5","varpi":"\u03d6","varpropto":"\u221d","varr":"\u2195","vArr":"\u21d5","varrho":"\u03f1","varsigma":"\u03c2","varsubsetneq":"\u228a\ufe00","varsubsetneqq":"\u2acb\ufe00","varsupsetneq":"\u228b\ufe00","varsupsetneqq":"\u2acc\ufe00","vartheta":"\u03d1","vartriangleleft":"\u22b2","vartriangleright":"\u22b3","vBar":"\u2ae8","Vbar":"\u2aeb","vBarv":"\u2ae9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22a2","vDash":"\u22a8","Vdash":"\u22a9","VDash":"\u22ab","Vdashl":"\u2ae6","veebar":"\u22bb","vee":"\u2228","Vee":"\u22c1","veeeq":"\u225a","vellip":"\u22ee","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200a","Vfr":"\ud835\udd19","vfr":"\ud835\udd33","vltri":"\u22b2","vnsub":"\u2282\u20d2","vnsup":"\u2283\u20d2","Vopf":"\ud835\udd4d","vopf":"\ud835\udd67","vprop":"\u221d","vrtri":"\u22b3","Vscr":"\ud835\udcb1","vscr":"\ud835\udccb","vsubnE":"\u2acb\ufe00","vsubne":"\u228a\ufe00","vsupnE":"\u2acc\ufe00","vsupne":"\u228b\ufe00","Vvdash":"\u22aa","vzigzag":"\u299a","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2a5f","wedge":"\u2227","Wedge":"\u22c0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\ud835\udd1a","wfr":"\ud835\udd34","Wopf":"\ud835\udd4e","wopf":"\ud835\udd68","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\ud835\udcb2","wscr":"\ud835\udccc","xcap":"\u22c2","xcirc":"\u25ef","xcup":"\u22c3","xdtri":"\u25bd","Xfr":"\ud835\udd1b","xfr":"\ud835\udd35","xharr":"\u27f7","xhArr":"\u27fa","Xi":"\u039e","xi":"\u03be","xlarr":"\u27f5","xlArr":"\u27f8","xmap":"\u27fc","xnis":"\u22fb","xodot":"\u2a00","Xopf":"\ud835\udd4f","xopf":"\ud835\udd69","xoplus":"\u2a01","xotime":"\u2a02","xrarr":"\u27f6","xrArr":"\u27f9","Xscr":"\ud835\udcb3","xscr":"\ud835\udccd","xsqcup":"\u2a06","xuplus":"\u2a04","xutri":"\u25b3","xvee":"\u22c1","xwedge":"\u22c0","Yacute":"\xdd","yacute":"\xfd","YAcy":"\u042f","yacy":"\u044f","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042b","ycy":"\u044b","yen":"\xa5","Yfr":"\ud835\udd1c","yfr":"\ud835\udd36","YIcy":"\u0407","yicy":"\u0457","Yopf":"\ud835\udd50","yopf":"\ud835\udd6a","Yscr":"\ud835\udcb4","yscr":"\ud835\udcce","YUcy":"\u042e","yucy":"\u044e","yuml":"\xff","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017a","Zcaron":"\u017d","zcaron":"\u017e","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017b","zdot":"\u017c","zeetrf":"\u2128","ZeroWidthSpace":"\u200b","Zeta":"\u0396","zeta":"\u03b6","zfr":"\ud835\udd37","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21dd","zopf":"\ud835\udd6b","Zopf":"\u2124","Zscr":"\ud835\udcb5","zscr":"\ud835\udccf","zwj":"\u200d","zwnj":"\u200c"};
var y={"Aacute":"\xc1","aacute":"\xe1","Acirc":"\xc2","acirc":"\xe2","acute":"\xb4","AElig":"\xc6","aelig":"\xe6","Agrave":"\xc0","agrave":"\xe0","amp":"&","AMP":"&","Aring":"\xc5","aring":"\xe5","Atilde":"\xc3","atilde":"\xe3","Auml":"\xc4","auml":"\xe4","brvbar":"\xa6","Ccedil":"\xc7","ccedil":"\xe7","cedil":"\xb8","cent":"\xa2","copy":"\xa9","COPY":"\xa9","curren":"\xa4","deg":"\xb0","divide":"\xf7","Eacute":"\xc9","eacute":"\xe9","Ecirc":"\xca","ecirc":"\xea","Egrave":"\xc8","egrave":"\xe8","ETH":"\xd0","eth":"\xf0","Euml":"\xcb","euml":"\xeb","frac12":"\xbd","frac14":"\xbc","frac34":"\xbe","gt":">","GT":">","Iacute":"\xcd","iacute":"\xed","Icirc":"\xce","icirc":"\xee","iexcl":"\xa1","Igrave":"\xcc","igrave":"\xec","iquest":"\xbf","Iuml":"\xcf","iuml":"\xef","laquo":"\xab","lt":"<","LT":"<","macr":"\xaf","micro":"\xb5","middot":"\xb7","nbsp":"\xa0","not":"\xac","Ntilde":"\xd1","ntilde":"\xf1","Oacute":"\xd3","oacute":"\xf3","Ocirc":"\xd4","ocirc":"\xf4","Ograve":"\xd2","ograve":"\xf2","ordf":"\xaa","ordm":"\xba","Oslash":"\xd8","oslash":"\xf8","Otilde":"\xd5","otilde":"\xf5","Ouml":"\xd6","ouml":"\xf6","para":"\xb6","plusmn":"\xb1","pound":"\xa3","quot":'"',"QUOT":'"',"raquo":"\xbb","reg":"\xae","REG":"\xae","sect":"\xa7","shy":"\xad","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","szlig":"\xdf","THORN":"\xde","thorn":"\xfe","times":"\xd7","Uacute":"\xda","uacute":"\xfa","Ucirc":"\xdb","ucirc":"\xfb","Ugrave":"\xd9","ugrave":"\xf9","uml":"\xa8","Uuml":"\xdc","uuml":"\xfc","Yacute":"\xdd","yacute":"\xfd","yen":"\xa5","yuml":"\xff"};var b={"0":"\ufffd","128":"\u20ac","130":"\u201a","131":"\u0192","132":"\u201e","133":"\u2026","134":"\u2020","135":"\u2021","136":"\u02c6","137":"\u2030","138":"\u0160","139":"\u2039","140":"\u0152","142":"\u017d","145":"\u2018","146":"\u2019","147":"\u201c","148":"\u201d","149":"\u2022","150":"\u2013","151":"\u2014","152":"\u02dc","153":"\u2122","154":"\u0161","155":"\u203a","156":"\u0153","158":"\u017e","159":"\u0178"};var _=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111];var w=String.fromCharCode;var x={};var E=x.hasOwnProperty;var A=function(e,t){return E.call(e,t)};var k=function(e,t){var n=-1;var r=e.length;while(++n<r){if(e[n]==t){return true}}return false};var q=function(e,t){if(!e){return t}var n={};var r;for(r in t){n[r]=A(e,r)?e[r]:t[r]}return n};var S=function(e,t){var n="";if(e>=55296&&e<=57343||e>1114111){if(t){D("character reference outside the permissible Unicode range")}return"\ufffd"}if(A(b,e)){if(t){D("disallowed character reference")}return b[e]}if(t&&k(_,e)){D("disallowed character reference")}if(e>65535){e-=65536;n+=w(e>>>10&1023|55296);e=56320|e&1023}n+=w(e);return n};var C=function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"};var D=function(e){throw Error("Parse error: "+e)};var O=function(e,t){t=q(t,O.options);var n=t.strict;if(n&&v.test(e)){D("forbidden code point")}var r=t.encodeEverything;var i=t.useNamedReferences;if(r){e=e.replace(u,function(e){if(i&&A(f,e)){return"&"+f[e]+";"}return C(e)});if(i){e=e.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")}if(i){e=e.replace(l,function(e){return"&"+f[e]+";"})}}else if(i){e=e.replace(p,function(e){return"&"+f[e]+";"});e=e.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;");e=e.replace(l,function(e){return"&"+f[e]+";"})}else{e=e.replace(p,C)}return e.replace(s,function(e){var t=e.charCodeAt(0);var n=e.charCodeAt(1);var r=(t-55296)*1024+n-56320+65536;return"&#x"+r.toString(16).toUpperCase()+";"}).replace(c,C)};O.options={"encodeEverything":false,"strict":false,"useNamedReferences":false};var j=function(e,t){t=q(t,j.options);var n=t.strict;if(n&&h.test(e)){D("malformed character reference")}return e.replace(m,function(e,r,i,o,a,s,u,c){var l;var f;var p;var d;var h;if(r){l=r;f=i;if(n&&!f){D("character reference was not terminated by a semicolon")}return S(l,n)}if(o){p=o;f=a;if(n&&!f){D("character reference was not terminated by a semicolon")}l=parseInt(p,16);return S(l,n)}if(s){d=s;if(A(g,d)){return g[d]}else{if(n){D("named character reference was not terminated by a semicolon")}return e}}d=u;h=c;if(h&&t.isAttributeValue){if(n&&h=="="){D("`&` did not start a character reference")}return e}else{if(n){D("named character reference was not terminated by a semicolon")}return y[d]+(h||"")}})};j.options={"isAttributeValue":false,"strict":false};var T=function(e){return e.replace(p,function(e){return d[e]})};var N={"version":"0.4.1","encode":O,"decode":j,"escape":T,"unescape":j};if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){define(function(){return N})}else if(i&&!i.nodeType){if(o){o.exports=N}else{for(var B in N){A(N,B)&&(i[B]=N[B])}}}else{r.he=N}})(this)}).call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],"54":[function(e,t,n){t.exports=e(28)},{}],"55":[function(e,t,n){var r=e("bindable").EventEmitter;t.exports=function(t){t.use(e("mojo-mediator"));var n=new r,i=false;n.once("ready",function(){i=true});t.bootstrap=function(e,n){if(typeof e==="function"){n=e;e={}}if(!n)n=function(){};t.ready(n);t.initialize(e)};t.ready=function(e){if(i)return e();n.once("ready",e)};t.once("initialize",function(e){t.mediator.execute("bootstrap",e,function(){if(t.didBootstrap){t.didBootstrap(e)}n.emit("ready")})})}},{"bindable":22,"mojo-mediator":64}],"56":[function(e,t,n){},{}],"57":[function(e,t,n){function r(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}t.exports=r;r.EventEmitter=r;r.prototype._events=undefined;r.prototype._maxListeners=undefined;r.defaultMaxListeners=10;r.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");this._maxListeners=e;return this};r.prototype.emit=function(e){var t,n,r,o,u,c;if(!this._events)this._events={};if(e==="error"){if(!this._events.error||a(this._events.error)&&!this._events.error.length){t=arguments[1];if(t instanceof Error){throw t}throw TypeError('Uncaught, unspecified "error" event.')}}n=this._events[e];if(s(n))return false;if(i(n)){switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:r=arguments.length;o=new Array(r-1);for(u=1;u<r;u++)o[u-1]=arguments[u];n.apply(this,o)}}else if(a(n)){r=arguments.length;o=new Array(r-1);for(u=1;u<r;u++)o[u-1]=arguments[u];c=n.slice();r=c.length;for(u=0;u<r;u++)c[u].apply(this,o)}return true};r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",e,i(t.listener)?t.listener:t);if(!this._events[e])this._events[e]=t;else if(a(this._events[e]))this._events[e].push(t);else this._events[e]=[this._events[e],t];if(a(this._events[e])&&!this._events[e].warned){var n;if(!s(this._maxListeners)){n=this._maxListeners}else{n=r.defaultMaxListeners}if(n&&n>0&&this._events[e].length>n){this._events[e].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[e].length);if(typeof console.trace==="function"){console.trace()}}}return this};r.prototype.on=r.prototype.addListener;r.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var n=false;function r(){this.removeListener(e,r);if(!n){n=true;t.apply(this,arguments)}}r.listener=t;this.on(e,r);return this};r.prototype.removeListener=function(e,t){var n,r,o,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;n=this._events[e];o=n.length;r=-1;if(n===t||i(n.listener)&&n.listener===t){delete this._events[e];if(this._events.removeListener)this.emit("removeListener",e,t)}else if(a(n)){for(s=o;s-->0;){if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}}if(r<0)return this;if(n.length===1){n.length=0;delete this._events[e]}else{n.splice(r,1)}if(this._events.removeListener)this.emit("removeListener",e,t)}return this};r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[e])delete this._events[e];return this}if(arguments.length===0){for(t in this._events){if(t==="removeListener")continue;this.removeAllListeners(t)}this.removeAllListeners("removeListener");this._events={};return this}n=this._events[e];if(i(n)){this.removeListener(e,n)}else{while(n.length)this.removeListener(e,n[n.length-1])}delete this._events[e];return this};r.prototype.listeners=function(e){var t;if(!this._events||!this._events[e])t=[];else if(i(this._events[e]))t=[this._events[e]];else t=this._events[e].slice();return t};r.listenerCount=function(e,t){var n;if(!e._events||!e._events[t])n=0;else if(i(e._events[t]))n=1;else n=e._events[t].length;return n};function i(e){return typeof e==="function"}function o(e){return typeof e==="number"}function a(e){return typeof e==="object"&&e!==null}function s(e){return e===void 0}},{}],"58":[function(e,t,n){var r=t.exports={};r.nextTick=function(){var e=typeof window!=="undefined"&&window.setImmediate;var t=typeof window!=="undefined"&&window.postMessage&&window.addEventListener;if(e){return function(e){return window.setImmediate(e)}}if(t){var n=[];window.addEventListener("message",function(e){var t=e.source;if((t===window||t===null)&&e.data==="process-tick"){e.stopPropagation();if(n.length>0){var r=n.shift();r()}}},true);return function r(e){n.push(e);window.postMessage("process-tick","*")}}return function i(e){setTimeout(e,0)}}();r.title="browser";r.browser=true;r.env={};r.argv=[];function i(){}r.on=i;r.addListener=i;r.once=i;r.off=i;r.removeListener=i;r.removeAllListeners=i;r.emit=i;r.binding=function(e){throw new Error("process.binding is not supported")};r.cwd=function(){return"/"};r.chdir=function(e){throw new Error("process.chdir is not supported")}},{}],"59":[function(e,t,n){(function(e){(function(r){var i=typeof n=="object"&&n;var o=typeof t=="object"&&t&&t.exports==i&&t;var a=typeof e=="object"&&e;if(a.global===a||a.window===a){r=a}var s,u=2147483647,c=36,l=1,f=26,p=38,d=700,h=72,v=128,m="-",g=/^xn--/,y=/[^ -~]/,b=/\x2E|\u3002|\uFF0E|\uFF61/g,_={"overflow":"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=c-l,x=Math.floor,E=String.fromCharCode,A;function k(e){throw RangeError(_[e])}function q(e,t){var n=e.length;while(n--){e[n]=t(e[n])}return e}function S(e,t){return q(e.split(b),t).join(".")}function C(e){var t=[],n=0,r=e.length,i,o;while(n<r){i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){o=e.charCodeAt(n++);if((o&64512)==56320){t.push(((i&1023)<<10)+(o&1023)+65536)}else{t.push(i);n--}}else{t.push(i)}}return t}function D(e){return q(e,function(e){var t="";if(e>65535){e-=65536;t+=E(e>>>10&1023|55296);e=56320|e&1023}t+=E(e);return t}).join("")}function O(e){if(e-48<10){return e-22}if(e-65<26){return e-65}if(e-97<26){return e-97}return c}function j(e,t){return e+22+75*(e<26)-((t!=0)<<5)}function T(e,t,n){var r=0;e=n?x(e/d):e>>1;e+=x(e/t);for(;e>w*f>>1;r+=c){e=x(e/w)}return x(r+(w+1)*e/(e+p))}function N(e){var t=[],n=e.length,r,i=0,o=v,a=h,s,p,d,g,y,b,_,w,E;s=e.lastIndexOf(m);if(s<0){s=0}for(p=0;p<s;++p){if(e.charCodeAt(p)>=128){k("not-basic")}t.push(e.charCodeAt(p))}for(d=s>0?s+1:0;d<n;){for(g=i,y=1,b=c;;b+=c){if(d>=n){k("invalid-input")}_=O(e.charCodeAt(d++));if(_>=c||_>x((u-i)/y)){k("overflow")}i+=_*y;w=b<=a?l:b>=a+f?f:b-a;if(_<w){break}E=c-w;if(y>x(u/E)){k("overflow")}y*=E}r=t.length+1;a=T(i-g,r,g==0);if(x(i/r)>u-o){k("overflow")}o+=x(i/r);i%=r;t.splice(i++,0,o)}return D(t)}function B(e){var t,n,r,i,o,a,s,p,d,g,y,b=[],_,w,A,q;e=C(e);_=e.length;t=v;n=0;o=h;for(a=0;a<_;++a){y=e[a];if(y<128){b.push(E(y))}}r=i=b.length;if(i){b.push(m)}while(r<_){for(s=u,a=0;a<_;++a){y=e[a];if(y>=t&&y<s){s=y}}w=r+1;if(s-t>x((u-n)/w)){k("overflow")}n+=(s-t)*w;t=s;for(a=0;a<_;++a){y=e[a];if(y<t&&++n>u){k("overflow")}if(y==t){for(p=n,d=c;;d+=c){g=d<=o?l:d>=o+f?f:d-o;if(p<g){break}q=p-g;A=c-g;b.push(E(j(g+q%A,0)));p=x(q/A)}b.push(E(j(p,0)));o=T(n,w,r==i);n=0;++r}}++n;++t}return b.join("")}function L(e){return S(e,function(e){return g.test(e)?N(e.slice(4).toLowerCase()):e})}function R(e){return S(e,function(e){return y.test(e)?"xn--"+B(e):e})}s={"version":"1.2.4","ucs2":{"decode":C,"encode":D},"decode":N,"encode":B,"toASCII":R,"toUnicode":L};if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){define("punycode",function(){return s})}else if(i&&!i.nodeType){if(o){o.exports=s}else{for(A in s){s.hasOwnProperty(A)&&(i[A]=s[A])}}}else{r.punycode=s}})(this)}).call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],"60":[function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,o){t=t||"&";n=n||"=";var a={};if(typeof e!=="string"||e.length===0){return a}var s=/\+/g;e=e.split(t);var u=1e3;if(o&&typeof o.maxKeys==="number"){u=o.maxKeys}var c=e.length;if(u>0&&c>u){c=u}for(var l=0;l<c;++l){var f=e[l].replace(s,"%20"),p=f.indexOf(n),d,h,v,m;if(p>=0){d=f.substr(0,p);h=f.substr(p+1)}else{d=f;h=""}v=decodeURIComponent(d);m=decodeURIComponent(h);if(!r(a,v)){a[v]=m}else if(i(a[v])){a[v].push(m)}else{a[v]=[a[v],m]}}return a};var i=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}},{}],"61":[function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,s){t=t||"&";n=n||"=";if(e===null){e=undefined}if(typeof e==="object"){return o(a(e),function(a){var s=encodeURIComponent(r(a))+n;if(i(e[a])){return o(e[a],function(e){return s+encodeURIComponent(r(e))}).join(t)}else{return s+encodeURIComponent(r(e[a]))}}).join(t)}if(!s)return"";return encodeURIComponent(r(s))+n+encodeURIComponent(r(e))};var i=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function o(e,t){if(e.map)return e.map(t);var n=[];for(var r=0;r<e.length;r++){n.push(t(e[r],r))}return n}var a=Object.keys||function(e){var t=[];for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))t.push(n)}return t}},{}],"62":[function(e,t,n){"use strict";n.decode=n.parse=e("./decode");n.encode=n.stringify=e("./encode")},{"./decode":60,"./encode":61}],"63":[function(e,t,n){var r=e("punycode");n.parse=b;n.resolve=w;n.resolveObject=x;n.format=_;n.Url=i;function i(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var o=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,s=["<",">",'"',"`"," ","\r","\n","	"],u=["{","}","|","\\","^","`"].concat(s),c=["'"].concat(u),l=["%","/","?",";","#"].concat(c),f=["/","?","#"],p=255,d=/^[a-z0-9A-Z_-]{0,63}$/,h=/^([a-z0-9A-Z_-]{0,63})(.*)$/,v={"javascript":true,"javascript:":true},m={"javascript":true,"javascript:":true},g={"http":true,"https":true,"ftp":true,"gopher":true,"file":true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},y=e("querystring");function b(e,t,n){if(e&&A(e)&&e instanceof i)return e;var r=new i;r.parse(e,t,n);return r}i.prototype.parse=function(e,t,n){if(!E(e)){throw new TypeError("Parameter 'url' must be a string, not "+typeof e)}var i=e;i=i.trim();var a=o.exec(i);if(a){a=a[0];var s=a.toLowerCase();this.protocol=s;i=i.substr(a.length)}if(n||a||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var u=i.substr(0,2)==="//";if(u&&!(a&&m[a])){i=i.substr(2);this.slashes=true}}if(!m[a]&&(u||a&&!g[a])){var b=-1;for(var _=0;_<f.length;_++){var w=i.indexOf(f[_]);if(w!==-1&&(b===-1||w<b))b=w}var x,A;if(b===-1){A=i.lastIndexOf("@")}else{A=i.lastIndexOf("@",b)}if(A!==-1){x=i.slice(0,A);i=i.slice(A+1);this.auth=decodeURIComponent(x)}b=-1;for(var _=0;_<l.length;_++){var w=i.indexOf(l[_]);if(w!==-1&&(b===-1||w<b))b=w}if(b===-1)b=i.length;this.host=i.slice(0,b);i=i.slice(b);this.parseHost();this.hostname=this.hostname||"";var k=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!k){var q=this.hostname.split(/\./);for(var _=0,S=q.length;_<S;_++){var C=q[_];if(!C)continue;if(!C.match(d)){var D="";for(var O=0,j=C.length;O<j;O++){if(C.charCodeAt(O)>127){D+="x"}else{D+=C[O]}}if(!D.match(d)){var T=q.slice(0,_);var N=q.slice(_+1);var B=C.match(h);if(B){T.push(B[1]);N.unshift(B[2])}if(N.length){i="/"+N.join(".")+i}this.hostname=T.join(".");break}}}}if(this.hostname.length>p){this.hostname=""}else{this.hostname=this.hostname.toLowerCase()}if(!k){var L=this.hostname.split(".");var R=[];for(var _=0;_<L.length;++_){var F=L[_];R.push(F.match(/[^A-Za-z0-9_-]/)?"xn--"+r.encode(F):F)}this.hostname=R.join(".")}var I=this.port?":"+this.port:"";var P=this.hostname||"";this.host=P+I;this.href+=this.host;if(k){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(i[0]!=="/"){i="/"+i}}}if(!v[s]){for(var _=0,S=c.length;_<S;_++){var U=c[_];var M=encodeURIComponent(U);if(M===U){M=escape(U)}i=i.split(U).join(M)}}var V=i.indexOf("#");if(V!==-1){this.hash=i.substr(V);i=i.slice(0,V)}var z=i.indexOf("?");if(z!==-1){this.search=i.substr(z);this.query=i.substr(z+1);if(t){this.query=y.parse(this.query)}i=i.slice(0,z)}else if(t){this.search="";this.query={}}if(i)this.pathname=i;if(g[s]&&this.hostname&&!this.pathname){this.pathname="/"}if(this.pathname||this.search){var I=this.pathname||"";var F=this.search||"";this.path=I+F}this.href=this.format();return this};function _(e){if(E(e))e=b(e);if(!(e instanceof i))return i.prototype.format.call(e);return e.format()}i.prototype.format=function(){var e=this.auth||"";if(e){e=encodeURIComponent(e);e=e.replace(/%3A/i,":");e+="@"}var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=false,o="";if(this.host){i=e+this.host}else if(this.hostname){i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){i+=":"+this.port}}if(this.query&&A(this.query)&&Object.keys(this.query).length){o=y.stringify(this.query)}var a=this.search||o&&"?"+o||"";if(t&&t.substr(-1)!==":")t+=":";if(this.slashes||(!t||g[t])&&i!==false){i="//"+(i||"");if(n&&n.charAt(0)!=="/")n="/"+n}else if(!i){i=""}if(r&&r.charAt(0)!=="#")r="#"+r;if(a&&a.charAt(0)!=="?")a="?"+a;n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)});a=a.replace("#","%23");return t+i+n+a+r};function w(e,t){return b(e,false,true).resolve(t)}i.prototype.resolve=function(e){return this.resolveObject(b(e,false,true)).format()};function x(e,t){if(!e)return t;return b(e,false,true).resolveObject(t)}i.prototype.resolveObject=function(e){if(E(e)){var t=new i;t.parse(e,false,true);e=t}var n=new i;Object.keys(this).forEach(function(e){n[e]=this[e]},this);n.hash=e.hash;if(e.href===""){n.href=n.format();return n}if(e.slashes&&!e.protocol){Object.keys(e).forEach(function(t){if(t!=="protocol")n[t]=e[t]});if(g[n.protocol]&&n.hostname&&!n.pathname){n.path=n.pathname="/"}n.href=n.format();return n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){Object.keys(e).forEach(function(t){n[t]=e[t]});n.href=n.format();return n}n.protocol=e.protocol;if(!e.host&&!m[e.protocol]){var r=(e.pathname||"").split("/");while(r.length&&!(e.host=r.shift()));if(!e.host)e.host="";if(!e.hostname)e.hostname="";if(r[0]!=="")r.unshift("");if(r.length<2)r.unshift("");n.pathname=r.join("/")}else{n.pathname=e.pathname}n.search=e.search;n.query=e.query;n.host=e.host||"";n.auth=e.auth;n.hostname=e.hostname||e.host;n.port=e.port;if(n.pathname||n.search){var o=n.pathname||"";var a=n.search||"";n.path=o+a}n.slashes=n.slashes||e.slashes;n.href=n.format();return n}var s=n.pathname&&n.pathname.charAt(0)==="/",u=e.host||e.pathname&&e.pathname.charAt(0)==="/",c=u||s||n.host&&e.pathname,l=c,f=n.pathname&&n.pathname.split("/")||[],r=e.pathname&&e.pathname.split("/")||[],p=n.protocol&&!g[n.protocol];if(p){n.hostname="";n.port=null;if(n.host){if(f[0]==="")f[0]=n.host;else f.unshift(n.host)}n.host="";if(e.protocol){e.hostname=null;e.port=null;if(e.host){if(r[0]==="")r[0]=e.host;else r.unshift(e.host)}e.host=null}c=c&&(r[0]===""||f[0]==="")}if(u){n.host=e.host||e.host===""?e.host:n.host;n.hostname=e.hostname||e.hostname===""?e.hostname:n.hostname;n.search=e.search;n.query=e.query;f=r}else if(r.length){if(!f)f=[];f.pop();f=f.concat(r);n.search=e.search;n.query=e.query}else if(!q(e.search)){if(p){n.hostname=n.host=f.shift();var d=n.host&&n.host.indexOf("@")>0?n.host.split("@"):false;if(d){n.auth=d.shift();n.host=n.hostname=d.shift()}}n.search=e.search;n.query=e.query;if(!k(n.pathname)||!k(n.search)){n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")}n.href=n.format();return n}if(!f.length){n.pathname=null;if(n.search){n.path="/"+n.search}else{n.path=null}n.href=n.format();return n}var h=f.slice(-1)[0];var v=(n.host||e.host)&&(h==="."||h==="..")||h==="";var y=0;for(var b=f.length;b>=0;b--){h=f[b];if(h=="."){f.splice(b,1)}else if(h===".."){f.splice(b,1);y++}else if(y){f.splice(b,1);y--}}if(!c&&!l){for(;y--;y){f.unshift("..")}}if(c&&f[0]!==""&&(!f[0]||f[0].charAt(0)!=="/")){f.unshift("")}if(v&&f.join("/").substr(-1)!=="/"){f.push("")}var _=f[0]===""||f[0]&&f[0].charAt(0)==="/";if(p){n.hostname=n.host=_?"":f.length?f.shift():"";var d=n.host&&n.host.indexOf("@")>0?n.host.split("@"):false;if(d){n.auth=d.shift();n.host=n.hostname=d.shift()}}c=c||n.host&&f.length;if(c&&!_){f.unshift("")}if(!f.length){n.pathname=null;n.path=null}else{n.pathname=f.join("/")}if(!k(n.pathname)||!k(n.search)){n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")}n.auth=e.auth||n.auth;n.slashes=n.slashes||e.slashes;n.href=n.format();return n};i.prototype.parseHost=function(){var e=this.host;var t=a.exec(e);if(t){t=t[0];if(t!==":"){this.port=t.substr(1)}e=e.substr(0,e.length-t.length)}if(e)this.hostname=e};function E(e){return typeof e==="string"}function A(e){return typeof e==="object"&&e!==null}function k(e){return e===null}function q(e){return e==null}},{"punycode":59,"querystring":62}],"64":[function(e,t,n){var r=e("mediocre");t.exports=function(e){if(e.mediator)return;var t=e.mediator=r();t.application=e}},{"mediocre":70}],"65":[function(e,t,n){var r=e("type-component"),i=e("async");t.exports={"test":function(e){return r(e.listener)==="array"},"create":function(e){if(e.listener.length===1){return e.listener[0]}return function(t,n){i.eachSeries(e.listener,function(e,n){e.call(this,t,n)},n)}}}},{"async":72,"type-component":75}],"66":[function(e,t,n){var r=e("type-component");t.exports={"test":function(e){return r(e.listener)==="function"},"create":function(e){var t=e.listener;return function(e,n){t(e,function(t){if(t)return n(t);var r=Array.prototype.slice.call(arguments,1);if(r.length){e.root.args=r}n()})}}}},{"type-component":75}],"67":[function(e,t,n){var r,i=[e("./obj"),e("./fn"),e("./ref"),r=e("./collection")];t.exports={"push":function(e){i.push(e)},"create":function(e,t){var n=[],o,a,s;for(var u=0;u<t.length;u++){o=t[u];a={"mediator":e,"listener":o};for(var c=0;c<i.length;c++){s=i[c];if(s.test(a)){n=n.concat(s.create(a))}}}return r.create({"mediator":e,"listener":n})}}},{"./collection":65,"./fn":66,"./obj":68,"./ref":69}],"68":[function(e,t,n){var r=e("type-component"),i=e("async");t.exports={"test":function(e){return r(e.listener)==="object"},"create":function(e){var t=Object.keys(e.listener),n=e.mediator;return function(r,o){i.eachSeries(t,function(t,i){n.execute(r.child(t,e.listener[t]),i)},o)}}}},{"async":72,"type-component":75}],"69":[function(e,t,n){var r=e("type-component");t.exports={"test":function(e){return r(e)==="string"},"create":function(e){var t=e.mediator,n=e.listener;return function(e,r){t.execute(e.child(n),r)}}}},{"type-component":75}],"70":[function(e,t,n){var r=e("./message"),i=e("./factory"),o=e("./factory/collection"),a=e("type-component"),s=e("async"),u=e("protoclass"),c=e("sift");function l(){this._listeners={};this._spies=[]}u(l,{"on":function(e){var t,n,r,o;t=Array.prototype.slice.call(arguments,1);if(e.test){return i.push(e)}n=this._parse(e);if(!(o=this._listeners[n.name])){o=this._listeners[n.name]={"pre":[],"post":[]}}t=i.create(this,t);if(n.type){r=o[n.type];r.push(t)}else{o.callback=t}return{"dispose":function(){var e;if(r){e=r.indexOf(t);if(~e){r.splice(e,1)}}else{delete this._listeners[n.name]}}}},"spy":function(e,t){this._spies.push({"test":c(e).test,"listener":t})},"_triggerSpies":function(e){for(var t=this._spies.length;t--;){var n=this._spies[t];if(n.test(e.data)){n.listener(e)}}},"message":function(e,t,n){if(arguments.length===2){n={}}return new r(e,t||{},n||{},this)},"once":function(e){var t,n;t=Array.prototype.slice.call(arguments,1);t.unshift(function(e,t){n.dispose();t()});return n=this.on.apply(this,[e].concat(t))},"execute":function(e,t,n){var r,i,o;if(!e.__isCommand){r=this.message(e,t)}else{r=e;n=t}if(arguments.length===2&&a(t)==="function"){n=t}if(a(n)!=="function"){n=function(){}}i=this._listeners[r.name]||{};o=(i.pre||[]).concat(i.callback||[]).concat(i.post||[]);r.listeners=o;this._triggerSpies(r);r.set("loading",true);function u(e,t){var i=arguments;s.nextTick(function(){if(e){r.set("error",e);return n(e)}r.set("success",!e);r.set("loading",false);r.set("data",t);n.apply(this,i)})}if(!o.length){u(new Error("command '"+e+"' does not exist"));return r}var c=[];s.eachSeries(o,function(e,t){e(r,function(n){if(!n&&e===i.callback){c=r.args.length?[null].concat(r.args):Array.prototype.slice.call(arguments,0)}t(n)})},function(e){if(e)return u.apply(this,arguments);u.apply(this,c)});return r},"_parse":function(e){var t=e.split(" "),n=t.pop(),r=t.pop();return{"type":r,"name":n}}});t.exports=function(){return new l}},{"./factory":67,"./factory/collection":65,"./message":71,"async":72,"protoclass":73,"sift":74,"type-component":75}],"71":[function(e,t,n){var r=e("bindable");function i(e,t,n,i,o){r.Object.call(this,this);this.name=e;this.data=t;this.options=n||{};this.mediator=i;this.parent=o;this.args=[];this.root=o?o.root:this;var a=this;["success","result","data","error"].forEach(function(e){a.bind(e,function(){a.emit.apply(a,[e].concat(Array.prototype.slice.call(arguments,0)))})})}r.Object.extend(i,{"__isCommand":true,"child":function(e,t){return new i(e,this.data,t,this.mediator,this)}});t.exports=i},{"bindable":22}],"72":[function(e,t,n){(function(e){(function(){var n={};var r,i;r=this;if(r!=null){i=r.async}n.noConflict=function(){r.async=i;return n};function o(e){var t=false;return function(){if(t)throw new Error("Callback was already called.");t=true;e.apply(r,arguments)}}var a=Object.prototype.toString;var s=Array.isArray||function(e){return a.call(e)==="[object Array]"};var u=function(e,t){if(e.forEach){return e.forEach(t)}for(var n=0;n<e.length;n+=1){t(e[n],n,e)}};var c=function(e,t){if(e.map){return e.map(t)}var n=[];u(e,function(e,r,i){n.push(t(e,r,i))});return n};var l=function(e,t,n){if(e.reduce){return e.reduce(t,n)}u(e,function(e,r,i){n=t(n,e,r,i)});return n};var f=function(e){if(Object.keys){return Object.keys(e)}var t=[];for(var n in e){if(e.hasOwnProperty(n)){t.push(n)}}return t};if(typeof e==="undefined"||!e.nextTick){if(typeof setImmediate==="function"){n.nextTick=function(e){setImmediate(e)};n.setImmediate=n.nextTick}else{n.nextTick=function(e){setTimeout(e,0)};n.setImmediate=n.nextTick}}else{n.nextTick=e.nextTick;if(typeof setImmediate!=="undefined"){n.setImmediate=function(e){setImmediate(e)}}else{n.setImmediate=n.nextTick}}n.each=function(e,t,n){n=n||function(){};if(!e.length){return n()}var r=0;u(e,function(e){t(e,o(i))});function i(t){if(t){n(t);n=function(){}}else{r+=1;if(r>=e.length){n()}}}};n.forEach=n.each;n.eachSeries=function(e,t,n){n=n||function(){};if(!e.length){return n()}var r=0;var i=function(){t(e[r],function(t){if(t){n(t);n=function(){}}else{r+=1;if(r>=e.length){n()}else{i()}}})};i()};n.forEachSeries=n.eachSeries;n.eachLimit=function(e,t,n,r){var i=p(t);i.apply(null,[e,n,r])};n.forEachLimit=n.eachLimit;var p=function(e){return function(t,n,r){r=r||function(){};if(!t.length||e<=0){return r()}var i=0;var o=0;var a=0;(function s(){if(i>=t.length){return r()}while(a<e&&o<t.length){o+=1;a+=1;n(t[o-1],function(e){if(e){r(e);r=function(){}}else{i+=1;a-=1;if(i>=t.length){r()}else{s()}}})}})()}};var d=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[n.each].concat(t))}};var h=function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[p(e)].concat(n))}};var v=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[n.eachSeries].concat(t))}};var m=function(e,t,n,r){var i=[];t=c(t,function(e,t){return{"index":t,"value":e}});e(t,function(e,t){n(e.value,function(n,r){i[e.index]=r;t(n)})},function(e){r(e,i)})};n.map=d(m);n.mapSeries=v(m);n.mapLimit=function(e,t,n,r){return g(t)(e,n,r)};var g=function(e){return h(e,m)};n.reduce=function(e,t,r,i){n.eachSeries(e,function(e,n){r(t,e,function(e,r){t=r;n(e)})},function(e){i(e,t)})};n.inject=n.reduce;n.foldl=n.reduce;n.reduceRight=function(e,t,r,i){var o=c(e,function(e){return e}).reverse();n.reduce(o,t,r,i)};n.foldr=n.reduceRight;var y=function(e,t,n,r){var i=[];t=c(t,function(e,t){return{"index":t,"value":e}});e(t,function(e,t){n(e.value,function(n){if(n){i.push(e)}t()})},function(e){r(c(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};n.filter=d(y);n.filterSeries=v(y);n.select=n.filter;n.selectSeries=n.filterSeries;var b=function(e,t,n,r){var i=[];t=c(t,function(e,t){return{"index":t,"value":e}});e(t,function(e,t){n(e.value,function(n){if(!n){i.push(e)}t()})},function(e){r(c(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};n.reject=d(b);n.rejectSeries=v(b);var _=function(e,t,n,r){e(t,function(e,t){n(e,function(n){if(n){r(e);r=function(){}}else{t()}})},function(e){r()})};n.detect=d(_);n.detectSeries=v(_);n.some=function(e,t,r){n.each(e,function(e,n){t(e,function(e){if(e){r(true);r=function(){}}n()})},function(e){r(false)})};n.any=n.some;n.every=function(e,t,r){n.each(e,function(e,n){t(e,function(e){if(!e){r(false);r=function(){}}n()})},function(e){r(true)})};n.all=n.every;n.sortBy=function(e,t,r){n.map(e,function(e,n){t(e,function(t,r){if(t){n(t)}else{n(null,{"value":e,"criteria":r})}})},function(e,t){if(e){return r(e)}else{var n=function(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0};r(null,c(t.sort(n),function(e){return e.value}))}})};n.auto=function(e,t){t=t||function(){};var r=f(e);var i=r.length;if(!i){return t()}var o={};var a=[];var c=function(e){a.unshift(e)};var p=function(e){for(var t=0;t<a.length;t+=1){if(a[t]===e){a.splice(t,1);return}}};var d=function(){i--;u(a.slice(0),function(e){e()})};c(function(){if(!i){var e=t;t=function(){};e(null,o)}});u(r,function(r){var i=s(e[r])?e[r]:[e[r]];var a=function(e){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1){i=i[0]}if(e){var a={};u(f(o),function(e){a[e]=o[e]});a[r]=i;t(e,a);t=function(){}}else{o[r]=i;n.setImmediate(d)}};var h=i.slice(0,Math.abs(i.length-1))||[];var v=function(){return l(h,function(e,t){return e&&o.hasOwnProperty(t)},true)&&!o.hasOwnProperty(r)};if(v()){i[i.length-1](a,o)}else{var m=function(){if(v()){p(m);i[i.length-1](a,o)}};c(m)}})};n.retry=function(e,t,r){var i=5;var o=[];if(typeof e==="function"){r=t;t=e;e=i}e=parseInt(e,10)||i;var a=function(i,a){var s=function(e,t){return function(n){e(function(e,r){n(!e||t,{"err":e,"result":r})
},a)}};while(e){o.push(s(t,!(e-=1)))}n.series(o,function(e,t){t=t[t.length-1];(i||r)(t.err,t.result)})};return r?a():a};n.waterfall=function(e,t){t=t||function(){};if(!s(e)){var r=new Error("First argument to waterfall must be an array of functions");return t(r)}if(!e.length){return t()}var i=function(e){return function(r){if(r){t.apply(null,arguments);t=function(){}}else{var o=Array.prototype.slice.call(arguments,1);var a=e.next();if(a){o.push(i(a))}else{o.push(t)}n.setImmediate(function(){e.apply(null,o)})}}};i(n.iterator(e))()};var w=function(e,t,n){n=n||function(){};if(s(t)){e.map(t,function(e,t){if(e){e(function(e){var n=Array.prototype.slice.call(arguments,1);if(n.length<=1){n=n[0]}t.call(null,e,n)})}},n)}else{var r={};e.each(f(t),function(e,n){t[e](function(t){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1){i=i[0]}r[e]=i;n(t)})},function(e){n(e,r)})}};n.parallel=function(e,t){w({"map":n.map,"each":n.each},e,t)};n.parallelLimit=function(e,t,n){w({"map":g(t),"each":p(t)},e,n)};n.series=function(e,t){t=t||function(){};if(s(e)){n.mapSeries(e,function(e,t){if(e){e(function(e){var n=Array.prototype.slice.call(arguments,1);if(n.length<=1){n=n[0]}t.call(null,e,n)})}},t)}else{var r={};n.eachSeries(f(e),function(t,n){e[t](function(e){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1){i=i[0]}r[t]=i;n(e)})},function(e){t(e,r)})}};n.iterator=function(e){var t=function(n){var r=function(){if(e.length){e[n].apply(null,arguments)}return r.next()};r.next=function(){return n<e.length-1?t(n+1):null};return r};return t(0)};n.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var x=function(e,t,n,r){var i=[];e(t,function(e,t){n(e,function(e,n){i=i.concat(n||[]);t(e)})},function(e){r(e,i)})};n.concat=d(x);n.concatSeries=v(x);n.whilst=function(e,t,r){if(e()){t(function(i){if(i){return r(i)}n.whilst(e,t,r)})}else{r()}};n.doWhilst=function(e,t,r){e(function(i){if(i){return r(i)}var o=Array.prototype.slice.call(arguments,1);if(t.apply(null,o)){n.doWhilst(e,t,r)}else{r()}})};n.until=function(e,t,r){if(!e()){t(function(i){if(i){return r(i)}n.until(e,t,r)})}else{r()}};n.doUntil=function(e,t,r){e(function(i){if(i){return r(i)}var o=Array.prototype.slice.call(arguments,1);if(!t.apply(null,o)){n.doUntil(e,t,r)}else{r()}})};n.queue=function(e,t){if(t===undefined){t=1}function r(e,t,r,i){if(!e.started){e.started=true}if(!s(t)){t=[t]}if(t.length==0){return n.setImmediate(function(){if(e.drain){e.drain()}})}u(t,function(t){var o={"data":t,"callback":typeof i==="function"?i:null};if(r){e.tasks.unshift(o)}else{e.tasks.push(o)}if(e.saturated&&e.tasks.length===e.concurrency){e.saturated()}n.setImmediate(e.process)})}var i=0;var a={"tasks":[],"concurrency":t,"saturated":null,"empty":null,"drain":null,"started":false,"paused":false,"push":function(e,t){r(a,e,false,t)},"kill":function(){a.drain=null;a.tasks=[]},"unshift":function(e,t){r(a,e,true,t)},"process":function(){if(!a.paused&&i<a.concurrency&&a.tasks.length){var t=a.tasks.shift();if(a.empty&&a.tasks.length===0){a.empty()}i+=1;var n=function(){i-=1;if(t.callback){t.callback.apply(t,arguments)}if(a.drain&&a.tasks.length+i===0){a.drain()}a.process()};var r=o(n);e(t.data,r)}},"length":function(){return a.tasks.length},"running":function(){return i},"idle":function(){return a.tasks.length+i===0},"pause":function(){if(a.paused===true){return}a.paused=true;a.process()},"resume":function(){if(a.paused===false){return}a.paused=false;a.process()}};return a};n.cargo=function(e,t){var r=false,i=[];var o={"tasks":i,"payload":t,"saturated":null,"empty":null,"drain":null,"drained":true,"push":function(e,r){if(!s(e)){e=[e]}u(e,function(e){i.push({"data":e,"callback":typeof r==="function"?r:null});o.drained=false;if(o.saturated&&i.length===t){o.saturated()}});n.setImmediate(o.process)},"process":function a(){if(r)return;if(i.length===0){if(o.drain&&!o.drained)o.drain();o.drained=true;return}var n=typeof t==="number"?i.splice(0,t):i.splice(0,i.length);var s=c(n,function(e){return e.data});if(o.empty)o.empty();r=true;e(s,function(){r=false;var e=arguments;u(n,function(t){if(t.callback){t.callback.apply(null,e)}});a()})},"length":function(){return i.length},"running":function(){return r}};return o};var E=function(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);if(typeof console!=="undefined"){if(t){if(console.error){console.error(t)}}else if(console[e]){u(n,function(t){console[e](t)})}}}]))}};n.log=E("log");n.dir=E("dir");n.memoize=function(e,t){var r={};var i={};t=t||function(e){return e};var o=function(){var o=Array.prototype.slice.call(arguments);var a=o.pop();var s=t.apply(null,o);if(s in r){n.nextTick(function(){a.apply(null,r[s])})}else if(s in i){i[s].push(a)}else{i[s]=[a];e.apply(null,o.concat([function(){r[s]=arguments;var e=i[s];delete i[s];for(var t=0,n=e.length;t<n;t++){e[t].apply(null,arguments)}}]))}};o.memo=r;o.unmemoized=e;return o};n.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}};n.times=function(e,t,r){var i=[];for(var o=0;o<e;o++){i.push(o)}return n.map(i,t,r)};n.timesSeries=function(e,t,r){var i=[];for(var o=0;o<e;o++){i.push(o)}return n.mapSeries(i,t,r)};n.seq=function(){var e=arguments;return function(){var t=this;var r=Array.prototype.slice.call(arguments);var i=r.pop();n.reduce(e,r,function(e,n,r){n.apply(t,e.concat([function(){var e=arguments[0];var t=Array.prototype.slice.call(arguments,1);r(e,t)}]))},function(e,n){i.apply(t,[e].concat(n))})}};n.compose=function(){return n.seq.apply(null,Array.prototype.reverse.call(arguments))};var A=function(e,t){var n=function(){var n=this;var r=Array.prototype.slice.call(arguments);var i=r.pop();return e(t,function(e,t){e.apply(n,r.concat([t]))},i)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return n.apply(this,r)}else{return n}};n.applyEach=d(A);n.applyEachSeries=v(A);n.forever=function(e,t){function n(r){if(r){if(t){return t(r)}throw r}e(n)}n()};if(typeof t!=="undefined"&&t.exports){t.exports=n}else if(typeof define!=="undefined"&&define.amd){define([],function(){return n})}else{r.async=n}})()}).call(this,e("OpdoqP"))},{"OpdoqP":58}],"73":[function(e,t,n){t.exports=e(28)},{}],"74":[function(e,t,n){(function(){var e=function(e,t){var n={},r=n;for(var i=0,o=e.length-1;i<o;i++){r=r[e[i]]={}}r[e[i]]=t;return n};var n=new function(){var t=this.priority=function(e,t){var n=e.exprs,r=0;for(var o=0,a=n.length;o<a;o++){var s=n[o],u;if(!~(u=s.e(s.v,i(t),t)))return-1;r+=u}return r};var n=this.parse=function(i,o){if(!i)i={"$eq":i};var s=[];if(Object.prototype.toString.call(i)==="[object Object]"){for(var c in i){var l=!!a[c]?c:"$trav",f=i[c],p=f;if(r[l]){if(~c.indexOf(".")){var d=c.split(".");c=d.shift();p=f=e(d,f)}if(f instanceof Array){p=[];for(var h=f.length;h--;){p.push(n(f[h]))}}else{p=n(f,c)}}s.push(u(l,c,p))}}else{s.push(u("$eq",c,i))}var v={"exprs":s,"k":o,"test":function(e){return!!~v.priority(e)},"priority":function(e){return t(v,e)}};return v};var r=this.traversable={"$and":true,"$or":true,"$nor":true,"$trav":true,"$not":true};function i(e){if(e instanceof Date){return e.getTime()}else{return e}}function o(e){return e?0:-1}var a=this.testers={"$eq":function(e,t){return o(e.test(t))},"$ne":function(e,t){return o(!e.test(t))},"$lt":function(e,t){return o(e>t)},"$gt":function(e,t){return o(e<t)},"$lte":function(e,t){return o(e>=t)},"$gte":function(e,t){return o(e<=t)},"$exists":function(e,t){return o(e===(t!=null))},"$in":function(e,t){if(t instanceof Array){for(var n=t.length;n--;){if(~e.indexOf(t[n]))return n}}else{return o(~e.indexOf(t))}return-1},"$not":function(e,t){if(!e.test)throw new Error("$not test should include an expression, not a value. Use $ne instead.");return o(!e.test(t))},"$type":function(e,t,n){return n?o(n instanceof e||n.constructor==e):-1},"$nin":function(e,t){return~a.$in(e,t)?-1:0},"$mod":function(e,t){return t%e[0]==e[1]?0:-1},"$all":function(e,t){for(var n=e.length;n--;){var r=e[n];var i=~t.indexOf(r);if(!i)return-1}return 0},"$size":function(e,t){return t?o(e==t.length):-1},"$or":function(e,n){var r=e.length,i,a=r;for(;r--;){if(~t(e[r],n)){return r}}return o(a==0)},"$nor":function(e,n){var r=e.length,i=r;for(;r--;){if(~t(e[r],n)){return-1}}return 0},"$and":function(e,n){for(var r=e.length;r--;){if(!~t(e[r],n)){return-1}}return 0},"$trav":function(e,n){if(n instanceof Array){for(var r=n.length;r--;){var i=n[r];if(i[e.k]&&~t(e,i[e.k]))return r}return-1}return t(e,n?n[e.k]:undefined)},"$regex":function(e,t){var n=new RegExp(e);return n.test(t)?0:-1}};var s={"$eq":function(e){var t;if(e instanceof RegExp){return e}else if(e instanceof Function){t=e}else{t=function(t){if(t instanceof Array){return~t.indexOf(e)}else{return e==t}}}return{"test":t}},"$ne":function(e){return s.$eq(e)}};var u=function(e,t,n){var r=i(n);return{"k":t,"v":s[e]?s[e](r):r,"e":a[e]}}};var r=function(e){if(!e){return function(e){return e}}else if(typeof e=="function"){return e}throw new Error("Unknown sift selector "+e)};var i=function(e,t){var r=n.parse(e);var i=function(e){var n=[],i=[],o,a,s;for(var u=0,c=e.length;u<c;u++){a=e[u];o=t(a);if(!~(s=r.priority(o)))continue;n.push({"value":a,"priority":s})}n.sort(function(e,t){return e.priority>t.priority?-1:1});var l=Array(n.length);for(var u=n.length;u--;){l[u]=n[u].value}return l};i.test=r.test;i.score=r.priority;i.query=e;return i};var o=function(e,t,n){if(typeof t!="object"){n=t;t=undefined}var o=i(e,r(n));if(t)return o(t);return o};o.use=function(e){if(e.operators)o.useOperators(e.operators)};o.useOperators=function(e){for(var t in e){o.useOperator(t,e[t])}};o.useOperator=function(e,t){var r={};if(typeof t=="object"){r=t}else{r={"test":t}}var i="$"+e;n.testers[i]=r.test;if(r.traversable||r.traverse){n.traversable[i]=true}};if(typeof t!="undefined"&&typeof t.exports!="undefined"){t.exports=o}else if(typeof window!="undefined"){window.sift=o}})()},{}],"75":[function(e,t,n){t.exports=e(52)},{}],"76":[function(e,t,n){var r=e("bindable"),i=e("lodash"),o=e("./model"),a=e("janitorjs"),s=e("mojo-application");function u(e,t){if(!e)e={};r.Collection.call(this,e._source);this.application=t||s.main;this._modelsJanitor=a();this.setProperties(e);this.bind("data",i.bind(this._onData,this));if(this.data)this._onData(this.data);t.models.decorate(this);this._rewatchModels()}t.exports=r.Collection.extend(u,{"idProperty":"_id","deserialize":function(e){return{"value":e}},"createModel":function(e){e.collection=this;var t=o;if(this.modelType){if(typeof this.modelType==="function"){t=this.modelType}else{return this.application.models.create(this.modelType,e)}}return new t(e,this.application)},"create":function(e){if(!e)e={};var t=this._watchModel(this.createModel(e),true),n=this;if(e.waitUntilSave!==true){this.push(t)}else{t.once("didSave",function(){if(e.waitUntilSave===true)n.push(t)})}return t},"_onData":function(e){var t=this;var n=this.deserialize(e||[]),r=n.value||n.source;delete n["source"];this.setProperties(n);var i=r||[],o=this.source().concat(),a=[],s;this._modelsJanitor.dispose();for(var u=o.length;u--;){var c=o[u];for(var l=i.length;l--;){var f=i[l];if(this._compareIds(c,f)){c.set("data",f);o.splice(u,1);i.splice(l,1)}}}for(var u=o.length;u--;){var c=o[u];this.splice(this.indexOf(c),1);c.dispose()}for(var u=0,p=i.length;u<p;u++){s=this.createModel({"data":i[u]});this.push(s);a.push(s)}this._rewatchModels();if(this._addedDataOnce){var d={};if(a.length){d.create=a}if(o.length){d.remove=o}if(d.create||d.remove){this.emit("didUpdate",d)}}this._addedDataOnce=true},"_watchModel":function(e,t){var n=this;var r=a();r.add(e.on("didSave",function(){if(t){n.emit("didUpdate",{"create":[e]})}else{n.emit("didUpdate",{"save":e})}}));this._modelsJanitor.add(e.once("dispose",function(){var t=n.indexOf(e);if(e.remove!=null){e.once("didRemove",function(){n.emit("didUpdate",{"remove":[e]})})}r.dispose();if(!~t)return;n.splice(t,1)}));this._modelsJanitor.add(r);return e},"_rewatchModels":function(){this._modelsJanitor.dispose();for(var e=this.length;e--;){this._watchModel(this.at(e))}},"_compareIds":function(e,t){if(typeof t==="object"){return e.data[this.idProperty]===t[this.idProperty]}else{return e.value===t}},"toJSON":function(){return this.source().map(function(e){return e.toJSON()})}})},{"./model":77,"bindable":22,"janitorjs":91,"lodash":94,"mojo-application":31}],"77":[function(e,t,n){var r=e("bindable"),i=e("lodash"),o=e("mojo-application");function a(e,t){r.Object.call(this,this);this.application=t||o.main;this.setProperties(e||{});this.bind("data",i.bind(this._onData,this));if(this.data)this._onData(this.data);t.models.decorate(this)}t.exports=r.Object.extend(a,{"deserialize":function(e){return e},"serialize":function(){var e={},t=this._deserializedData||this;for(var n in t){var r=this[n];e[n]=r}return e},"toJSON":function(){return this.serialize()},"_onData":function(e){if(!e)return;var e=this.deserialize(e);if(typeof e==="object"){this._deserializedData=e;this.setProperties(e)}else{this.set("value",e)}}})},{"bindable":22,"lodash":94,"mojo-application":31}],"78":[function(e,t,n){var r=e("./utils/memoize"),i=e("lodash"),o=e("hurryup"),a=e("async");t.exports={"priority":"init","getOptions":function(e){return e.persist},"decorate":function(e){var t=e.persist;if(typeof t==="function"){t=t(e)}e.persist=t;var n=a.queue(function(e,t){e(t)});function s(e){e=o(e,{"timeout":1e3*10,"retry":false});n.push(e)}e.save=function(n){if(typeof n!=="function")n=function(){};var r=this;e.set("loading",true);s(function(i){e.emit("willSave");function o(t,r){i();if(t)return n(t);if(typeof r==="object"){e.set("data",r)}e.set("loading",false);e.emit("didSave");if(e.didSave)e.didSave();e.emit("saved");n(null,e)}if(t.save){t.save.call(r,o)}else{o(new Error("cannot save model"))}});return this};e.remove=function(n){if(typeof n!=="function")n=function(){};if(!t.remove){n(new Error("cannot remove model"));return this}var r=this;e.set("loading",true);e.dispose();s(function(i){e.emit("willRemove");t.remove.call(r,function(t){i();if(t)return n(t);e.set("loading",false);e.emit("didRemove");if(e.didRemove)e.didRemove();e.emit("removed");n(null,e)})});return this};e.reload=function(n){if(typeof n!=="function")n=function(){};if(!t.load){n(new Error("cannot load model"));return this}var r=this;e.set("loading",true);s(function(i){t.load.call(r,function(t,r){i();e.set("loading",false);if(t){n(t);return e._load.clear()}if(r!=undefined){e.set("data",r)}n(null,e)})});return this};e._load=r(i.bind(e.reload,e));e.load=function(t){if(typeof t!=="function")t=function(){};e._load(t);return this}}}},{"./utils/memoize":80,"async":83,"hurryup":89,"lodash":94}],"79":[function(e,t,n){var r=e("frills"),i=e("./virtuals"),o=e("./crud"),a=e("bindable-decor-bindings");t.exports=function(e){var t=r();t.priority("init",1).priority("load",2).use(i,o,a());e.models.decorator=function(e){t.use(e)};e.models.decorate=function(e,n){t.decorate(e,n)}}},{"./crud":78,"./virtuals":81,"bindable-decor-bindings":84,"frills":87}],"80":[function(e,t,n){var r=e("bindable");t.exports=function(e,t){if(!t)t={};var n=new r.EventEmitter,i=null,o=false;var a=function(){var r=Array.prototype.slice.call(arguments,0);var s=r.pop()||function(){};if(i){return s.apply(this,i)}n.once("done",s);if(o)return;o=true;r.push(function(){var e=Array.prototype.slice.call(arguments,0);o=false;if(t.store!==false){i=e}n.emit.apply(n,["done"].concat(e));if(t.maxAge){setTimeout(a.clear,t.maxAge)}});e.apply(this,r)};a.clear=function(){i=void 0};return a}},{"bindable":22}],"81":[function(e,t,n){t.exports={"getOptions":function(e){return e.virtuals},"decorate":function(e,t){var n={},r=false;e.on("watching",function(i){var o=i[0];if(e.has(o))return;var a=this;if(t[o]){if(n[o])return;n[o]=true;t[o].call(e,function(t,r){n[o]=false;if(t)return;e.set(o,r)})}else{var s=t["*"];if(!s||r)return;r=true;s.call(e,o,function(){})}})}}},{}],"82":[function(e,t,n){var r=e("mojo-registered-classes"),i=e("./decor"),o=e("./base/model"),a=e("./base/collection"),s=e("mojo-application");t.exports=function(e){e.models=new r(e);e.use(i)};t.exports.Base=o;t.exports.Collection=a;s.main.use(t.exports)},{"./base/collection":76,"./base/model":77,"./decor":79,"mojo-application":31,"mojo-registered-classes":95}],"83":[function(e,t,n){t.exports=e(72)},{"OpdoqP":58}],"84":[function(e,t,n){(function(){var n,r,i=function(e,t){return function(){return e.apply(t,arguments)}};r=e("disposable");n=function(){function e(e,t){this.target=e;this.dispose=i(this.dispose,this);this._onVisibilityChange=i(this._onVisibilityChange,this);this.bind=i(this.bind,this);this.bindings=typeof t==="object"?t:void 0;this._bindings=[];this.target.once("dispose",this.dispose);this.target.on("change:visible",this._onVisibilityChange)}e.prototype.bind=function(){this.dispose();if(this.bindings){return this._setupExplicitBindings()}};e.prototype._onVisibilityChange=function(e){if(e){return this.resume()}else{return this.pause()}};e.prototype.dispose=function(){var e,t,n,r;r=this._bindings;for(t=0,n=r.length;t<n;t++){e=r[t];e.dispose()}return this._bindings=[]};e.prototype.pause=function(){var e,t,n,r,i;r=this._bindings;i=[];for(t=0,n=r.length;t<n;t++){e=r[t];i.push(e.pause())}return i};e.prototype.resume=function(){var e,t,n,r,i;r=this._bindings;i=[];for(t=0,n=r.length;t<n;t++){e=r[t];i.push(e.resume().now())}return i};e.prototype._setupExplicitBindings=function(){var e,t,n;e=this.bindings;this._bindings=[];n=[];for(t in e){n.push(this._setupBinding(t,e[t]))}return n};e.prototype._setupBinding=function(e,t){var n,r;r={};if(typeof t==="function"){n=t;t=function(e){return function(){return n.apply(e.target,arguments)}}(this)}if(t.to){r=t}else{r={"to":t}}return this._bindings.push(this.target.bind(e,r).now())};return e}();t.exports=function(e){return{"priority":"load","getOptions":function(e){return e.bindings},"decorate":function(t,r){var i;i=new n(t,r);if(e){return t.once(e,i.bind)}else{return i.bind()}}}}}).call(this)},{"disposable":85}],"85":[function(e,t,n){(function(){var e={};e.create=function(){var t={},n=[];t.add=function(r){if(arguments.length>1){var i=e.create();for(var o=arguments.length;o--;){i.add(arguments[o])}return t.add(i)}if(typeof r=="function"){var a=r,s=Array.prototype.slice.call(arguments,0);s.shift();r={"dispose":function(){a.apply(null,s)}}}else if(!r||!r.dispose){return false}n.push(r);return{"dispose":function(){var e=n.indexOf(r);if(e>-1)n.splice(e,1)}}};t.addTimeout=function(e){return t.add(function(){clearTimeout(e)})};t.addInterval=function(e){return t.add(function(){clearInterval(e)})};t.addBinding=function(e){t.add(function(){e.unbind()})};t.dispose=function(){for(var e=n.length;e--;){n[e].dispose()}n=[]};return t};if(typeof t!="undefined"){t.exports=e}else if(typeof window!="undefined"){window.disposable=e}})()},{}],"86":[function(e,t,n){var r=e("protoclass");function i(){this._priorities={};this._decorators=[]}t.exports=r(i,{"priority":function(e,t){this._priorities[e]=t;return this},"use":function(){var e=this._priorities;this._decorators=this._decorators.concat(Array.prototype.slice.call(arguments,0)).sort(function(t,n){return e[t.priority]>e[n.priority]?-1:1})},"decorate":function(e,t){if(!t){t=e.constructor.prototype;if(t===Object.prototype){t=e}}var n=e,r,i,o,a={};while(n){for(var s=this._decorators.length;s--;){r=this._decorators[s];if(a[s]&&r.multi!==true)continue;if((o=r.getOptions(n))!=null){r.decorate(e,o);a[s]=true}}n=n.constructor.__super__}}})},{"protoclass":88}],"87":[function(e,t,n){var r=e("./decorator");t.exports=function(){return new r}},{"./decorator":86}],"88":[function(e,t,n){t.exports=e(28)},{}],"89":[function(e,t,n){(function(n){var r=e("comerr");t.exports=function(e,t){var i={};if(t){if(typeof t=="object"){i=t}else{i={"timeout":t}}}var o=i.timeout||1e3*20;var a=i.retry||false;var s=!!(a.constructor&&a.call&&a.apply);var u=i.retryTimeout||3e3;return function(){var t=Array.prototype.slice.call(arguments,0),i=false,u,c,l=this==n?{}:this;if(typeof t[t.length-1]=="function"){u=t.pop()}else{u=function(e){if(e)throw e}}var f,c,p,d=Date.now()+o,h=setTimeout(function(){c.dispose();u.call(l,p||new r.Timeout)},o);function v(){this._timeLeft=d-Date.now();e.apply(this,t.concat(function(e){if(i)return;if(e&&a&&(!s||a(e))){p=e;return f=setTimeout(v,f)}clearTimeout(h);u.apply(this,arguments)}))}v.call(l);return c={"dispose":function(){i=true;clearTimeout(f);clearTimeout(h)}}}}}).call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"comerr":90}],"90":[function(e,t,n){var r={"401":"Unauthorized","402":"Payment Required","404":"Not Found","403":"Forbidden","408":"Timeout","423":"Locked","429":"Too Many Requests","500":"Unknown","501":"Not Implemented","601":"Incorrect Input","602":"Invalid","604":"Already Exists","605":"Expired","606":"Unable To Connect","607":"Already Called","608":"Not Enough Info","609":"Incorrect Type"};n.codes={};n.byCode={};n.register=function(e){Object.keys(e).forEach(function(t){var r=e[t],i=r,o=r.replace(/\s+/g,""),a=o.substr(0,1).toLowerCase()+o.substr(1);if(n[o]){throw new Error("Error code '"+t+"' already exists.")}function s(e,n){e.code=t;e[a]=true;if(n)e.tags=n;return e}var u=n[o]=function(e,t){Error.call(this,e);this.message=e||r;this.stack=new Error(this.message).stack;s(this)};u.prototype=new Error;u.prototype.constructor=u;u.prototype.name=r;n.byCode[t]=u;n.codes[o]=t;n[a]=u.fn=function(e,t){return s(new Error(e||r),t)}})};n.fromCode=function(e,t){var r=n.byCode[Number(e)]||n.Unknown;return r.fn(t)};n.register(r)},{}],"91":[function(e,t,n){var r=e("protoclass"),i=e("type-component");function o(){this._garbage=[]}r(o,{"add":function(e){if(e.dispose){this._garbage.push(e)}else if(i(e)==="function"){this._garbage.push({"dispose":e})}return this},"remove":function(e){var t=this._garbage.indexOf(e);if(!~t)return;this._garbage.splice(t,1)},"addTimeout":function(e){return this.add({"dispose":function(){clearTimeout(e)}})},"addInterval":function(e){return this.add({"dispose":function(){clearInterval(e)}})},"dispose":function(){for(var e=this._garbage.length;e--;){this._garbage[e].dispose()}this._garbage=[];return this}});t.exports=function(){return new o}},{"protoclass":92,"type-component":93}],"92":[function(e,t,n){t.exports=e(28)},{}],"93":[function(e,t,n){t.exports=e(52)},{}],"94":[function(e,t,n){(function(e){(function(){var r;var i=[],o=[];var a=0;var s=+new Date+"";var u=75;var c=40;var l=" 	\f\xa0\ufeff"+"\n\r\u2028\u2029"+"\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000";var f=/\b__p \+= '';/g,p=/\b(__p \+=) '' \+/g,d=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var h=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var v=/\w*$/;var m=/^\s*function[ \n\r\t]+\w/;var g=/<%=([\s\S]+?)%>/g;var y=RegExp("^["+l+"]*0+(?=.$)");var b=/($^)/;var _=/\bthis\b/;var w=/['\n\r\t\u2028\u2029\\]/g;var x=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"];var E=0;var A="[object Arguments]",k="[object Array]",q="[object Boolean]",S="[object Date]",C="[object Function]",D="[object Number]",O="[object Object]",j="[object RegExp]",T="[object String]";var N={};N[C]=false;N[A]=N[k]=N[q]=N[S]=N[D]=N[O]=N[j]=N[T]=true;var B={"leading":false,"maxWait":0,"trailing":false};var L={"configurable":false,"enumerable":false,"value":null,"writable":false};var R={"boolean":false,"function":true,"object":true,"number":false,"string":false,"undefined":false};var F={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"};var I=R[typeof window]&&window||this;var P=R[typeof n]&&n&&!n.nodeType&&n;var U=R[typeof t]&&t&&!t.nodeType&&t;var M=U&&U.exports===P&&P;var V=R[typeof e]&&e;if(V&&(V.global===V||V.window===V)){I=V}function z(e,t,n){var r=(n||0)-1,i=e?e.length:0;while(++r<i){if(e[r]===t){return r}}return-1}function H(e,t){var n=typeof t;e=e.cache;if(n=="boolean"||t==null){return e[t]?0:-1}if(n!="number"&&n!="string"){n="object"}var r=n=="number"?t:s+t;e=(e=e[n])&&e[r];return n=="object"?e&&z(e,t)>-1?0:-1:e?0:-1}function $(e){var t=this.cache,n=typeof e;if(n=="boolean"||e==null){t[e]=true}else{if(n!="number"&&n!="string"){n="object"}var r=n=="number"?e:s+e,i=t[n]||(t[n]={});if(n=="object"){(i[r]||(i[r]=[])).push(e)}else{i[r]=true}}}function G(e){return e.charCodeAt(0)}function J(e,t){var n=e.criteria,r=t.criteria,i=-1,o=n.length;while(++i<o){var a=n[i],s=r[i];if(a!==s){if(a>s||typeof a=="undefined"){return 1}if(a<s||typeof s=="undefined"){return-1}}}return e.index-t.index}function W(e){var t=-1,n=e.length,r=e[0],i=e[n/2|0],o=e[n-1];if(r&&typeof r=="object"&&i&&typeof i=="object"&&o&&typeof o=="object"){return false}var a=Q();a["false"]=a["null"]=a["true"]=a["undefined"]=false;var s=Q();s.array=e;s.cache=a;s.push=$;while(++t<n){s.push(e[t])}return s}function K(e){return"\\"+F[e]}function Y(){return i.pop()||[]}function Q(){return o.pop()||{"array":null,"cache":null,"criteria":null,"false":false,"index":0,"null":false,"number":null,"object":null,"push":null,"string":null,"true":false,"undefined":false,"value":null}}function Z(e){e.length=0;if(i.length<c){i.push(e)}}function X(e){var t=e.cache;if(t){X(t)}e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null;if(o.length<c){o.push(e)}}function et(e,t,n){t||(t=0);if(typeof n=="undefined"){n=e?e.length:0}var r=-1,i=n-t||0,o=Array(i<0?0:i);while(++r<i){o[r]=e[t+r]}return o}function tt(e){e=e?nt.defaults(I.Object(),e,nt.pick(I,x)):I;var t=e.Array,n=e.Boolean,i=e.Date,o=e.Function,c=e.Math,F=e.Number,P=e.Object,U=e.RegExp,M=e.String,V=e.TypeError;var $=[];var rt=P.prototype;var it=e._;var ot=rt.toString;var at=U("^"+M(ot).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");var st=c.ceil,ut=e.clearTimeout,ct=c.floor,lt=o.prototype.toString,ft=Gt(ft=P.getPrototypeOf)&&ft,pt=rt.hasOwnProperty,dt=$.push,ht=e.setTimeout,vt=$.splice,mt=$.unshift;var gt=function(){try{var e={},t=Gt(t=P.defineProperty)&&t,n=t(e,e,e)&&t}catch(r){}return n}();var yt=Gt(yt=P.create)&&yt,bt=Gt(bt=t.isArray)&&bt,_t=e.isFinite,wt=e.isNaN,xt=Gt(xt=P.keys)&&xt,Et=c.max,At=c.min,kt=e.parseInt,qt=c.random;var St={};St[k]=t;St[q]=n;St[S]=i;St[C]=o;St[O]=P;St[D]=F;St[j]=U;St[T]=M;function Ct(e){return e&&typeof e=="object"&&!Qt(e)&&pt.call(e,"__wrapped__")?e:new Dt(e)}function Dt(e,t){this.__chain__=!!t;this.__wrapped__=e}Dt.prototype=Ct.prototype;var Ot=Ct.support={};Ot.funcDecomp=!Gt(e.WinRTError)&&_.test(tt);Ot.funcNames=typeof o.name=="string";Ct.templateSettings={"escape":/<%-([\s\S]+?)%>/g,"evaluate":/<%([\s\S]+?)%>/g,"interpolate":g,"variable":"","imports":{"_":Ct}};function jt(e){var t=e[0],n=e[2],r=e[4];function i(){if(n){var e=et(n);dt.apply(e,arguments)}if(this instanceof i){var o=Nt(t.prototype),a=t.apply(o,e||arguments);return qn(a)?a:o}return t.apply(r,e||arguments)}Jt(i,e);return i}function Tt(e,t,n,r,i){if(n){var o=n(e);if(typeof o!="undefined"){return o}}var a=qn(e);if(a){var s=ot.call(e);if(!N[s]){return e}var u=St[s];switch(s){case q:case S:return new u(+e);case D:case T:return new u(e);case j:o=u(e.source,v.exec(e));o.lastIndex=e.lastIndex;return o}}else{return e}var c=Qt(e);if(t){var l=!r;r||(r=Y());i||(i=Y());var f=r.length;while(f--){if(r[f]==e){return i[f]}}o=c?u(e.length):{}}else{o=c?et(e):on({},e)}if(c){if(pt.call(e,"index")){o.index=e.index}if(pt.call(e,"input")){o.input=e.input}}if(!t){return o}r.push(e);i.push(o);(c?Wn:hn)(e,function(e,a){o[a]=Tt(e,t,n,r,i)});if(l){Z(r);Z(i)}return o}function Nt(e,t){return qn(e)?yt(e):{}}if(!yt){Nt=function(){function t(){}return function(n){if(qn(n)){t.prototype=n;var r=new t;t.prototype=null}return r||e.Object()}}()}function Bt(e,t,n){if(typeof e!="function"){return Xr}if(typeof t=="undefined"||!("prototype"in e)){return e}var r=e.__bindData__;if(typeof r=="undefined"){if(Ot.funcNames){r=!e.name}r=r||!Ot.funcDecomp;if(!r){var i=lt.call(e);if(!Ot.funcNames){r=!m.test(i)}if(!r){r=_.test(i);Jt(e,r)}}}if(r===false||r!==true&&r[1]&1){return e}switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return Rr(e,t)}function Lt(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5];var s=n&1,u=n&2,c=n&4,l=n&8,f=t;function p(){var e=s?o:this;if(r){var d=et(r);dt.apply(d,arguments)}if(i||c){d||(d=et(arguments));if(i){dt.apply(d,i)}if(c&&d.length<a){n|=16&~32;return Lt([t,l?n:n&~3,d,null,o,a])}}d||(d=arguments);if(u){t=e[f]}if(this instanceof p){e=Nt(t.prototype);var h=t.apply(e,d);return qn(h)?h:e}return t.apply(e,d)}Jt(p,e);return p}function Rt(e,t){var n=-1,r=$t(),i=e?e.length:0,o=i>=u&&r===z,a=[];if(o){var s=W(t);if(s){r=H;t=s}else{o=false}}while(++n<i){var c=e[n];if(r(t,c)<0){a.push(c)}}if(o){X(t)}return a}function Ft(e,t,n,r){var i=(r||0)-1,o=e?e.length:0,a=[];while(++i<o){var s=e[i];if(s&&typeof s=="object"&&typeof s.length=="number"&&(Qt(s)||Yt(s))){if(!t){s=Ft(s,t,n)}var u=-1,c=s.length,l=a.length;a.length+=c;while(++u<c){a[l++]=s[u]}}else if(!n){a.push(s)}}return a}function It(e,t,n,r,i,o){if(n){var a=n(e,t);if(typeof a!="undefined"){return!!a}}if(e===t){return e!==0||1/e==1/t}var s=typeof e,u=typeof t;if(e===e&&!(e&&R[s])&&!(t&&R[u])){return false}if(e==null||t==null){return e===t}var c=ot.call(e),l=ot.call(t);if(c==A){c=O}if(l==A){l=O}if(c!=l){return false}switch(c){case q:case S:return+e==+t;case D:return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case j:case T:return e==M(t)}var f=c==k;if(!f){var p=pt.call(e,"__wrapped__"),d=pt.call(t,"__wrapped__");if(p||d){return It(p?e.__wrapped__:e,d?t.__wrapped__:t,n,r,i,o)}if(c!=O){return false}var h=e.constructor,v=t.constructor;if(h!=v&&!(kn(h)&&h instanceof h&&kn(v)&&v instanceof v)&&("constructor"in e&&"constructor"in t)){return false}}var m=!i;i||(i=Y());o||(o=Y());var g=i.length;while(g--){if(i[g]==e){return o[g]==t}}var y=0;a=true;i.push(e);o.push(t);if(f){g=e.length;y=t.length;a=y==g;if(a||r){while(y--){var b=g,_=t[y];if(r){while(b--){if(a=It(e[b],_,n,r,i,o)){break}}}else if(!(a=It(e[y],_,n,r,i,o))){break}}}}else{pn(t,function(t,s,u){if(pt.call(u,s)){y++;return a=pt.call(e,s)&&It(e[s],t,n,r,i,o)}});if(a&&!r){pn(e,function(e,t,n){if(pt.call(n,t)){return a=--y>-1}})}}i.pop();o.pop();if(m){Z(i);Z(o)}return a}function Pt(e,t,n,r,i){(Qt(t)?Wn:hn)(t,function(t,o){var a,s,u=t,c=e[o];if(t&&((s=Qt(t))||On(t))){var l=r.length;while(l--){if(a=r[l]==t){c=i[l];break}}if(!a){var f;if(n){u=n(c,t);if(f=typeof u!="undefined"){c=u}}if(!f){c=s?Qt(c)?c:[]:On(c)?c:{}}r.push(t);i.push(c);if(!f){Pt(c,t,n,r,i)}}}else{if(n){u=n(c,t);if(typeof u=="undefined"){u=t}}if(typeof u!="undefined"){c=u}}e[o]=c})}function Ut(e,t){return e+ct(qt()*(t-e+1))}function Mt(e,t,n){var r=-1,i=$t(),o=e?e.length:0,a=[];var s=!t&&o>=u&&i===z,c=n||s?Y():a;if(s){var l=W(c);i=H;c=l}while(++r<o){var f=e[r],p=n?n(f,r,e):f;if(t?!r||c[c.length-1]!==p:i(c,p)<0){if(n||s){c.push(p)}a.push(f)}}if(s){Z(c.array);X(c)}else if(n){Z(c)}return a}function Vt(e){return function(t,n,r){var i={};n=Ct.createCallback(n,r,3);var o=-1,a=t?t.length:0;if(typeof a=="number"){while(++o<a){var s=t[o];e(i,s,n(s,o,t),t)}}else{hn(t,function(t,r,o){e(i,t,n(t,r,o),o)})}return i}}function zt(e,t,n,r,i,o){var a=t&1,s=t&2,u=t&4,c=t&8,l=t&16,f=t&32;if(!s&&!kn(e)){throw new V}if(l&&!n.length){t&=~16;l=n=false}if(f&&!r.length){t&=~32;f=r=false}var p=e&&e.__bindData__;if(p&&p!==true){p=et(p);if(p[2]){p[2]=et(p[2])}if(p[3]){p[3]=et(p[3])}if(a&&!(p[1]&1)){p[4]=i}if(!a&&p[1]&1){t|=8}if(u&&!(p[1]&4)){p[5]=o}if(l){dt.apply(p[2]||(p[2]=[]),n)}if(f){mt.apply(p[3]||(p[3]=[]),r)}p[1]|=t;return zt.apply(null,p)}var d=t==1||t===17?jt:Lt;return d([e,t,n,r,i,o])}function Ht(e){return en[e]}function $t(){var e=(e=Ct.indexOf)===br?z:e;return e}function Gt(e){return typeof e=="function"&&at.test(e)}var Jt=!gt?ni:function(e,t){L.value=t;gt(e,"__bindData__",L)};function Wt(e){var t,n;
if(!(e&&ot.call(e)==O)||(t=e.constructor,kn(t)&&!(t instanceof t))){return false}pn(e,function(e,t){n=t});return typeof n=="undefined"||pt.call(e,n)}function Kt(e){return tn[e]}function Yt(e){return e&&typeof e=="object"&&typeof e.length=="number"&&ot.call(e)==A||false}var Qt=bt||function(e){return e&&typeof e=="object"&&typeof e.length=="number"&&ot.call(e)==k||false};var Zt=function(e){var t,n=e,r=[];if(!n)return r;if(!R[typeof e])return r;for(t in n){if(pt.call(n,t)){r.push(t)}}return r};var Xt=!xt?Zt:function(e){if(!qn(e)){return[]}return xt(e)};var en={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var tn=yn(en);var nn=U("("+Xt(tn).join("|")+")","g"),rn=U("["+Xt(en).join("")+"]","g");var on=function(e,t,n){var r,i=e,o=i;if(!i)return o;var a=arguments,s=0,u=typeof n=="number"?2:a.length;if(u>3&&typeof a[u-2]=="function"){var c=Bt(a[--u-1],a[u--],2)}else if(u>2&&typeof a[u-1]=="function"){c=a[--u]}while(++s<u){i=a[s];if(i&&R[typeof i]){var l=-1,f=R[typeof i]&&Xt(i),p=f?f.length:0;while(++l<p){r=f[l];o[r]=c?c(o[r],i[r]):i[r]}}}return o};function an(e,t,n,r){if(typeof t!="boolean"&&t!=null){r=n;n=t;t=false}return Tt(e,t,typeof n=="function"&&Bt(n,r,1))}function sn(e,t,n){return Tt(e,true,typeof t=="function"&&Bt(t,n,1))}function un(e,t){var n=Nt(e);return t?on(n,t):n}var cn=function(e,t,n){var r,i=e,o=i;if(!i)return o;var a=arguments,s=0,u=typeof n=="number"?2:a.length;while(++s<u){i=a[s];if(i&&R[typeof i]){var c=-1,l=R[typeof i]&&Xt(i),f=l?l.length:0;while(++c<f){r=l[c];if(typeof o[r]=="undefined")o[r]=i[r]}}}return o};function ln(e,t,n){var r;t=Ct.createCallback(t,n,3);hn(e,function(e,n,i){if(t(e,n,i)){r=n;return false}});return r}function fn(e,t,n){var r;t=Ct.createCallback(t,n,3);vn(e,function(e,n,i){if(t(e,n,i)){r=n;return false}});return r}var pn=function(e,t,n){var r,i=e,o=i;if(!i)return o;if(!R[typeof i])return o;t=t&&typeof n=="undefined"?t:Bt(t,n,3);for(r in i){if(t(i[r],r,e)===false)return o}return o};function dn(e,t,n){var r=[];pn(e,function(e,t){r.push(t,e)});var i=r.length;t=Bt(t,n,3);while(i--){if(t(r[i--],r[i],e)===false){break}}return e}var hn=function(e,t,n){var r,i=e,o=i;if(!i)return o;if(!R[typeof i])return o;t=t&&typeof n=="undefined"?t:Bt(t,n,3);var a=-1,s=R[typeof i]&&Xt(i),u=s?s.length:0;while(++a<u){r=s[a];if(t(i[r],r,e)===false)return o}return o};function vn(e,t,n){var r=Xt(e),i=r.length;t=Bt(t,n,3);while(i--){var o=r[i];if(t(e[o],o,e)===false){break}}return e}function mn(e){var t=[];pn(e,function(e,n){if(kn(e)){t.push(n)}});return t.sort()}function gn(e,t){return e?pt.call(e,t):false}function yn(e){var t=-1,n=Xt(e),r=n.length,i={};while(++t<r){var o=n[t];i[e[o]]=o}return i}function bn(e){return e===true||e===false||e&&typeof e=="object"&&ot.call(e)==q||false}function _n(e){return e&&typeof e=="object"&&ot.call(e)==S||false}function wn(e){return e&&e.nodeType===1||false}function xn(e){var t=true;if(!e){return t}var n=ot.call(e),r=e.length;if(n==k||n==T||n==A||n==O&&typeof r=="number"&&kn(e.splice)){return!r}hn(e,function(){return t=false});return t}function En(e,t,n,r){return It(e,t,typeof n=="function"&&Bt(n,r,2))}function An(e){return _t(e)&&!wt(parseFloat(e))}function kn(e){return typeof e=="function"}function qn(e){return!!(e&&R[typeof e])}function Sn(e){return Dn(e)&&e!=+e}function Cn(e){return e===null}function Dn(e){return typeof e=="number"||e&&typeof e=="object"&&ot.call(e)==D||false}var On=!ft?Wt:function(e){if(!(e&&ot.call(e)==O)){return false}var t=e.valueOf,n=Gt(t)&&(n=ft(t))&&ft(n);return n?e==n||ft(e)==n:Wt(e)};function jn(e){return e&&typeof e=="object"&&ot.call(e)==j||false}function Tn(e){return typeof e=="string"||e&&typeof e=="object"&&ot.call(e)==T||false}function Nn(e){return typeof e=="undefined"}function Bn(e,t,n){var r={};t=Ct.createCallback(t,n,3);hn(e,function(e,n,i){r[n]=t(e,n,i)});return r}function Ln(e){var t=arguments,n=2;if(!qn(e)){return e}if(typeof t[2]!="number"){n=t.length}if(n>3&&typeof t[n-2]=="function"){var r=Bt(t[--n-1],t[n--],2)}else if(n>2&&typeof t[n-1]=="function"){r=t[--n]}var i=et(arguments,1,n),o=-1,a=Y(),s=Y();while(++o<n){Pt(e,i[o],r,a,s)}Z(a);Z(s);return e}function Rn(e,t,n){var r={};if(typeof t!="function"){var i=[];pn(e,function(e,t){i.push(t)});i=Rt(i,Ft(arguments,true,false,1));var o=-1,a=i.length;while(++o<a){var s=i[o];r[s]=e[s]}}else{t=Ct.createCallback(t,n,3);pn(e,function(e,n,i){if(!t(e,n,i)){r[n]=e}})}return r}function Fn(e){var n=-1,r=Xt(e),i=r.length,o=t(i);while(++n<i){var a=r[n];o[n]=[a,e[a]]}return o}function In(e,t,n){var r={};if(typeof t!="function"){var i=-1,o=Ft(arguments,true,false,1),a=qn(e)?o.length:0;while(++i<a){var s=o[i];if(s in e){r[s]=e[s]}}}else{t=Ct.createCallback(t,n,3);pn(e,function(e,n,i){if(t(e,n,i)){r[n]=e}})}return r}function Pn(e,t,n,r){var i=Qt(e);if(n==null){if(i){n=[]}else{var o=e&&e.constructor,a=o&&o.prototype;n=Nt(a)}}if(t){t=Ct.createCallback(t,r,4);(i?Wn:hn)(e,function(e,r,i){return t(n,e,r,i)})}return n}function Un(e){var n=-1,r=Xt(e),i=r.length,o=t(i);while(++n<i){o[n]=e[r[n]]}return o}function Mn(e){var n=arguments,r=-1,i=Ft(n,true,false,1),o=n[2]&&n[2][n[1]]===e?1:i.length,a=t(o);while(++r<o){a[r]=e[i[r]]}return a}function Vn(e,t,n){var r=-1,i=$t(),o=e?e.length:0,a=false;n=(n<0?Et(0,o+n):n)||0;if(Qt(e)){a=i(e,t,n)>-1}else if(typeof o=="number"){a=(Tn(e)?e.indexOf(t,n):i(e,t,n))>-1}else{hn(e,function(e){if(++r>=n){return!(a=e===t)}})}return a}var zn=Vt(function(e,t,n){pt.call(e,n)?e[n]++:e[n]=1});function Hn(e,t,n){var r=true;t=Ct.createCallback(t,n,3);var i=-1,o=e?e.length:0;if(typeof o=="number"){while(++i<o){if(!(r=!!t(e[i],i,e))){break}}}else{hn(e,function(e,n,i){return r=!!t(e,n,i)})}return r}function $n(e,t,n){var r=[];t=Ct.createCallback(t,n,3);var i=-1,o=e?e.length:0;if(typeof o=="number"){while(++i<o){var a=e[i];if(t(a,i,e)){r.push(a)}}}else{hn(e,function(e,n,i){if(t(e,n,i)){r.push(e)}})}return r}function Gn(e,t,n){t=Ct.createCallback(t,n,3);var r=-1,i=e?e.length:0;if(typeof i=="number"){while(++r<i){var o=e[r];if(t(o,r,e)){return o}}}else{var a;hn(e,function(e,n,r){if(t(e,n,r)){a=e;return false}});return a}}function Jn(e,t,n){var r;t=Ct.createCallback(t,n,3);Kn(e,function(e,n,i){if(t(e,n,i)){r=e;return false}});return r}function Wn(e,t,n){var r=-1,i=e?e.length:0;t=t&&typeof n=="undefined"?t:Bt(t,n,3);if(typeof i=="number"){while(++r<i){if(t(e[r],r,e)===false){break}}}else{hn(e,t)}return e}function Kn(e,t,n){var r=e?e.length:0;t=t&&typeof n=="undefined"?t:Bt(t,n,3);if(typeof r=="number"){while(r--){if(t(e[r],r,e)===false){break}}}else{var i=Xt(e);r=i.length;hn(e,function(e,n,o){n=i?i[--r]:--r;return t(o[n],n,o)})}return e}var Yn=Vt(function(e,t,n){(pt.call(e,n)?e[n]:e[n]=[]).push(t)});var Qn=Vt(function(e,t,n){e[n]=t});function Zn(e,n){var r=et(arguments,2),i=-1,o=typeof n=="function",a=e?e.length:0,s=t(typeof a=="number"?a:0);Wn(e,function(e){s[++i]=(o?n:e[n]).apply(e,r)});return s}function Xn(e,n,r){var i=-1,o=e?e.length:0;n=Ct.createCallback(n,r,3);if(typeof o=="number"){var a=t(o);while(++i<o){a[i]=n(e[i],i,e)}}else{a=[];hn(e,function(e,t,r){a[++i]=n(e,t,r)})}return a}function er(e,t,n){var r=-Infinity,i=r;if(typeof t!="function"&&n&&n[t]===e){t=null}if(t==null&&Qt(e)){var o=-1,a=e.length;while(++o<a){var s=e[o];if(s>i){i=s}}}else{t=t==null&&Tn(e)?G:Ct.createCallback(t,n,3);Wn(e,function(e,n,o){var a=t(e,n,o);if(a>r){r=a;i=e}})}return i}function tr(e,t,n){var r=Infinity,i=r;if(typeof t!="function"&&n&&n[t]===e){t=null}if(t==null&&Qt(e)){var o=-1,a=e.length;while(++o<a){var s=e[o];if(s<i){i=s}}}else{t=t==null&&Tn(e)?G:Ct.createCallback(t,n,3);Wn(e,function(e,n,o){var a=t(e,n,o);if(a<r){r=a;i=e}})}return i}var nr=Xn;function rr(e,t,n,r){if(!e)return n;var i=arguments.length<3;t=Ct.createCallback(t,r,4);var o=-1,a=e.length;if(typeof a=="number"){if(i){n=e[++o]}while(++o<a){n=t(n,e[o],o,e)}}else{hn(e,function(e,r,o){n=i?(i=false,e):t(n,e,r,o)})}return n}function ir(e,t,n,r){var i=arguments.length<3;t=Ct.createCallback(t,r,4);Kn(e,function(e,r,o){n=i?(i=false,e):t(n,e,r,o)});return n}function or(e,t,n){t=Ct.createCallback(t,n,3);return $n(e,function(e,n,r){return!t(e,n,r)})}function ar(e,t,n){if(e&&typeof e.length!="number"){e=Un(e)}if(t==null||n){return e?e[Ut(0,e.length-1)]:r}var i=sr(e);i.length=At(Et(0,t),i.length);return i}function sr(e){var n=-1,r=e?e.length:0,i=t(typeof r=="number"?r:0);Wn(e,function(e){var t=Ut(0,++n);i[n]=i[t];i[t]=e});return i}function ur(e){var t=e?e.length:0;return typeof t=="number"?t:Xt(e).length}function cr(e,t,n){var r;t=Ct.createCallback(t,n,3);var i=-1,o=e?e.length:0;if(typeof o=="number"){while(++i<o){if(r=t(e[i],i,e)){break}}}else{hn(e,function(e,n,i){return!(r=t(e,n,i))})}return!!r}function lr(e,n,r){var i=-1,o=Qt(n),a=e?e.length:0,s=t(typeof a=="number"?a:0);if(!o){n=Ct.createCallback(n,r,3)}Wn(e,function(e,t,r){var a=s[++i]=Q();if(o){a.criteria=Xn(n,function(t){return e[t]})}else{(a.criteria=Y())[0]=n(e,t,r)}a.index=i;a.value=e});a=s.length;s.sort(J);while(a--){var u=s[a];s[a]=u.value;if(!o){Z(u.criteria)}X(u)}return s}function fr(e){if(e&&typeof e.length=="number"){return et(e)}return Un(e)}var pr=$n;function dr(e){var t=-1,n=e?e.length:0,r=[];while(++t<n){var i=e[t];if(i){r.push(i)}}return r}function hr(e){return Rt(e,Ft(arguments,true,true,1))}function vr(e,t,n){var r=-1,i=e?e.length:0;t=Ct.createCallback(t,n,3);while(++r<i){if(t(e[r],r,e)){return r}}return-1}function mr(e,t,n){var r=e?e.length:0;t=Ct.createCallback(t,n,3);while(r--){if(t(e[r],r,e)){return r}}return-1}function gr(e,t,n){var i=0,o=e?e.length:0;if(typeof t!="number"&&t!=null){var a=-1;t=Ct.createCallback(t,n,3);while(++a<o&&t(e[a],a,e)){i++}}else{i=t;if(i==null||n){return e?e[0]:r}}return et(e,0,At(Et(0,i),o))}function yr(e,t,n,r){if(typeof t!="boolean"&&t!=null){r=n;n=typeof t!="function"&&r&&r[t]===e?null:t;t=false}if(n!=null){e=Xn(e,n,r)}return Ft(e,t)}function br(e,t,n){if(typeof n=="number"){var r=e?e.length:0;n=n<0?Et(0,r+n):n||0}else if(n){var i=Cr(e,t);return e[i]===t?i:-1}return z(e,t,n)}function _r(e,t,n){var r=0,i=e?e.length:0;if(typeof t!="number"&&t!=null){var o=i;t=Ct.createCallback(t,n,3);while(o--&&t(e[o],o,e)){r++}}else{r=t==null||n?1:t||r}return et(e,0,At(Et(0,i-r),i))}function wr(){var e=[],t=-1,n=arguments.length,r=Y(),i=$t(),o=i===z,a=Y();while(++t<n){var s=arguments[t];if(Qt(s)||Yt(s)){e.push(s);r.push(o&&s.length>=u&&W(t?e[t]:a))}}var c=e[0],l=-1,f=c?c.length:0,p=[];e:while(++l<f){var d=r[0];s=c[l];if((d?H(d,s):i(a,s))<0){t=n;(d||a).push(s);while(--t){d=r[t];if((d?H(d,s):i(e[t],s))<0){continue e}}p.push(s)}}while(n--){d=r[n];if(d){X(d)}}Z(r);Z(a);return p}function xr(e,t,n){var i=0,o=e?e.length:0;if(typeof t!="number"&&t!=null){var a=o;t=Ct.createCallback(t,n,3);while(a--&&t(e[a],a,e)){i++}}else{i=t;if(i==null||n){return e?e[o-1]:r}}return et(e,Et(0,o-i))}function Er(e,t,n){var r=e?e.length:0;if(typeof n=="number"){r=(n<0?Et(0,r+n):At(n,r-1))+1}while(r--){if(e[r]===t){return r}}return-1}function Ar(e){var t=arguments,n=0,r=t.length,i=e?e.length:0;while(++n<r){var o=-1,a=t[n];while(++o<i){if(e[o]===a){vt.call(e,o--,1);i--}}}return e}function kr(e,n,r){e=+e||0;r=typeof r=="number"?r:+r||1;if(n==null){n=e;e=0}var i=-1,o=Et(0,st((n-e)/(r||1))),a=t(o);while(++i<o){a[i]=e;e+=r}return a}function qr(e,t,n){var r=-1,i=e?e.length:0,o=[];t=Ct.createCallback(t,n,3);while(++r<i){var a=e[r];if(t(a,r,e)){o.push(a);vt.call(e,r--,1);i--}}return o}function Sr(e,t,n){if(typeof t!="number"&&t!=null){var r=0,i=-1,o=e?e.length:0;t=Ct.createCallback(t,n,3);while(++i<o&&t(e[i],i,e)){r++}}else{r=t==null||n?1:Et(0,t)}return et(e,r)}function Cr(e,t,n,r){var i=0,o=e?e.length:i;n=n?Ct.createCallback(n,r,1):Xr;t=n(t);while(i<o){var a=i+o>>>1;n(e[a])<t?i=a+1:o=a}return i}function Dr(){return Mt(Ft(arguments,true,true))}function Or(e,t,n,r){if(typeof t!="boolean"&&t!=null){r=n;n=typeof t!="function"&&r&&r[t]===e?null:t;t=false}if(n!=null){n=Ct.createCallback(n,r,3)}return Mt(e,t,n)}function jr(e){return Rt(e,et(arguments,1))}function Tr(){var e=-1,t=arguments.length;while(++e<t){var n=arguments[e];if(Qt(n)||Yt(n)){var r=r?Mt(Rt(r,n).concat(Rt(n,r))):n}}return r||[]}function Nr(){var e=arguments.length>1?arguments:arguments[0],n=-1,r=e?er(nr(e,"length")):0,i=t(r<0?0:r);while(++n<r){i[n]=nr(e,n)}return i}function Br(e,t){var n=-1,r=e?e.length:0,i={};if(!t&&r&&!Qt(e[0])){t=[]}while(++n<r){var o=e[n];if(t){i[o]=t[n]}else if(o){i[o[0]]=o[1]}}return i}function Lr(e,t){if(!kn(t)){throw new V}return function(){if(--e<1){return t.apply(this,arguments)}}}function Rr(e,t){return arguments.length>2?zt(e,17,et(arguments,2),null,t):zt(e,1,null,null,t)}function Fr(e){var t=arguments.length>1?Ft(arguments,true,false,1):mn(e),n=-1,r=t.length;while(++n<r){var i=t[n];e[i]=zt(e[i],1,null,null,e)}return e}function Ir(e,t){return arguments.length>2?zt(t,19,et(arguments,2),null,e):zt(t,3,null,null,e)}function Pr(){var e=arguments,t=e.length;while(t--){if(!kn(e[t])){throw new V}}return function(){var t=arguments,n=e.length;while(n--){t=[e[n].apply(this,t)]}return t[0]}}function Ur(e,t){t=typeof t=="number"?t:+t||e.length;return zt(e,4,null,null,null,t)}function Mr(e,t,n){var i,o,a,s,u,c,l,f=0,p=false,d=true;if(!kn(e)){throw new V}t=Et(0,t)||0;if(n===true){var h=true;d=false}else if(qn(n)){h=n.leading;p="maxWait"in n&&(Et(t,n.maxWait)||0);d="trailing"in n?n.trailing:d}var v=function(){var n=t-(ri()-s);if(n<=0){if(o){ut(o)}var p=l;o=c=l=r;if(p){f=ri();a=e.apply(u,i);if(!c&&!o){i=u=null}}}else{c=ht(v,n)}};var m=function(){if(c){ut(c)}o=c=l=r;if(d||p!==t){f=ri();a=e.apply(u,i);if(!c&&!o){i=u=null}}};return function(){i=arguments;s=ri();u=this;l=d&&(c||!h);if(p===false){var n=h&&!c}else{if(!o&&!h){f=s}var r=p-(s-f),g=r<=0;if(g){if(o){o=ut(o)}f=s;a=e.apply(u,i)}else if(!o){o=ht(m,r)}}if(g&&c){c=ut(c)}else if(!c&&t!==p){c=ht(v,t)}if(n){g=true;a=e.apply(u,i)}if(g&&!c&&!o){i=u=null}return a}}function Vr(e){if(!kn(e)){throw new V}var t=et(arguments,1);return ht(function(){e.apply(r,t)},1)}function zr(e,t){if(!kn(e)){throw new V}var n=et(arguments,2);return ht(function(){e.apply(r,n)},t)}function Hr(e,t){if(!kn(e)){throw new V}var n=function(){var r=n.cache,i=t?t.apply(this,arguments):s+arguments[0];return pt.call(r,i)?r[i]:r[i]=e.apply(this,arguments)};n.cache={};return n}function $r(e){var t,n;if(!kn(e)){throw new V}return function(){if(t){return n}t=true;n=e.apply(this,arguments);e=null;return n}}function Gr(e){return zt(e,16,et(arguments,1))}function Jr(e){return zt(e,32,null,et(arguments,1))}function Wr(e,t,n){var r=true,i=true;if(!kn(e)){throw new V}if(n===false){r=false}else if(qn(n)){r="leading"in n?n.leading:r;i="trailing"in n?n.trailing:i}B.leading=r;B.maxWait=t;B.trailing=i;return Mr(e,t,B)}function Kr(e,t){return zt(t,16,[e])}function Yr(e){return function(){return e}}function Qr(e,t,n){var r=typeof e;if(e==null||r=="function"){return Bt(e,t,n)}if(r!="object"){return oi(e)}var i=Xt(e),o=i[0],a=e[o];if(i.length==1&&a===a&&!qn(a)){return function(e){var t=e[o];return a===t&&(a!==0||1/a==1/t)}}return function(t){var n=i.length,r=false;while(n--){if(!(r=It(t[i[n]],e[i[n]],null,true))){break}}return r}}function Zr(e){return e==null?"":M(e).replace(rn,Ht)}function Xr(e){return e}function ei(e,t,n){var r=true,i=t&&mn(t);if(!t||!n&&!i.length){if(n==null){n=t}o=Dt;t=e;e=Ct;i=mn(t)}if(n===false){r=false}else if(qn(n)&&"chain"in n){r=n.chain}var o=e,a=kn(o);Wn(i,function(n){var i=e[n]=t[n];if(a){o.prototype[n]=function(){var t=this.__chain__,n=this.__wrapped__,a=[n];dt.apply(a,arguments);var s=i.apply(e,a);if(r||t){if(n===s&&qn(s)){return this}s=new o(s);s.__chain__=t}return s}}})}function ti(){e._=it;return this}function ni(){}var ri=Gt(ri=i.now)&&ri||function(){return(new i).getTime()};var ii=kt(l+"08")==8?kt:function(e,t){return kt(Tn(e)?e.replace(y,""):e,t||0)};function oi(e){return function(t){return t[e]}}function ai(e,t,n){var r=e==null,i=t==null;if(n==null){if(typeof e=="boolean"&&i){n=e;e=1}else if(!i&&typeof t=="boolean"){n=t;i=true}}if(r&&i){t=1}e=+e||0;if(i){t=e;e=0}else{t=+t||0}if(n||e%1||t%1){var o=qt();return At(e+o*(t-e+parseFloat("1e-"+((o+"").length-1))),t)}return Ut(e,t)}function si(e,t){if(e){var n=e[t];return kn(n)?e[t]():n}}function ui(e,t,n){var i=Ct.templateSettings;e=M(e||"");n=cn({},n,i);var a=cn({},n.imports,i.imports),s=Xt(a),u=Un(a);var c,l=0,v=n.interpolate||b,m="__p += '";var y=U((n.escape||b).source+"|"+v.source+"|"+(v===g?h:b).source+"|"+(n.evaluate||b).source+"|$","g");e.replace(y,function(t,n,r,i,o,a){r||(r=i);m+=e.slice(l,a).replace(w,K);if(n){m+="' +\n__e("+n+") +\n'"}if(o){c=true;m+="';\n"+o+";\n__p += '"}if(r){m+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"}l=a+t.length;return t});m+="';\n";var _=n.variable,x=_;if(!x){_="obj";m="with ("+_+") {\n"+m+"\n}\n"}m=(c?m.replace(f,""):m).replace(p,"$1").replace(d,"$1;");m="function("+_+") {\n"+(x?"":_+" || ("+_+" = {});\n")+"var __t, __p = '', __e = _.escape"+(c?", __j = Array.prototype.join;\n"+"function print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";var A="\n/*\n//# sourceURL="+(n.sourceURL||"/lodash/template/source["+E++ +"]")+"\n*/";try{var k=o(s,"return "+m+A).apply(r,u)}catch(q){q.source=m;throw q}if(t){return k(t)}k.source=m;return k}function ci(e,n,r){e=(e=+e)>-1?e:0;var i=-1,o=t(e);n=Bt(n,r,1);while(++i<e){o[i]=n(i)}return o}function li(e){return e==null?"":M(e).replace(nn,Kt)}function fi(e){var t=++a;return M(e==null?"":e)+t}function pi(e){e=new Dt(e);e.__chain__=true;return e}function di(e,t){t(e);return e}function hi(){this.__chain__=true;return this}function vi(){return M(this.__wrapped__)}function mi(){return this.__wrapped__}Ct.after=Lr;Ct.assign=on;Ct.at=Mn;Ct.bind=Rr;Ct.bindAll=Fr;Ct.bindKey=Ir;Ct.chain=pi;Ct.compact=dr;Ct.compose=Pr;Ct.constant=Yr;Ct.countBy=zn;Ct.create=un;Ct.createCallback=Qr;Ct.curry=Ur;Ct.debounce=Mr;Ct.defaults=cn;Ct.defer=Vr;Ct.delay=zr;Ct.difference=hr;Ct.filter=$n;Ct.flatten=yr;Ct.forEach=Wn;Ct.forEachRight=Kn;Ct.forIn=pn;Ct.forInRight=dn;Ct.forOwn=hn;Ct.forOwnRight=vn;Ct.functions=mn;Ct.groupBy=Yn;Ct.indexBy=Qn;Ct.initial=_r;Ct.intersection=wr;Ct.invert=yn;Ct.invoke=Zn;Ct.keys=Xt;Ct.map=Xn;Ct.mapValues=Bn;Ct.max=er;Ct.memoize=Hr;Ct.merge=Ln;Ct.min=tr;Ct.omit=Rn;Ct.once=$r;Ct.pairs=Fn;Ct.partial=Gr;Ct.partialRight=Jr;Ct.pick=In;Ct.pluck=nr;Ct.property=oi;Ct.pull=Ar;Ct.range=kr;Ct.reject=or;Ct.remove=qr;Ct.rest=Sr;Ct.shuffle=sr;Ct.sortBy=lr;Ct.tap=di;Ct.throttle=Wr;Ct.times=ci;Ct.toArray=fr;Ct.transform=Pn;Ct.union=Dr;Ct.uniq=Or;Ct.values=Un;Ct.where=pr;Ct.without=jr;Ct.wrap=Kr;Ct.xor=Tr;Ct.zip=Nr;Ct.zipObject=Br;Ct.collect=Xn;Ct.drop=Sr;Ct.each=Wn;Ct.eachRight=Kn;Ct.extend=on;Ct.methods=mn;Ct.object=Br;Ct.select=$n;Ct.tail=Sr;Ct.unique=Or;Ct.unzip=Nr;ei(Ct);Ct.clone=an;Ct.cloneDeep=sn;Ct.contains=Vn;Ct.escape=Zr;Ct.every=Hn;Ct.find=Gn;Ct.findIndex=vr;Ct.findKey=ln;Ct.findLast=Jn;Ct.findLastIndex=mr;Ct.findLastKey=fn;Ct.has=gn;Ct.identity=Xr;Ct.indexOf=br;Ct.isArguments=Yt;Ct.isArray=Qt;Ct.isBoolean=bn;Ct.isDate=_n;Ct.isElement=wn;Ct.isEmpty=xn;Ct.isEqual=En;Ct.isFinite=An;Ct.isFunction=kn;Ct.isNaN=Sn;Ct.isNull=Cn;Ct.isNumber=Dn;Ct.isObject=qn;Ct.isPlainObject=On;Ct.isRegExp=jn;Ct.isString=Tn;Ct.isUndefined=Nn;Ct.lastIndexOf=Er;Ct.mixin=ei;Ct.noConflict=ti;Ct.noop=ni;Ct.now=ri;Ct.parseInt=ii;Ct.random=ai;Ct.reduce=rr;Ct.reduceRight=ir;Ct.result=si;Ct.runInContext=tt;Ct.size=ur;Ct.some=cr;Ct.sortedIndex=Cr;Ct.template=ui;Ct.unescape=li;Ct.uniqueId=fi;Ct.all=Hn;Ct.any=cr;Ct.detect=Gn;Ct.findWhere=Gn;Ct.foldl=rr;Ct.foldr=ir;Ct.include=Vn;Ct.inject=rr;ei(function(){var e={};hn(Ct,function(t,n){if(!Ct.prototype[n]){e[n]=t}});return e}(),false);Ct.first=gr;Ct.last=xr;Ct.sample=ar;Ct.take=gr;Ct.head=gr;hn(Ct,function(e,t){var n=t!=="sample";if(!Ct.prototype[t]){Ct.prototype[t]=function(t,r){var i=this.__chain__,o=e(this.__wrapped__,t,r);return!i&&(t==null||r&&!(n&&typeof t=="function"))?o:new Dt(o,i)}}});Ct.VERSION="2.4.1";Ct.prototype.chain=hi;Ct.prototype.toString=vi;Ct.prototype.value=mi;Ct.prototype.valueOf=mi;Wn(["join","pop","shift"],function(e){var t=$[e];Ct.prototype[e]=function(){var e=this.__chain__,n=t.apply(this.__wrapped__,arguments);return e?new Dt(n,e):n}});Wn(["push","reverse","sort","unshift"],function(e){var t=$[e];Ct.prototype[e]=function(){t.apply(this.__wrapped__,arguments);return this}});Wn(["concat","slice","splice"],function(e){var t=$[e];Ct.prototype[e]=function(){return new Dt(t.apply(this.__wrapped__,arguments),this.__chain__)}});return Ct}var nt=tt();if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){I._=nt;define(function(){return nt})}else if(P&&U){if(M){(U.exports=nt)._=nt}else{P._=nt}}else{I._=nt}}).call(this)}).call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],"95":[function(e,t,n){var r=e("bindable");function i(e){r.Object.call(this);this._classes={};this.application=e}t.exports=r.Object.extend(i,{"register":function(e,t){if(typeof e==="object"){for(var n in e){this.register(n,e[n])}return}this._classes[e.substr(0,1).toLowerCase()+e.substr(1)]=t},"create":function(e,t){var n=this._classes[e];if(!n)throw new Error("class '"+e+"' doesn't exist");t=t==null?{}:t;t.__name=e;return new n(t,this.application)}})},{"bindable":22}],"96":[function(e,t,n){var r=e("protoclass"),i=e("paperclip");var o={"multi":false,"priority":"render","getOptions":function(e){return e.__isView},"decorate":function(e,t){var n,r,o,a;e._define("paper");e.on("render",u);e.on("remove",c);e.on("change:paper",f);e.on("change:visible",l);if(e.paper)f(e.paper);var s;function u(){if(e.paper!==s){if(o)o.dispose();r=false;s=e.paper;a=i.template(s,e.application)}if(r||!a)return;r=true;if(o){o.bind(e)}else{e.section.paper=o=a.bind(e,e.section)}}function c(e){if(!o)return;o.unbind();r=false}function l(e){if(e){u()}else{c()}}function f(t){if(r&&e.visible){u()}}}};t.exports=function(e){if(e.views.__paperclip)return;e.use(i);e.views.__paperclip=true;e.views.decorator(o)}},{"paperclip":185,"protoclass":97}],"97":[function(e,t,n){t.exports=e(28)},{}],"98":[function(e,t,n){(function(n){var r=e("crowbar");t.exports=function(t){if(!t.mediator)t.use(e("mojo-mediator"));if(t.paperclip)t.paperclip.nodeBinding("data-href",e("./plugins/datahref"));t.use(e("./plugins/statesRouter"));var i=t.router=r({});i.bind("location",{"target":t,"to":"location"});i.bind("location.query",{"target":t,"to":"models.query"});i.bind("location.params",{"target":t,"to":"models.params"});i.bind("location.states",{"target":t,"to":"models.states"});t.mediator.on("post bootstrap",function(e,t){if(n.browser&&e.data.useHistory!==false){i.use(r.listeners.http)}i.init();t()});i.middleware=function(e){if(!e)e={};if(!e.mainViewName)e.mainViewName="main";var n={},r=e.getProps||function(e){return{}};return function(o,a,s){var u=i.request(o.url);u.request=o;u.enter(function(i,o){if(i){if(i.code=="404")return s();return s()}if(o.redirect){return a.redirect(o.redirect)}var c=u.route.options.view||e.mainViewName,l;if(t.debug||!(l=n[c])){l=n[c]=t.views.create(c);l.render()}var f=r(u);f.states=u.get("states");l.setProperties(f);var p=l.section.toString();a.send(p);if(t.debug)l.dispose()})}};return i}}).call(this,e("OpdoqP"))},{"./plugins/datahref":99,"./plugins/statesRouter":100,"OpdoqP":58,"crowbar":107,"mojo-mediator":64}],"99":[function(e,t,n){(function(n){var r=e("paperclip"),i=e("noselector"),o=e("janitorjs"),a=e("bindable"),s=e("underscore");t.exports=r.BaseNodeBinding.extend({"type":"attr","bind":function(e){r.BaseNodeBinding.prototype.bind.apply(this,arguments);var t=this.$node=i(this.node),u=t.attr("data-href"),c=this,l="",f="";t.bind("click",c._onClick=function(t){if(t.metaKey||t.ctrlKey){return}t.preventDefault();e.application.router.redirect(l)});this._locationBinding=e.bind("application.location",function(r){if(!r)r=new a.Object;if(c._bindings)c._bindings.dispose();var i=r.get("params"),p=new a.Object(s.extend({},i?i.context():{})),d=e.get("application.router").routes.find({"pathname":u,"params":p});function h(){f=(n.browser?"#!":"")+(l=d.getPathname({"params":p}));if(c.node.nodeName==="A"){t.attr("href",f)}}c._bindings=o();if(!d)return;d.params.forEach(function(e,t){c._bindings.add(c.context.bind(e,{"to":function(t){p.set(e,t)}}).now())});h();p.on("change",h)}).now()},"unbind":function(){var e=r.BaseNodeBinding.prototype.unbind.apply(this,arguments);if(this._bindings)this._bindings.dispose();if(this.$node)this.$node.unbind("click",this._onClick);if(this._locationBinding)this._locationBinding.dispose();return e}})}).call(this,e("OpdoqP"))},{"OpdoqP":58,"bindable":22,"janitorjs":131,"noselector":181,"paperclip":185,"underscore":134}],"100":[function(e,t,n){t.exports=function(e){var t={"priority":"load","getOptions":function(e){return e.route},"decorate":function(e,t){var n=e.bind("models.states."+t,{"to":function(t){e.set("currentName",t)}}).now();e.once("dispose",n.dispose)}};if(e.views){e.views.decorator(t)}else if(e.decorator){e.decorator(t)}}},{}],"101":[function(e,t,n){t.exports=e(72)},{"OpdoqP":58}],"102":[function(e,t,n){var r=e("toarray"),i=e("async");t.exports={"test":function(e){return true},"decorate":function(e){function t(e){return function(t,n){if(!e.length)return n();var r=t.data;i.eachSeries(e,function(e,n){if(e.length<2){e(t.data);return n()}e(t.data,n)},n)}}e.mediator.on("enter",t(r(e.options.enter)));e.mediator.on("exit",t(r(e.options.exit)))}}},{"async":101,"toarray":129}],"103":[function(e,t,n){var r=e("protoclass"),i=[e("./parentEnterExit"),e("./enterExit"),e("./states"),e("./redirect")];function o(){this._decorators=i.concat()}r(o,{"add":function(e){this._decorators.push(e);this._resort()},"decorate":function(e){for(var t=this._decorators.length;t--;){var n=this._decorators[t];if(n.test(e)){n.decorate(e)}}return e},"_resort":function(){this._decorators=this._decorators.sort(function(e,t){return e.priority>t.priority?-1:1})}});t.exports=o},{"./enterExit":102,"./parentEnterExit":104,"./redirect":105,"./states":106,"protoclass":128}],"104":[function(e,t,n){t.exports={"priority":999,"test":function(e){return!!e.parent},"decorate":function(e){var t=e.parent;e.mediator.on("pre enter",function(e,n){t.enter(e.data,n)});e.mediator.on("pre exit",function(e,n){t.exit(e.data,n)})}}},{}],"105":[function(e,t,n){var r=e("toarray"),i=e("async");t.exports={"test":function(e){return e.options.redirect},"decorate":function(e){var t=e.options.redirect;e.mediator.on("post enter",function(e,n){e.data.redirect(t,n)})}}},{"async":101,"toarray":129}],"106":[function(e,t,n){var r=e("toarray"),i=e("async"),o=e("bindable");t.exports={"test":function(e){return e.options.states},"decorate":function(e){var t=e.options.states,n=e.router;e.mediator.on("post enter",function(e,n){if(!e.data.get("states")){e.data.set("states",new o.Object)}for(var r in t){e.data.set("states."+r,t[r])}n()})}}},{"async":101,"bindable":22,"toarray":129}],"107":[function(e,t,n){var r=e("./router");t.exports=function(e){return new r(e)};t.exports.listeners=e("./listeners")},{"./listeners":109,"./router":113}],"108":[function(e,t,n){(function(n){var r=n.browser?e("hasher"):void 0;t.exports=function(e){function t(t){e.redirect(String(t||window.location.pathname).replace(/^#?!?\/?(.*)/,"/$1"),function(t){if(t&&t.code==="404"){e.redirect("404")}var n=e.get("location.url");if(n){window.location.hash="!"+n}})}e.bind("location.url",function(e){window.location.hash="!"+e});r.changed.add(t);r.initialized.add(t);e.once("init",function(){r.init()})}}).call(this,e("OpdoqP"))},{"OpdoqP":58,"hasher":116}],"109":[function(e,t,n){t.exports={"http":e("./http")}},{"./http":108}],"110":[function(e,t,n){var r=e("bindable"),i=e("underscore"),o=e("querystring"),a=e("outcome"),s=e("comerr");function u(e,t){r.Object.call(this,this);if(!t)t={};this.pathname=t.pathname;this.options=t;this.query=new r.Object;this.query.setProperties(t.query||{});this.params=new r.Object;this.params.setProperties(t.params||{});this.route=t.route;this.router=e;this._rebuildUrl=i.bind(this._rebuildUrl,this);this.query.on("change",this._rebuildUrl);this.params.on("change",this._rebuildUrl);this.on("change",this._rebuildUrl);this._rebuildUrl()}r.Object.extend(u,{"equals":function(e){return this.pathname==e.pathname},"merge":function(e){this.setProperties({"route":e.route});this.params.context(e.params.context());this.mergeQuery(e.query.context());return this},"enter":function(e){if(!this.route){return e(s.notFound("path "+this.pathname+"not found"))}var t=this;t.once("complete",e);this.route.enter(this,a.e(e).s(function(){t.emit("complete",void 0,{})}))},"redirect":function(e,t,n){if(typeof t==="function"){n=t;t={}}if(!n)n=function(){};this.emit("complete",void 0,{"redirect":/^http/.test(e)?e:this.router.routes.getPathnameWithParams(e,t||{})})},"mergeQuery":function(e){for(var t in e){this.query.set(t,e[t])}},"_rebuildUrl":function(){var e=this.get("pathname");if(this.query.keys().length){e+="?"+o.stringify(this.query.context())}this.set("url",e)}});t.exports=u},{"bindable":22,"comerr":115,"outcome":127,"querystring":62,"underscore":130}],"111":[function(e,t,n){var r=e("async");t.exports=function(e){var t={};e.param=function(e,n){t[e]=n;n.paramName=e};e.routes.decorators.add({"test":function(e){return!!e.params.length},"decorate":function(e){var n=e.params.map(function(e){return t[e]}).filter(function(e){return!!e});if(!n.length)return;e.mediator.on("pre enter",function(e,t){r.eachSeries(n,function(t,n){var r=e.data,i="params."+t.paramName;t(r,function(e,t){if(e)return n(e);if(t!=null){r.set(i,t)}n()})},t)})}})}},{"async":101}],"112":[function(e,t,n){var r=e("bindable"),i=e("async"),o=e("toarray"),a=e("mediocre");function s(e,t,n,i){r.Object.call(this,this);this.pathname=e;this.parent=i;this.options=t;this.routes=n;this.router=n.router;this.mediator=a();this._setPathInfo()}r.Object.extend(s,{"enter":function(e,t){this.mediator.execute("enter",e,t)},"exit":function(e,t){this.mediator.execute("exit",e,t)},"match":function(e){if(e.pathname&&!this._matchPath(e.pathname))return false;return this._matchOption(e)},"getParams":function(e){var t=this.pathname;var n=e.split("/"),r=t.split("/"),i={};for(var o=r.length;o--;){var a=r[o];if(a.substr(0,1)===":"){i[a.substr(1)]=n[o]}}return i},"getPathnameWithParams":function(e){var t=this.pathname;for(var n in e){t=t.replace(":"+n,e[n])}t=t.replace(/\:[^\/]+/g,void 0);var r=this.routes.find({"pathname":t,"params":e});if(r!==this){return r.getPathnameWithParams(e)}return t},"getPathname":function(e){var t=e.params||{},n=e.query||{};if(!t.__isBindable){t=new r.Object;t.setProperties(e.params||{})}if(!n.__isBindable){n=new r.Object(n);n.setProperties(e.query||{})}var i=this.pathname,o=t.context();var a=i.match(/\:[^\/]+/g)||[];for(var s=a.length;s--;){i=i.replace(a[s],t.get(a[s].substr(1)))}var u=this.routes.find({"pathname":i,"params":t,"query":n});if(u&&u!==this){return u.getPathname({"params":t,"query":n})}return i},"_matchPath":function(e){return this._pathTester.test(e)||this.options.name===e},"_matchOption":function(e){return!this.options.match||this.options.match(e)},"_setPathInfo":function(){this.params=[];if(!this.pathname)return;this._pathTester=new RegExp("^"+this.pathname.replace(/\/\:[^\/]+/g,"/[^/]+")+"$");var e=this.pathname.match(/\/\:[^\/]+/g)||[];for(var t=e.length;t--;){this.params.unshift(e[t].substr(2))}}});t.exports=s},{"async":101,"bindable":22,"mediocre":123,"toarray":129}],"113":[function(e,t,n){var r=e("protoclass"),i=e("bindable"),o=e("./location"),a=e("./routes"),s=e("async"),u=e("underscore");function c(t){i.Object.call(this,this);this.routes=new a(this);this.middleware=u.bind(this.middleware,this);var n=this;this.use(e("./plugins/param"))}i.Object.extend(c,{"use":function(){for(var e=arguments.length;e--;){arguments[e](this)}return this},"middleware":function(e,t,n){var r=this.request(e.url);r.enter(function(t,i){if(t&&t.code!="404"){console.log(t.code);return n(t)}e.location=r;n()})},"init":function(){this.emit("init")},"redirect":function(e,t,n){if(!t)t={};if(typeof t==="function"){n=t;t={}}if(!n)n=function(){};var r=this;var i=this.request(e,t);if(this.location){if(this.location.equals(i)){this.location.merge(i);return n(null,r.location)}i.mergeQuery(this.location.query.context())
}i.enter(function(e,t){if(e){r.emit("error",e);return n(e)}if(t.redirect){return r.redirect(t.redirect,n)}r.set("location",i);n(null,i)});return this},"route":function(e){this.routes.add(e);return this},"add":function(e){return this.route(e)},"request":function(e,t){return new o(this,this.routes.parsePath(e,t))}});t.exports=c},{"./location":110,"./plugins/param":111,"./routes":114,"async":101,"bindable":22,"protoclass":128,"underscore":130}],"114":[function(e,t,n){var r=e("bindable"),i=e("./route"),o=e("./decorators"),a=e("url"),s=e("querystring");function u(e){this._source=[];this.router=e;this.decorators=new o}r.Object.extend(u,{"parsePath":function(e,t,n){if(!t)t={};var r=a.parse(e,true);var i=this.find(r);if(!i){return r}if(i.options.name===r.pathname){r=a.parse(i.getPathname(t));r.query=t.query;r.params=t.params}else{r.params=i.getParams(r.pathname)}r.route=i;return r},"getPathnameWithParams":function(e,t){var t=this.parsePath(e,t);if(!t.route)return null;var n=t.route.getPathnameWithParams(t.params);if(t.query){str=s.stringify(t.query);n+=str!=""?"?"+str:""}return n},"add":function(e,t){if(!e)return;if(!t)this.decorators.decorate(t=new i(null,e,this));for(var n in e){if(n.substr(0,1)==="/"){var r=e[n],o=(t.pathname||"")+n,a;this._source.push(this.decorators.decorate(a=new i(o,r,this,t)));this.add(r.routes||r,a)}}this._resort();return this},"all":function(){return this._source},"find":function(e){if(e.pathname&&e.pathname!=="/"){e.pathname=e.pathname.replace(/\/+$/,"")}for(var t=this._source.length;t--;){var n=this._source[t],r;if(r=n.match(e)){if(r&&r.redirect){var i=r.redirect;return this.find(typeof i==="string"?{"pathname":i}:i)}return n}}},"_resort":function(){this._source=this._source.sort(function(e,t){var n=e.pathname.split("/"),r=t.pathname.split("/");if(n.length>r.length){return-1}else if(n.length<r.length){return 1}for(var i=0,o=n.length;i<o;i++){var a=n[i],s=r[i];if(a!==s)if(a.substr(0,1)===":"){return-1}else{return 1}}return 1})}});t.exports=u},{"./decorators":103,"./route":112,"bindable":22,"querystring":62,"url":63}],"115":[function(e,t,n){t.exports=e(90)},{}],"116":[function(e,t,n){(function(){var r=function(e){var t=function(t){var n=25,r=t.document,i=t.history,o=e.Signal,a,s,u,c,l,f,p=/#(.*)$/,d=/(\?.*)|(\#.*)/,h=/^\#/,v=!+"1",m="onhashchange"in t&&r.documentMode!==7,g=v&&!m,y=location.protocol==="file:";function b(e){return String(e||"").replace(/\W/g,"\\$&")}function _(e){if(!e)return"";var t=new RegExp("^"+b(a.prependHash)+"|"+b(a.appendHash)+"$","g");return e.replace(t,"")}function w(){var e=p.exec(a.getURL());var t=e&&e[1]||"";try{return a.raw?t:decodeURIComponent(t)}catch(n){return t}}function x(){return l?l.contentWindow.frameHash:null}function E(){l=r.createElement("iframe");l.src="about:blank";l.style.display="none";r.body.appendChild(l)}function A(){if(l&&s!==x()){var e=l.contentWindow.document;e.open();e.write("<html><head><title>"+r.title+'</title><script type="text/javascript">var frameHash="'+s+'";</script></head><body>&nbsp;</body></html>');e.close()}}function k(e,t){if(s!==e){var n=s;s=e;if(g){if(!t){A()}else{l.contentWindow.frameHash=e}}a.changed.dispatch(_(e),_(n))}}if(g){f=function(){var e=w(),t=x();if(t!==s&&t!==e){a.setHash(_(t))}else if(e!==s){k(e)}}}else{f=function(){var e=w();if(e!==s){k(e)}}}function q(e,t,n){if(e.addEventListener){e.addEventListener(t,n,false)}else if(e.attachEvent){e.attachEvent("on"+t,n)}}function S(e,t,n){if(e.removeEventListener){e.removeEventListener(t,n,false)}else if(e.detachEvent){e.detachEvent("on"+t,n)}}function C(e){e=Array.prototype.slice.call(arguments);var t=e.join(a.separator);t=t?a.prependHash+t.replace(h,"")+a.appendHash:t;return t}function D(e){e=encodeURI(e);if(v&&y){e=e.replace(/\?/,"%3F")}return e}a={"VERSION":"1.2.0","raw":false,"appendHash":"","prependHash":"/","separator":"/","changed":new o,"stopped":new o,"initialized":new o,"init":function(){if(c)return;s=w();if(m){q(t,"hashchange",f)}else{if(g){if(!l){E()}A()}u=setInterval(f,n)}c=true;a.initialized.dispatch(_(s))},"stop":function(){if(!c)return;if(m){S(t,"hashchange",f)}else{clearInterval(u);u=null}c=false;a.stopped.dispatch(_(s))},"isActive":function(){return c},"getURL":function(){return t.location.href},"getBaseURL":function(){return a.getURL().replace(d,"")},"setHash":function(e){e=C.apply(null,arguments);if(e!==s){k(e);if(e===s){if(!a.raw){e=D(e)}t.location.hash="#"+e}}},"replaceHash":function(e){e=C.apply(null,arguments);if(e!==s){k(e,true);if(e===s){if(!a.raw){e=D(e)}t.location.replace("#"+e)}}},"getHash":function(){return _(s)},"getHashAsArray":function(){return a.getHash().split(a.separator)},"dispose":function(){a.stop();a.initialized.dispose();a.stopped.dispose();a.changed.dispose();l=a=t.hasher=null},"toString":function(){return'[hasher version="'+a.VERSION+'" hash="'+a.getHash()+'"]'}};a.initialized.memorize=true;return a}(window);return t};if(typeof define==="function"&&define.amd){define(["signals"],r)}else if(typeof n==="object"){t.exports=r(e("signals"))}else{window["hasher"]=r(window["signals"])}})()},{"signals":117}],"117":[function(e,t,n){(function(e){function n(e,t,n,r,i){this._listener=t;this._isOnce=n;this.context=r;this._signal=e;this._priority=i||0}n.prototype={"active":true,"params":null,"execute":function(e){var t,n;if(this.active&&!!this._listener){n=this.params?this.params.concat(e):e;t=this._listener.apply(this.context,n);if(this._isOnce){this.detach()}}return t},"detach":function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},"isBound":function(){return!!this._signal&&!!this._listener},"isOnce":function(){return this._isOnce},"getListener":function(){return this._listener},"getSignal":function(){return this._signal},"_destroy":function(){delete this._signal;delete this._listener;delete this.context},"toString":function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}};function r(e,t){if(typeof e!=="function"){throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}}function i(){this._bindings=[];this._prevParams=null;var e=this;this.dispatch=function(){i.prototype.dispatch.apply(e,arguments)}}i.prototype={"VERSION":"1.0.0","memorize":false,"_shouldPropagate":true,"active":true,"_registerListener":function(e,t,r,i){var o=this._indexOfListener(e,r),a;if(o!==-1){a=this._bindings[o];if(a.isOnce()!==t){throw new Error("You cannot add"+(t?"":"Once")+"() then add"+(!t?"":"Once")+"() the same listener without removing the relationship first.")}}else{a=new n(this,e,t,r,i);this._addBinding(a)}if(this.memorize&&this._prevParams){a.execute(this._prevParams)}return a},"_addBinding":function(e){var t=this._bindings.length;do{--t}while(this._bindings[t]&&e._priority<=this._bindings[t]._priority);this._bindings.splice(t+1,0,e)},"_indexOfListener":function(e,t){var n=this._bindings.length,r;while(n--){r=this._bindings[n];if(r._listener===e&&r.context===t){return n}}return-1},"has":function(e,t){return this._indexOfListener(e,t)!==-1},"add":function(e,t,n){r(e,"add");return this._registerListener(e,false,t,n)},"addOnce":function(e,t,n){r(e,"addOnce");return this._registerListener(e,true,t,n)},"remove":function(e,t){r(e,"remove");var n=this._indexOfListener(e,t);if(n!==-1){this._bindings[n]._destroy();this._bindings.splice(n,1)}return e},"removeAll":function(){var e=this._bindings.length;while(e--){this._bindings[e]._destroy()}this._bindings.length=0},"getNumListeners":function(){return this._bindings.length},"halt":function(){this._shouldPropagate=false},"dispatch":function(e){if(!this.active){return}var t=Array.prototype.slice.call(arguments),n=this._bindings.length,r;if(this.memorize){this._prevParams=t}if(!n){return}r=this._bindings.slice();this._shouldPropagate=true;do{n--}while(r[n]&&this._shouldPropagate&&r[n].execute(t)!==false)},"forget":function(){this._prevParams=null},"dispose":function(){this.removeAll();delete this._bindings;delete this._prevParams},"toString":function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var o=i;o.Signal=i;if(typeof define==="function"&&define.amd){define(function(){return o})}else if(typeof t!=="undefined"&&t.exports){t.exports=o}else{e["signals"]=o}})(this)},{}],"118":[function(e,t,n){t.exports=e(65)},{"async":101,"type-component":126}],"119":[function(e,t,n){t.exports=e(66)},{"type-component":126}],"120":[function(e,t,n){t.exports=e(67)},{"./collection":118,"./fn":119,"./obj":121,"./ref":122}],"121":[function(e,t,n){t.exports=e(68)},{"async":101,"type-component":126}],"122":[function(e,t,n){t.exports=e(69)},{"type-component":126}],"123":[function(e,t,n){t.exports=e(70)},{"./factory":120,"./factory/collection":118,"./message":124,"async":101,"protoclass":128,"sift":125,"type-component":126}],"124":[function(e,t,n){t.exports=e(71)},{"bindable":22}],"125":[function(e,t,n){t.exports=e(74)},{}],"126":[function(e,t,n){t.exports=e(52)},{}],"127":[function(e,t,n){(function(n){var r=e("events").EventEmitter,i=n.outcomeEmitter=n.outcomeEmitter?n.outcomeEmitter:new r;var o=function(e){if(!e)e={};var t=function(t,n,r){if(!!e[n].emit){e[n].emit.apply(e[n],[t].concat(r))}else{e[n].apply(this,r)}};var n=function(e){t("error","error",e);i.emit("handledError",e[0])};var r=function(){var r=Array.apply(null,arguments),i=arguments;if(e.callback){e.callback.apply(this,r)}if(e.handle){e.handle.apply(e,r)}else{var o=r.shift();if(o){n.call(this,[o])}else if(e.success){t.call(this,"complete","success",r)}}};var a=r.toString;r.toString=function(){var t=["outcome()"];if(e.error){t.push("\n.e(",String(e.error),")")}if(e.success){t.push("\n.s(",String(e.success),")")}return t.join("")};r.listeners=e;r.done=function(e){return e.callback(e)};r.handle=function(e){return s({"handle":e})};r.vine=function(){return r.handle(function(e){if(e.errors){this.error(e.errors)}else{this.success(e.result)}})};r.callback=function(e){return s({"callback":e})};r.success=r.s=function(e){return s({"success":e})};r.error=r.e=function(e){return s({"error":e})};r.throwError=function(t){if(!i.emit("unhandledError",t)&&!e.callback)throw t};if(!e.error){e.error=function(e){r.throwError(e)}}function s(t){for(var n in e){if(t[n])continue;t[n]=e[n]}return o(t)}return r};t.exports=function(e){return o(e)};t.exports.on=function(){i.on.apply(i,arguments)};t.exports.once=function(){i.once.apply(i,arguments)};var a=o();Object.keys(a).forEach(function(e){t.exports[e]=function(){var t=o();return t[e].apply(t,arguments)}});t.exports.logAllErrors=function(e){if(e){i.on("handledError",s)}else{i.removeListener("handledError",s)}};function s(e){console.error(e.stack)}if(typeof window!="undefined"){window.outcome=t.exports}}).call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"events":57}],"128":[function(e,t,n){t.exports=e(28)},{}],"129":[function(e,t,n){t.exports=e(29)},{}],"130":[function(e,t,n){(function(){var e=this;var r=e._;var i={};var o=Array.prototype,a=Object.prototype,s=Function.prototype;var u=o.push,c=o.slice,l=o.concat,f=a.toString,p=a.hasOwnProperty;var d=o.forEach,h=o.map,v=o.reduce,m=o.reduceRight,g=o.filter,y=o.every,b=o.some,_=o.indexOf,w=o.lastIndexOf,x=Array.isArray,E=Object.keys,A=s.bind;var k=function(e){if(e instanceof k)return e;if(!(this instanceof k))return new k(e);this._wrapped=e};if(typeof n!=="undefined"){if(typeof t!=="undefined"&&t.exports){n=t.exports=k}n._=k}else{e._=k}k.VERSION="1.6.0";var q=k.each=k.forEach=function(e,t,n){if(e==null)return e;if(d&&e.forEach===d){e.forEach(t,n)}else if(e.length===+e.length){for(var r=0,o=e.length;r<o;r++){if(t.call(n,e[r],r,e)===i)return}}else{var a=k.keys(e);for(var r=0,o=a.length;r<o;r++){if(t.call(n,e[a[r]],a[r],e)===i)return}}return e};k.map=k.collect=function(e,t,n){var r=[];if(e==null)return r;if(h&&e.map===h)return e.map(t,n);q(e,function(e,i,o){r.push(t.call(n,e,i,o))});return r};var S="Reduce of empty array with no initial value";k.reduce=k.foldl=k.inject=function(e,t,n,r){var i=arguments.length>2;if(e==null)e=[];if(v&&e.reduce===v){if(r)t=k.bind(t,r);return i?e.reduce(t,n):e.reduce(t)}q(e,function(e,o,a){if(!i){n=e;i=true}else{n=t.call(r,n,e,o,a)}});if(!i)throw new TypeError(S);return n};k.reduceRight=k.foldr=function(e,t,n,r){var i=arguments.length>2;if(e==null)e=[];if(m&&e.reduceRight===m){if(r)t=k.bind(t,r);return i?e.reduceRight(t,n):e.reduceRight(t)}var o=e.length;if(o!==+o){var a=k.keys(e);o=a.length}q(e,function(s,u,c){u=a?a[--o]:--o;if(!i){n=e[u];i=true}else{n=t.call(r,n,e[u],u,c)}});if(!i)throw new TypeError(S);return n};k.find=k.detect=function(e,t,n){var r;C(e,function(e,i,o){if(t.call(n,e,i,o)){r=e;return true}});return r};k.filter=k.select=function(e,t,n){var r=[];if(e==null)return r;if(g&&e.filter===g)return e.filter(t,n);q(e,function(e,i,o){if(t.call(n,e,i,o))r.push(e)});return r};k.reject=function(e,t,n){return k.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)};k.every=k.all=function(e,t,n){t||(t=k.identity);var r=true;if(e==null)return r;if(y&&e.every===y)return e.every(t,n);q(e,function(e,o,a){if(!(r=r&&t.call(n,e,o,a)))return i});return!!r};var C=k.some=k.any=function(e,t,n){t||(t=k.identity);var r=false;if(e==null)return r;if(b&&e.some===b)return e.some(t,n);q(e,function(e,o,a){if(r||(r=t.call(n,e,o,a)))return i});return!!r};k.contains=k.include=function(e,t){if(e==null)return false;if(_&&e.indexOf===_)return e.indexOf(t)!=-1;return C(e,function(e){return e===t})};k.invoke=function(e,t){var n=c.call(arguments,2);var r=k.isFunction(t);return k.map(e,function(e){return(r?t:e[t]).apply(e,n)})};k.pluck=function(e,t){return k.map(e,k.property(t))};k.where=function(e,t){return k.filter(e,k.matches(t))};k.findWhere=function(e,t){return k.find(e,k.matches(t))};k.max=function(e,t,n){if(!t&&k.isArray(e)&&e[0]===+e[0]&&e.length<65535){return Math.max.apply(Math,e)}var r=-Infinity,i=-Infinity;q(e,function(e,o,a){var s=t?t.call(n,e,o,a):e;if(s>i){r=e;i=s}});return r};k.min=function(e,t,n){if(!t&&k.isArray(e)&&e[0]===+e[0]&&e.length<65535){return Math.min.apply(Math,e)}var r=Infinity,i=Infinity;q(e,function(e,o,a){var s=t?t.call(n,e,o,a):e;if(s<i){r=e;i=s}});return r};k.shuffle=function(e){var t;var n=0;var r=[];q(e,function(e){t=k.random(n++);r[n-1]=r[t];r[t]=e});return r};k.sample=function(e,t,n){if(t==null||n){if(e.length!==+e.length)e=k.values(e);return e[k.random(e.length-1)]}return k.shuffle(e).slice(0,Math.max(0,t))};var D=function(e){if(e==null)return k.identity;if(k.isFunction(e))return e;return k.property(e)};k.sortBy=function(e,t,n){t=D(t);return k.pluck(k.map(e,function(e,r,i){return{"value":e,"index":r,"criteria":t.call(n,e,r,i)}}).sort(function(e,t){var n=e.criteria;var r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")};var O=function(e){return function(t,n,r){var i={};n=D(n);q(t,function(o,a){var s=n.call(r,o,a,t);e(i,s,o)});return i}};k.groupBy=O(function(e,t,n){k.has(e,t)?e[t].push(n):e[t]=[n]});k.indexBy=O(function(e,t,n){e[t]=n});k.countBy=O(function(e,t){k.has(e,t)?e[t]++:e[t]=1});k.sortedIndex=function(e,t,n,r){n=D(n);var i=n.call(r,t);var o=0,a=e.length;while(o<a){var s=o+a>>>1;n.call(r,e[s])<i?o=s+1:a=s}return o};k.toArray=function(e){if(!e)return[];if(k.isArray(e))return c.call(e);if(e.length===+e.length)return k.map(e,k.identity);return k.values(e)};k.size=function(e){if(e==null)return 0;return e.length===+e.length?e.length:k.keys(e).length};k.first=k.head=k.take=function(e,t,n){if(e==null)return void 0;if(t==null||n)return e[0];if(t<0)return[];return c.call(e,0,t)};k.initial=function(e,t,n){return c.call(e,0,e.length-(t==null||n?1:t))};k.last=function(e,t,n){if(e==null)return void 0;if(t==null||n)return e[e.length-1];return c.call(e,Math.max(e.length-t,0))};k.rest=k.tail=k.drop=function(e,t,n){return c.call(e,t==null||n?1:t)};k.compact=function(e){return k.filter(e,k.identity)};var j=function(e,t,n){if(t&&k.every(e,k.isArray)){return l.apply(n,e)}q(e,function(e){if(k.isArray(e)||k.isArguments(e)){t?u.apply(n,e):j(e,t,n)}else{n.push(e)}});return n};k.flatten=function(e,t){return j(e,t,[])};k.without=function(e){return k.difference(e,c.call(arguments,1))};k.partition=function(e,t){var n=[],r=[];q(e,function(e){(t(e)?n:r).push(e)});return[n,r]};k.uniq=k.unique=function(e,t,n,r){if(k.isFunction(t)){r=n;n=t;t=false}var i=n?k.map(e,n,r):e;var o=[];var a=[];q(i,function(n,r){if(t?!r||a[a.length-1]!==n:!k.contains(a,n)){a.push(n);o.push(e[r])}});return o};k.union=function(){return k.uniq(k.flatten(arguments,true))};k.intersection=function(e){var t=c.call(arguments,1);return k.filter(k.uniq(e),function(e){return k.every(t,function(t){return k.contains(t,e)})})};k.difference=function(e){var t=l.apply(o,c.call(arguments,1));return k.filter(e,function(e){return!k.contains(t,e)})};k.zip=function(){var e=k.max(k.pluck(arguments,"length").concat(0));var t=new Array(e);for(var n=0;n<e;n++){t[n]=k.pluck(arguments,""+n)}return t};k.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++){if(t){n[e[r]]=t[r]}else{n[e[r][0]]=e[r][1]}}return n};k.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n=="number"){r=n<0?Math.max(0,i+n):n}else{r=k.sortedIndex(e,t);return e[r]===t?r:-1}}if(_&&e.indexOf===_)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1};k.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(w&&e.lastIndexOf===w){return r?e.lastIndexOf(t,n):e.lastIndexOf(t)}var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1};k.range=function(e,t,n){if(arguments.length<=1){t=e||0;e=0}n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0);var i=0;var o=new Array(r);while(i<r){o[i++]=e;e+=n}return o};var T=function(){};k.bind=function(e,t){var n,r;if(A&&e.bind===A)return A.apply(e,c.call(arguments,1));if(!k.isFunction(e))throw new TypeError;n=c.call(arguments,2);return r=function(){if(!(this instanceof r))return e.apply(t,n.concat(c.call(arguments)));T.prototype=e.prototype;var i=new T;T.prototype=null;var o=e.apply(i,n.concat(c.call(arguments)));if(Object(o)===o)return o;return i}};k.partial=function(e){var t=c.call(arguments,1);return function(){var n=0;var r=t.slice();for(var i=0,o=r.length;i<o;i++){if(r[i]===k)r[i]=arguments[n++]}while(n<arguments.length)r.push(arguments[n++]);return e.apply(this,r)}};k.bindAll=function(e){var t=c.call(arguments,1);if(t.length===0)throw new Error("bindAll must be passed function names");q(t,function(t){e[t]=k.bind(e[t],e)});return e};k.memoize=function(e,t){var n={};t||(t=k.identity);return function(){var r=t.apply(this,arguments);return k.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}};k.delay=function(e,t){var n=c.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)};k.defer=function(e){return k.delay.apply(k,[e,1].concat(c.call(arguments,1)))};k.throttle=function(e,t,n){var r,i,o;var a=null;var s=0;n||(n={});var u=function(){s=n.leading===false?0:k.now();a=null;o=e.apply(r,i);r=i=null};return function(){var c=k.now();if(!s&&n.leading===false)s=c;var l=t-(c-s);r=this;i=arguments;if(l<=0){clearTimeout(a);a=null;s=c;o=e.apply(r,i);r=i=null}else if(!a&&n.trailing!==false){a=setTimeout(u,l)}return o}};k.debounce=function(e,t,n){var r,i,o,a,s;var u=function(){var c=k.now()-a;if(c<t){r=setTimeout(u,t-c)}else{r=null;if(!n){s=e.apply(o,i);o=i=null}}};return function(){o=this;i=arguments;a=k.now();var c=n&&!r;if(!r){r=setTimeout(u,t)}if(c){s=e.apply(o,i);o=i=null}return s}};k.once=function(e){var t=false,n;return function(){if(t)return n;t=true;n=e.apply(this,arguments);e=null;return n}};k.wrap=function(e,t){return k.partial(t,e)};k.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--){t=[e[n].apply(this,t)]}return t[0]}};k.after=function(e,t){return function(){if(--e<1){return t.apply(this,arguments)}}};k.keys=function(e){if(!k.isObject(e))return[];if(E)return E(e);var t=[];for(var n in e)if(k.has(e,n))t.push(n);return t};k.values=function(e){var t=k.keys(e);var n=t.length;var r=new Array(n);for(var i=0;i<n;i++){r[i]=e[t[i]]}return r};k.pairs=function(e){var t=k.keys(e);var n=t.length;var r=new Array(n);for(var i=0;i<n;i++){r[i]=[t[i],e[t[i]]]}return r};k.invert=function(e){var t={};var n=k.keys(e);for(var r=0,i=n.length;r<i;r++){t[e[n[r]]]=n[r]}return t};k.functions=k.methods=function(e){var t=[];for(var n in e){if(k.isFunction(e[n]))t.push(n)}return t.sort()};k.extend=function(e){q(c.call(arguments,1),function(t){if(t){for(var n in t){e[n]=t[n]}}});return e};k.pick=function(e){var t={};var n=l.apply(o,c.call(arguments,1));q(n,function(n){if(n in e)t[n]=e[n]});return t};k.omit=function(e){var t={};var n=l.apply(o,c.call(arguments,1));for(var r in e){if(!k.contains(n,r))t[r]=e[r]}return t};k.defaults=function(e){q(c.call(arguments,1),function(t){if(t){for(var n in t){if(e[n]===void 0)e[n]=t[n]}}});return e};k.clone=function(e){if(!k.isObject(e))return e;return k.isArray(e)?e.slice():k.extend({},e)};k.tap=function(e,t){t(e);return e};var N=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;if(e instanceof k)e=e._wrapped;if(t instanceof k)t=t._wrapped;var i=f.call(e);if(i!=f.call(t))return false;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return false;var o=n.length;while(o--){if(n[o]==e)return r[o]==t}var a=e.constructor,s=t.constructor;if(a!==s&&!(k.isFunction(a)&&a instanceof a&&k.isFunction(s)&&s instanceof s)&&("constructor"in e&&"constructor"in t)){return false}n.push(e);r.push(t);var u=0,c=true;if(i=="[object Array]"){u=e.length;c=u==t.length;if(c){while(u--){if(!(c=N(e[u],t[u],n,r)))break}}}else{for(var l in e){if(k.has(e,l)){u++;if(!(c=k.has(t,l)&&N(e[l],t[l],n,r)))break}}if(c){for(l in t){if(k.has(t,l)&&!u--)break}c=!u}}n.pop();r.pop();return c};k.isEqual=function(e,t){return N(e,t,[],[])};k.isEmpty=function(e){if(e==null)return true;if(k.isArray(e)||k.isString(e))return e.length===0;for(var t in e)if(k.has(e,t))return false;return true};k.isElement=function(e){return!!(e&&e.nodeType===1)};k.isArray=x||function(e){return f.call(e)=="[object Array]"};k.isObject=function(e){return e===Object(e)};q(["Arguments","Function","String","Number","Date","RegExp"],function(e){k["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}});if(!k.isArguments(arguments)){k.isArguments=function(e){return!!(e&&k.has(e,"callee"))}}if(typeof/./!=="function"){k.isFunction=function(e){return typeof e==="function"}}k.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))};k.isNaN=function(e){return k.isNumber(e)&&e!=+e};k.isBoolean=function(e){return e===true||e===false||f.call(e)=="[object Boolean]"};k.isNull=function(e){return e===null};k.isUndefined=function(e){return e===void 0};k.has=function(e,t){return p.call(e,t)};k.noConflict=function(){e._=r;return this};k.identity=function(e){return e};k.constant=function(e){return function(){return e}};k.property=function(e){return function(t){return t[e]}};k.matches=function(e){return function(t){if(t===e)return true;for(var n in e){if(e[n]!==t[n])return false}return true}};k.times=function(e,t,n){var r=Array(Math.max(0,e));for(var i=0;i<e;i++)r[i]=t.call(n,i);return r};k.random=function(e,t){if(t==null){t=e;e=0}return e+Math.floor(Math.random()*(t-e+1))};k.now=Date.now||function(){return(new Date).getTime()};var B={"escape":{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};B.unescape=k.invert(B.escape);var L={"escape":new RegExp("["+k.keys(B.escape).join("")+"]","g"),"unescape":new RegExp("("+k.keys(B.unescape).join("|")+")","g")};k.each(["escape","unescape"],function(e){k[e]=function(t){if(t==null)return"";return(""+t).replace(L[e],function(t){return B[e][t]})}});k.result=function(e,t){if(e==null)return void 0;var n=e[t];return k.isFunction(n)?n.call(e):n};k.mixin=function(e){q(k.functions(e),function(t){var n=k[t]=e[t];k.prototype[t]=function(){var e=[this._wrapped];u.apply(e,arguments);return U.call(this,n.apply(k,e))}})};var R=0;k.uniqueId=function(e){var t=++R+"";return e?e+t:t};k.templateSettings={"evaluate":/<%([\s\S]+?)%>/g,"interpolate":/<%=([\s\S]+?)%>/g,"escape":/<%-([\s\S]+?)%>/g};var F=/(.)^/;var I={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"};var P=/\\|'|\r|\n|\t|\u2028|\u2029/g;k.template=function(e,t,n){var r;n=k.defaults({},n,k.templateSettings);var i=new RegExp([(n.escape||F).source,(n.interpolate||F).source,(n.evaluate||F).source].join("|")+"|$","g");var o=0;var a="__p+='";e.replace(i,function(t,n,r,i,s){a+=e.slice(o,s).replace(P,function(e){return"\\"+I[e]});if(n){a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"}if(r){a+="'+\n((__t=("+r+"))==null?'':__t)+\n'"}if(i){a+="';\n"+i+"\n__p+='"}o=s+t.length;return t});a+="';\n";if(!n.variable)a="with(obj||{}){\n"+a+"}\n";a="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(n.variable||"obj","_",a)}catch(s){s.source=a;throw s}if(t)return r(t,k);var u=function(e){return r.call(this,e,k)};u.source="function("+(n.variable||"obj")+"){\n"+a+"}";return u};k.chain=function(e){return k(e).chain()};var U=function(e){return this._chain?k(e).chain():e};k.mixin(k);q(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=o[e];k.prototype[e]=function(){var n=this._wrapped;t.apply(n,arguments);if((e=="shift"||e=="splice")&&n.length===0)delete n[0];return U.call(this,n)}});q(["concat","join","slice"],function(e){var t=o[e];k.prototype[e]=function(){return U.call(this,t.apply(this._wrapped,arguments))}});k.extend(k.prototype,{"chain":function(){this._chain=true;return this},"value":function(){return this._wrapped}});if(typeof define==="function"&&define.amd){define("underscore",[],function(){return k})}}).call(this)},{}],"131":[function(e,t,n){t.exports=e(91)},{"protoclass":132,"type-component":133}],"132":[function(e,t,n){t.exports=e(28)},{}],"133":[function(e,t,n){t.exports=e(52)},{}],"134":[function(e,t,n){(function(){var e=this;var r=e._;var i=Array.prototype,o=Object.prototype,a=Function.prototype;var s=i.push,u=i.slice,c=i.concat,l=o.toString,f=o.hasOwnProperty;var p=Array.isArray,d=Object.keys,h=a.bind;var v=function(e){if(e instanceof v)return e;if(!(this instanceof v))return new v(e);this._wrapped=e};if(typeof n!=="undefined"){if(typeof t!=="undefined"&&t.exports){n=t.exports=v}n._=v}else{e._=v}v.VERSION="1.7.0";var m=function(e,t,n){if(t===void 0)return e;switch(n==null?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}};v.iteratee=function(e,t,n){if(e==null)return v.identity;if(v.isFunction(e))return m(e,t,n);if(v.isObject(e))return v.matches(e);return v.property(e)};v.each=v.forEach=function(e,t,n){if(e==null)return e;t=m(t,n);var r,i=e.length;if(i===+i){for(r=0;r<i;r++){t(e[r],r,e)}}else{var o=v.keys(e);for(r=0,i=o.length;r<i;r++){t(e[o[r]],o[r],e)}}return e};v.map=v.collect=function(e,t,n){if(e==null)return[];t=v.iteratee(t,n);var r=e.length!==+e.length&&v.keys(e),i=(r||e).length,o=Array(i),a;for(var s=0;s<i;s++){a=r?r[s]:s;o[s]=t(e[a],a,e)}return o};var g="Reduce of empty array with no initial value";v.reduce=v.foldl=v.inject=function(e,t,n,r){if(e==null)e=[];t=m(t,r,4);var i=e.length!==+e.length&&v.keys(e),o=(i||e).length,a=0,s;if(arguments.length<3){if(!o)throw new TypeError(g);n=e[i?i[a++]:a++]}for(;a<o;a++){s=i?i[a]:a;n=t(n,e[s],s,e)}return n};v.reduceRight=v.foldr=function(e,t,n,r){if(e==null)e=[];t=m(t,r,4);var i=e.length!==+e.length&&v.keys(e),o=(i||e).length,a;if(arguments.length<3){if(!o)throw new TypeError(g);n=e[i?i[--o]:--o]}while(o--){a=i?i[o]:o;n=t(n,e[a],a,e)}return n};v.find=v.detect=function(e,t,n){var r;t=v.iteratee(t,n);v.some(e,function(e,n,i){if(t(e,n,i)){r=e;return true}});return r};v.filter=v.select=function(e,t,n){var r=[];if(e==null)return r;t=v.iteratee(t,n);v.each(e,function(e,n,i){if(t(e,n,i))r.push(e)});return r};v.reject=function(e,t,n){return v.filter(e,v.negate(v.iteratee(t)),n)};v.every=v.all=function(e,t,n){if(e==null)return true;t=v.iteratee(t,n);var r=e.length!==+e.length&&v.keys(e),i=(r||e).length,o,a;for(o=0;o<i;o++){a=r?r[o]:o;if(!t(e[a],a,e))return false}return true};v.some=v.any=function(e,t,n){if(e==null)return false;t=v.iteratee(t,n);var r=e.length!==+e.length&&v.keys(e),i=(r||e).length,o,a;for(o=0;o<i;o++){a=r?r[o]:o;if(t(e[a],a,e))return true}return false};v.contains=v.include=function(e,t){if(e==null)return false;if(e.length!==+e.length)e=v.values(e);return v.indexOf(e,t)>=0};v.invoke=function(e,t){var n=u.call(arguments,2);var r=v.isFunction(t);return v.map(e,function(e){return(r?t:e[t]).apply(e,n)})};v.pluck=function(e,t){return v.map(e,v.property(t))};v.where=function(e,t){return v.filter(e,v.matches(t))};v.findWhere=function(e,t){return v.find(e,v.matches(t))};v.max=function(e,t,n){var r=-Infinity,i=-Infinity,o,a;if(t==null&&e!=null){e=e.length===+e.length?e:v.values(e);for(var s=0,u=e.length;s<u;s++){o=e[s];if(o>r){r=o}}}else{t=v.iteratee(t,n);v.each(e,function(e,n,o){a=t(e,n,o);if(a>i||a===-Infinity&&r===-Infinity){r=e;i=a}})}return r};v.min=function(e,t,n){var r=Infinity,i=Infinity,o,a;if(t==null&&e!=null){e=e.length===+e.length?e:v.values(e);for(var s=0,u=e.length;s<u;s++){o=e[s];if(o<r){r=o}}}else{t=v.iteratee(t,n);v.each(e,function(e,n,o){a=t(e,n,o);if(a<i||a===Infinity&&r===Infinity){r=e;i=a}})}return r};v.shuffle=function(e){var t=e&&e.length===+e.length?e:v.values(e);var n=t.length;var r=Array(n);for(var i=0,o;i<n;i++){o=v.random(0,i);if(o!==i)r[i]=r[o];r[o]=t[i]}return r};v.sample=function(e,t,n){if(t==null||n){if(e.length!==+e.length)e=v.values(e);return e[v.random(e.length-1)]}return v.shuffle(e).slice(0,Math.max(0,t))};v.sortBy=function(e,t,n){t=v.iteratee(t,n);return v.pluck(v.map(e,function(e,n,r){return{"value":e,"index":n,"criteria":t(e,n,r)}}).sort(function(e,t){var n=e.criteria;var r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")};var y=function(e){return function(t,n,r){var i={};n=v.iteratee(n,r);v.each(t,function(r,o){var a=n(r,o,t);e(i,r,a)});return i}};v.groupBy=y(function(e,t,n){if(v.has(e,n))e[n].push(t);else e[n]=[t]});v.indexBy=y(function(e,t,n){e[n]=t});v.countBy=y(function(e,t,n){if(v.has(e,n))e[n]++;else e[n]=1});v.sortedIndex=function(e,t,n,r){n=v.iteratee(n,r,1);var i=n(t);var o=0,a=e.length;while(o<a){var s=o+a>>>1;if(n(e[s])<i)o=s+1;else a=s}return o};v.toArray=function(e){if(!e)return[];if(v.isArray(e))return u.call(e);if(e.length===+e.length)return v.map(e,v.identity);return v.values(e)};v.size=function(e){if(e==null)return 0;return e.length===+e.length?e.length:v.keys(e).length};v.partition=function(e,t,n){t=v.iteratee(t,n);var r=[],i=[];v.each(e,function(e,n,o){(t(e,n,o)?r:i).push(e)});return[r,i]};v.first=v.head=v.take=function(e,t,n){if(e==null)return void 0;if(t==null||n)return e[0];if(t<0)return[];return u.call(e,0,t)};v.initial=function(e,t,n){return u.call(e,0,Math.max(0,e.length-(t==null||n?1:t)))};v.last=function(e,t,n){if(e==null)return void 0;if(t==null||n)return e[e.length-1];return u.call(e,Math.max(e.length-t,0))};v.rest=v.tail=v.drop=function(e,t,n){return u.call(e,t==null||n?1:t)};v.compact=function(e){return v.filter(e,v.identity)};var b=function(e,t,n,r){if(t&&v.every(e,v.isArray)){return c.apply(r,e)}for(var i=0,o=e.length;i<o;i++){var a=e[i];if(!v.isArray(a)&&!v.isArguments(a)){if(!n)r.push(a)}else if(t){s.apply(r,a)}else{b(a,t,n,r)}}return r};v.flatten=function(e,t){return b(e,t,false,[])};v.without=function(e){return v.difference(e,u.call(arguments,1))};v.uniq=v.unique=function(e,t,n,r){if(e==null)return[];
if(!v.isBoolean(t)){r=n;n=t;t=false}if(n!=null)n=v.iteratee(n,r);var i=[];var o=[];for(var a=0,s=e.length;a<s;a++){var u=e[a];if(t){if(!a||o!==u)i.push(u);o=u}else if(n){var c=n(u,a,e);if(v.indexOf(o,c)<0){o.push(c);i.push(u)}}else if(v.indexOf(i,u)<0){i.push(u)}}return i};v.union=function(){return v.uniq(b(arguments,true,true,[]))};v.intersection=function(e){if(e==null)return[];var t=[];var n=arguments.length;for(var r=0,i=e.length;r<i;r++){var o=e[r];if(v.contains(t,o))continue;for(var a=1;a<n;a++){if(!v.contains(arguments[a],o))break}if(a===n)t.push(o)}return t};v.difference=function(e){var t=b(u.call(arguments,1),true,true,[]);return v.filter(e,function(e){return!v.contains(t,e)})};v.zip=function(e){if(e==null)return[];var t=v.max(arguments,"length").length;var n=Array(t);for(var r=0;r<t;r++){n[r]=v.pluck(arguments,r)}return n};v.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++){if(t){n[e[r]]=t[r]}else{n[e[r][0]]=e[r][1]}}return n};v.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n=="number"){r=n<0?Math.max(0,i+n):n}else{r=v.sortedIndex(e,t);return e[r]===t?r:-1}}for(;r<i;r++)if(e[r]===t)return r;return-1};v.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=e.length;if(typeof n=="number"){r=n<0?r+n+1:Math.min(r,n+1)}while(--r>=0)if(e[r]===t)return r;return-1};v.range=function(e,t,n){if(arguments.length<=1){t=e||0;e=0}n=n||1;var r=Math.max(Math.ceil((t-e)/n),0);var i=Array(r);for(var o=0;o<r;o++,e+=n){i[o]=e}return i};var _=function(){};v.bind=function(e,t){var n,r;if(h&&e.bind===h)return h.apply(e,u.call(arguments,1));if(!v.isFunction(e))throw new TypeError("Bind must be called on a function");n=u.call(arguments,2);r=function(){if(!(this instanceof r))return e.apply(t,n.concat(u.call(arguments)));_.prototype=e.prototype;var i=new _;_.prototype=null;var o=e.apply(i,n.concat(u.call(arguments)));if(v.isObject(o))return o;return i};return r};v.partial=function(e){var t=u.call(arguments,1);return function(){var n=0;var r=t.slice();for(var i=0,o=r.length;i<o;i++){if(r[i]===v)r[i]=arguments[n++]}while(n<arguments.length)r.push(arguments[n++]);return e.apply(this,r)}};v.bindAll=function(e){var t,n=arguments.length,r;if(n<=1)throw new Error("bindAll must be passed function names");for(t=1;t<n;t++){r=arguments[t];e[r]=v.bind(e[r],e)}return e};v.memoize=function(e,t){var n=function(r){var i=n.cache;var o=t?t.apply(this,arguments):r;if(!v.has(i,o))i[o]=e.apply(this,arguments);return i[o]};n.cache={};return n};v.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)};v.defer=function(e){return v.delay.apply(v,[e,1].concat(u.call(arguments,1)))};v.throttle=function(e,t,n){var r,i,o;var a=null;var s=0;if(!n)n={};var u=function(){s=n.leading===false?0:v.now();a=null;o=e.apply(r,i);if(!a)r=i=null};return function(){var c=v.now();if(!s&&n.leading===false)s=c;var l=t-(c-s);r=this;i=arguments;if(l<=0||l>t){clearTimeout(a);a=null;s=c;o=e.apply(r,i);if(!a)r=i=null}else if(!a&&n.trailing!==false){a=setTimeout(u,l)}return o}};v.debounce=function(e,t,n){var r,i,o,a,s;var u=function(){var c=v.now()-a;if(c<t&&c>0){r=setTimeout(u,t-c)}else{r=null;if(!n){s=e.apply(o,i);if(!r)o=i=null}}};return function(){o=this;i=arguments;a=v.now();var c=n&&!r;if(!r)r=setTimeout(u,t);if(c){s=e.apply(o,i);o=i=null}return s}};v.wrap=function(e,t){return v.partial(t,e)};v.negate=function(e){return function(){return!e.apply(this,arguments)}};v.compose=function(){var e=arguments;var t=e.length-1;return function(){var n=t;var r=e[t].apply(this,arguments);while(n--)r=e[n].call(this,r);return r}};v.after=function(e,t){return function(){if(--e<1){return t.apply(this,arguments)}}};v.before=function(e,t){var n;return function(){if(--e>0){n=t.apply(this,arguments)}else{t=null}return n}};v.once=v.partial(v.before,2);v.keys=function(e){if(!v.isObject(e))return[];if(d)return d(e);var t=[];for(var n in e)if(v.has(e,n))t.push(n);return t};v.values=function(e){var t=v.keys(e);var n=t.length;var r=Array(n);for(var i=0;i<n;i++){r[i]=e[t[i]]}return r};v.pairs=function(e){var t=v.keys(e);var n=t.length;var r=Array(n);for(var i=0;i<n;i++){r[i]=[t[i],e[t[i]]]}return r};v.invert=function(e){var t={};var n=v.keys(e);for(var r=0,i=n.length;r<i;r++){t[e[n[r]]]=n[r]}return t};v.functions=v.methods=function(e){var t=[];for(var n in e){if(v.isFunction(e[n]))t.push(n)}return t.sort()};v.extend=function(e){if(!v.isObject(e))return e;var t,n;for(var r=1,i=arguments.length;r<i;r++){t=arguments[r];for(n in t){if(f.call(t,n)){e[n]=t[n]}}}return e};v.pick=function(e,t,n){var r={},i;if(e==null)return r;if(v.isFunction(t)){t=m(t,n);for(i in e){var o=e[i];if(t(o,i,e))r[i]=o}}else{var a=c.apply([],u.call(arguments,1));e=new Object(e);for(var s=0,l=a.length;s<l;s++){i=a[s];if(i in e)r[i]=e[i]}}return r};v.omit=function(e,t,n){if(v.isFunction(t)){t=v.negate(t)}else{var r=v.map(c.apply([],u.call(arguments,1)),String);t=function(e,t){return!v.contains(r,t)}}return v.pick(e,t,n)};v.defaults=function(e){if(!v.isObject(e))return e;for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];for(var i in r){if(e[i]===void 0)e[i]=r[i]}}return e};v.clone=function(e){if(!v.isObject(e))return e;return v.isArray(e)?e.slice():v.extend({},e)};v.tap=function(e,t){t(e);return e};var w=function(e,t,n,r){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return e===t;if(e instanceof v)e=e._wrapped;if(t instanceof v)t=t._wrapped;var i=l.call(e);if(i!==l.call(t))return false;switch(i){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":if(+e!==+e)return+t!==+t;return+e===0?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}if(typeof e!="object"||typeof t!="object")return false;var o=n.length;while(o--){if(n[o]===e)return r[o]===t}var a=e.constructor,s=t.constructor;if(a!==s&&"constructor"in e&&"constructor"in t&&!(v.isFunction(a)&&a instanceof a&&v.isFunction(s)&&s instanceof s)){return false}n.push(e);r.push(t);var u,c;if(i==="[object Array]"){u=e.length;c=u===t.length;if(c){while(u--){if(!(c=w(e[u],t[u],n,r)))break}}}else{var f=v.keys(e),p;u=f.length;c=v.keys(t).length===u;if(c){while(u--){p=f[u];if(!(c=v.has(t,p)&&w(e[p],t[p],n,r)))break}}}n.pop();r.pop();return c};v.isEqual=function(e,t){return w(e,t,[],[])};v.isEmpty=function(e){if(e==null)return true;if(v.isArray(e)||v.isString(e)||v.isArguments(e))return e.length===0;for(var t in e)if(v.has(e,t))return false;return true};v.isElement=function(e){return!!(e&&e.nodeType===1)};v.isArray=p||function(e){return l.call(e)==="[object Array]"};v.isObject=function(e){var t=typeof e;return t==="function"||t==="object"&&!!e};v.each(["Arguments","Function","String","Number","Date","RegExp"],function(e){v["is"+e]=function(t){return l.call(t)==="[object "+e+"]"}});if(!v.isArguments(arguments)){v.isArguments=function(e){return v.has(e,"callee")}}if(typeof/./!=="function"){v.isFunction=function(e){return typeof e=="function"||false}}v.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))};v.isNaN=function(e){return v.isNumber(e)&&e!==+e};v.isBoolean=function(e){return e===true||e===false||l.call(e)==="[object Boolean]"};v.isNull=function(e){return e===null};v.isUndefined=function(e){return e===void 0};v.has=function(e,t){return e!=null&&f.call(e,t)};v.noConflict=function(){e._=r;return this};v.identity=function(e){return e};v.constant=function(e){return function(){return e}};v.noop=function(){};v.property=function(e){return function(t){return t[e]}};v.matches=function(e){var t=v.pairs(e),n=t.length;return function(e){if(e==null)return!n;e=new Object(e);for(var r=0;r<n;r++){var i=t[r],o=i[0];if(i[1]!==e[o]||!(o in e))return false}return true}};v.times=function(e,t,n){var r=Array(Math.max(0,e));t=m(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r};v.random=function(e,t){if(t==null){t=e;e=0}return e+Math.floor(Math.random()*(t-e+1))};v.now=Date.now||function(){return(new Date).getTime()};var x={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var E=v.invert(x);var A=function(e){var t=function(t){return e[t]};var n="(?:"+v.keys(e).join("|")+")";var r=RegExp(n);var i=RegExp(n,"g");return function(e){e=e==null?"":""+e;return r.test(e)?e.replace(i,t):e}};v.escape=A(x);v.unescape=A(E);v.result=function(e,t){if(e==null)return void 0;var n=e[t];return v.isFunction(n)?e[t]():n};var k=0;v.uniqueId=function(e){var t=++k+"";return e?e+t:t};v.templateSettings={"evaluate":/<%([\s\S]+?)%>/g,"interpolate":/<%=([\s\S]+?)%>/g,"escape":/<%-([\s\S]+?)%>/g};var q=/(.)^/;var S={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"};var C=/\\|'|\r|\n|\u2028|\u2029/g;var D=function(e){return"\\"+S[e]};v.template=function(e,t,n){if(!t&&n)t=n;t=v.defaults({},t,v.templateSettings);var r=RegExp([(t.escape||q).source,(t.interpolate||q).source,(t.evaluate||q).source].join("|")+"|$","g");var i=0;var o="__p+='";e.replace(r,function(t,n,r,a,s){o+=e.slice(i,s).replace(C,D);i=s+t.length;if(n){o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"}else if(r){o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"}else if(a){o+="';\n"+a+"\n__p+='"}return t});o+="';\n";if(!t.variable)o="with(obj||{}){\n"+o+"}\n";o="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(s){s.source=o;throw s}var u=function(e){return a.call(this,e,v)};var c=t.variable||"obj";u.source="function("+c+"){\n"+o+"}";return u};v.chain=function(e){var t=v(e);t._chain=true;return t};var O=function(e){return this._chain?v(e).chain():e};v.mixin=function(e){v.each(v.functions(e),function(t){var n=v[t]=e[t];v.prototype[t]=function(){var e=[this._wrapped];s.apply(e,arguments);return O.call(this,n.apply(v,e))}})};v.mixin(v);v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];v.prototype[e]=function(){var n=this._wrapped;t.apply(n,arguments);if((e==="shift"||e==="splice")&&n.length===0)delete n[0];return O.call(this,n)}});v.each(["concat","join","slice"],function(e){var t=i[e];v.prototype[e]=function(){return O.call(this,t.apply(this._wrapped,arguments))}});v.prototype.value=function(){return this._wrapped};if(typeof define==="function"&&define.amd){define("underscore",[],function(){return v})}}).call(this)},{}],"135":[function(e,t,n){var r=e("./views"),i=e("./plugins/decor"),o=e("./plugins/defaultComponents"),a=e("mojo-registered-classes");var s=t.exports=function(t){t.views=new a(t);if(!t.animate){t.use(e("mojo-animator"))}t.use(o);t.use(i)};var u=t.exports.Application=e("mojo-application");t.exports.Base=r.Base;t.exports.List=r.List;t.exports.Container=r.Container;t.exports.Stack=r.Stack;var c=u.main;c.use(e("mojo-animator"));c.use(s);t.exports.mainApplication=c;r.Base.defaultApplication=c},{"./plugins/decor":138,"./plugins/defaultComponents":139,"./views":141,"mojo-animator":158,"mojo-application":31,"mojo-registered-classes":159}],"136":[function(e,t,n){var r=e("type-component"),i=e("protoclass"),o=e("underscore");function a(e,t){this.view=e;this.childOptions=t;e.sections=e.children={"__decorated":true};this.init()}i(a,{"init":function(){for(var e in this.childOptions){this._addChild(e,this._fixOptions(this.childOptions[e]))}},"_addChild":function(e,t){if(!t)return;var n=this._createChildView(t);n.once("decorate",function(){n.decorate(t)});n.setProperties({"name":e,"parent":this.view})},"_fixOptions":function(e){if(!e){throw new Error("'children' is invalid for view '"+this.view.path+"'")}if(!e.type){e={"type":e}}return e},"_createChildView":function(e){var t;if((t=r(e.type))==="object"){if(e.type.__isView){return e.type}else{return this.view.application.views.create("base",e.type)}}else if(t==="function"){return new e.type(e,this.view.application)}else if(t==="string"){return this.view.application.views.create(e.type,e)}else{throw new Error("cannot create child for type '"+t+"'")}}});a.priority="init";a.getOptions=function(e){if(e.sections&&!e.sections.__decorated){return e.sections}if(e.children&&!e.children.__decorated){return e.children}};a.decorate=function(e,t){return new a(e,t)};t.exports=a},{"protoclass":174,"type-component":178,"underscore":179}],"137":[function(t,n,r){var i=t("protoclass"),o=t("janitorjs"),a=t("underscore");function s(e,t){this.view=e;this.events=t;this.render=a.bind(this.render,this);this.remove=a.bind(this.remove,this);e.once("render",this.render);e.once("dispose",this.remove)}i(s,{"render":function(){e=this._events();this._disposeBindings();this._janitor=o();for(var t in e){this._addBinding(t,e[t])}},"remove":function(){this._disposeBindings()},"_addBinding":function(e,t){var n=e.split(" "),r=n.shift().split(/\//g).join(" "),i=n.join(","),o=this,a;function s(){var e;if(typeof t==="function"){e=t}else{e=o.view.get(t)}e.apply(o.view,arguments)}if(!i.length){a=this.view.$()}else{a=this.view.$(i)}a.bind(lowerActions=r.toLowerCase(),s);r.split(" ").forEach(function(e){o._janitor.add(o.view.on(e,function(){s.apply(o,[$.Event(e)].concat(Array.prototype.slice.call(arguments)))}))});this._janitor.add(function(){a.unbind(r,s);a.unbind(lowerActions,s)})},"_disposeBindings":function(){if(!this._janitor)return;this._janitor.dispose();this._janitor=undefined},"_events":function(){return this.events}});s.priority="display";s.getOptions=function(e){return e.events};s.decorate=function(e,t){return new s(e,t)};n.exports=s},{"janitorjs":155,"protoclass":174,"underscore":179}],"138":[function(e,t,n){var r=e("./events"),i=e("./children"),o=e("bindable-decor-bindings"),a=e("frills");t.exports=function(e){var t=a();t.priority("init",0).priority("load",1).priority("render",2).priority("display",3).use(o("render"),r,i);e.views.decorate=function(e,n){t.decorate(e,n)};e.views.decorator=function(e){return t.use(e)}}},{"./children":136,"./events":137,"bindable-decor-bindings":144,"frills":154}],"139":[function(e,t,n){var r=e("../views");t.exports=function(e){e.views.register({"list":r.List,"states":r.States,"stack":r.Stack,"base":r.Base})}},{"../views":141}],"140":[function(e,t,n){(function(n,r){var i=e("protoclass"),o=e("loaf"),a=e("subindable").Object,s=e("janitorjs"),u=e("runlater")(1,100),c=e("underscore"),l=e("../../plugins/decor"),f=e("noselector");function p(e,t){a.call(this,this);this._onParent=c.bind(this._onParent,this);this.application=t;this.initialize(e);this["this"]=this}i(a,p,{"visible":false,"_rendered":false,"__isView":true,"define":["sections","children"],"disposable":function(e){if(!this._janitor){this._janitor=s()}this._janitor.add(e)},"initialize":function(e){this.on("change:parent",this._onParent);if(e){for(var t in e){this[t]=e[t]}}if(this.parent)this._onParent(this.parent)},"_createSection":function(){if(this.section)return;if(!this.application){this.application=r.application||p.defaultApplication}this.section=o(this.application.nodeFactory);this.didCreateSection();this.models=this.application.models;this.emit("decorate");this.application.views.decorate(this,this.constructor.prototype)},"path":function(){var e=[],t=this;while(t){e.unshift(t.name||t.constructor.name);t=t.parent}return e.join(".")},"render":function(){if(this._rendered){return this.section.render()}this._rendered=true;if(this._cleanupJanitor){this._cleanupJanitor.dispose()}if(!this.section){this._createSection()}this.willRender();this.emit("render");var e=this.section.render();this.didRender();this._updateVisibility();return e},"didCreateSection":function(){},"willRender":function(){},"didRender":function(){},"remove":function(){if(!this._rendered)return;this.willRemove();this.emit("remove");this.section.remove();this.didRemove();this._rendered=false;this._updateVisibility()},"willRemove":function(){},"didRemove":function(){},"$":function(e){if(!this.section)this.render();var t=f(this.section.getChildNodes());if(arguments.length){return t.find(e).andSelf().filter(e)}return t},"decorate":function(e){this._createSection();this.application.views.decorate(this,e);return this},"dispose":function(){this.remove();this.set("parent",void 0);if(this._janitor)this._janitor.dispose();a.prototype.dispose.call(this)},"bubble":function(){this.emit.apply(this,arguments);if(this.parent)this.parent.bubble.apply(this.parent,arguments)},"_onParent":function(e){if(this._parentListeners){this._parentListeners.dispose()}else{this._parentListeners=s();this._disposeLater=c.bind(this._disposeLater,this);this._updateVisibility=c.bind(this._updateVisibility,this)}this.inherit("application");if(!e)return;if(this.name){e.set("sections."+this.name,this);e.set("children."+this.name,this)}this._parentListeners.add(e.bind("visible",this._updateVisibility));this._parentListeners.add(e.on("dispose",this._disposeLater))},"_updateVisibility":function(){this.set("visible",!!(this._rendered&&(!this.parent||this.parent.visible)))},"_disposeLater":function(){var e=this;if(!n.browser)return this.dispose();(this._cleanupJanitor||(this._cleanupJanitor=s())).add(u(function(){e.dispose()}))}});t.exports=p}).call(this,e("OpdoqP"),typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../../plugins/decor":138,"OpdoqP":58,"janitorjs":155,"loaf":156,"noselector":181,"protoclass":174,"runlater":175,"subindable":176,"underscore":179}],"141":[function(e,t,n){t.exports={"Base":e("./base"),"List":e("./list"),"Stack":e("./stack")}},{"./base":140,"./list":142,"./stack":143}],"142":[function(e,t,n){var r=e("../base"),i=e("bindable"),o=e("factories"),a=e("underscore"),s=e("janitorjs");var u=0;function c(){return"cid"+ ++u}function l(e){var t=this;var n,r,i;var o=f.call(this,function(){e.call(t,r,n)});return{"to":function a(e){var s;if(i)i.dispose();if(typeof e==="string"){s=t.get(e);i=t.bind(e,function(){a(e)})}else{s=e}n=r;r=s;o()}}}function f(e){var t=this;return function(){var n=Array.prototype.slice.call(arguments);if(t.visible){t.application.animate({"update":function(){e.apply(t,n)}})}else{e.apply(t,n)}}}function p(){r.apply(this,arguments);this._modelViewMap={}}r.extend(p,{"willRender":function(){if(this.children)return;this._sourceListeners=s();this._modelListeners=s();this._insertModels=[];this._removeModels=[];this.children=new i.Collection;this.bind("modelViewClass",l.call(this,this._onModelViewFactoryChange)).now();this.bind("modelViewFactory",l.call(this,this._onModelViewFactoryChange)).now();this.bind("filter",l.call(this,this._onFilterChange)).now();this.bind("sort",l.call(this,this._onSortChange)).now();this.bind("source",l.call(this,this._onSourceChange)).now()},"_onSourceChange":function(e,t){this._removeAllChildren();this._sourceListeners.dispose();this._modelListeners.dispose();this._source=e;if(e){this._sourceListeners.add(e.on("update",f.call(this,this._onSourceUpdate)));this._onSourceUpdate({"insert":e.source()})}},"_watchModels":function(e){var t=this,n=false;function r(){if(n)return;n=true;t.application.animate({"update":function(){n=false;t._onFilterChange(t._filter,true)}})}for(var i=e.length;i--;){this._modelListeners.add(e[i].on("change",r))}},"_rewatchModels":function(){this._modelListeners.dispose();this._watchModels(this._source.source())},"_onModelViewFactoryChange":function(e){this._modelViewFactory=o.factory.create(e);if(!this._source)return;this._onSourceChange(this._source)},"_onFilterChange":function(e,t){e=this._filter=a.bind(e||p.prototype._filter,this);if(!this._source)return;var n=[],r=[];for(var i=this._source.length;i--;){var o=this._source.at(i),s=this._modelViewMap[o.cid],u=e(o);if(s&&!u){n.push(o)}else if(u&&!s){r.unshift(o)}}if(n.length)this._removeChildren(n);if(r.length||t)this._addChildren(r||[])},"_onSortChange":function(e){this._sort=e;if(!this._source)return;var t=this;var n=this.children.source().sort(e?function(n,r){return e.call(t,n.model,r.model)}:function(e,t){return e.modelIndex>t.modelIndex?1:-1});for(var r=n.length;r--;){n[r].set("index",r)}var i;for(var r=0,o=n.length;r<o;r++){var a=n[r];if(a.visible){var s;if(a.previousSibling!==i){if(!i){s=this.section.start}else{s=i.section.end}var u=a.section.getChildNodes();for(var c=0,l=u.length;c<l;c++){var f=u[c];s.parentNode.insertBefore(f,s.nextSibling);s=f}}}else{if(!i){this.section.prepend(a.render())}else{i.section.end.parentNode.insertBefore(a.render(),i.section.end.nextSibling)}}a.previousSibling=i;if(i)i.nextSibling=a;i=a}},"_onSourceUpdate":function(e){this._insertModels=this._insertModels.concat(e.insert||[]);this._removeModels=this._removeModels.concat(e.remove||[]);if(this._syncingModels)return;var t=this;this.application.animate({"update":function(){t._syncingModels=false;t._syncModels()}})},"_syncModels":function(){if(!this._source)return;var e=this._insertModels,t=this._removeModels;this._insertModels=[];this._removeModels=[];if(e.length){this._watchModels(e);this._addChildren(e.filter(this._filter))}if(t.length){this._rewatchModels();this._removeChildren(t)}},"_removeAllChildren":function(){this._modelViewMap={};this.section.removeAll();var e=this.children.source();for(var t=this.children.length;t--;){this.children.at(t).dispose()}this.children.source([])},"_removeChildren":function(e){for(var t=e.length;t--;){var n=e[t];var r=this._modelViewMap[n.cid];if(r){this._modelViewMap[n.cid]=void 0;r.dispose();this.children.splice(this.children.indexOf(r),1)}}},"_addChildren":function(e){var t=[],n,r=this;for(var i=0,o=e.length;i<o;i++){var a=e[i];if(!a.cid)a.cid=c();var s=this._modelViewFactory.create({"parent":r,"model":a,"modelIndex":this._source.indexOf(a)});r._modelViewMap[a.cid]=s;t.push(s)}this.children.push.apply(this.children,t);this._onSortChange(this._sort)},"_filter":function(e){return true}});t.exports=p},{"../base":140,"bindable":22,"factories":152,"janitorjs":155,"underscore":179}],"143":[function(e,t,n){var r=e("../base");function i(){r.apply(this,arguments)}t.exports=r.extend(i,{"define":["state"],"bindings":{"state":function(e){if(!e)return;var t=this.currentChild,n;this.set("currentChild",n=this.get("children."+e));if(!n){throw new Error("state '"+e+"' does not exist")}if(n===t)return;var r=this;this.application.animate({"update":function(){if(t){t.remove()}r.section.append(n.render())}})},"name":function(e){if(this._nameBinding)this._nameBinding.dispose();this._nameBinding=this.bind("states."+e,{"to":"state"}).now()}}})},{"../base":140}],"144":[function(e,t,n){t.exports=e(84)},{"disposable":145}],"145":[function(e,t,n){t.exports=e(85)},{}],"146":[function(e,t,n){t.exports=e(45)},{"./base":147,"./factory":149}],"147":[function(e,t,n){t.exports=e(46)},{}],"148":[function(e,t,n){t.exports=e(47)},{"./base":147}],"149":[function(e,t,n){t.exports=e(48)},{"./base":147,"./class":148,"./fn":150,"type-component":178}],"150":[function(e,t,n){t.exports=e(49)},{}],"151":[function(e,t,n){t.exports=e(50)},{"./base":147,"./factory":149}],"152":[function(e,t,n){t.exports=e(51)},{"./any":146,"./class":148,"./factory":149,"./fn":150,"./group":151}],"153":[function(e,t,n){var r=e("protoclass");function i(){this._priorities={};this._decorators=[]}t.exports=r(i,{"priority":function(e,t){this._priorities[e]=t;return this},"use":function(){var e=this._priorities;this._decorators=this._decorators.concat(Array.prototype.slice.call(arguments,0)).sort(function(t,n){return e[t.priority]>e[n.priority]?-1:1})},"decorate":function(e,t){if(!t){t=e.constructor.prototype;if(t===Object.prototype){t=e}}if(!t.__decorators||t.__decorOwner!=t){this._setDecorators(t)}for(var n=t.__decorators.length;n--;){var r=t.__decorators[n];r.decorator.decorate(e,r.options)}},"_setDecorators":function(e){var t=e,n,r,i,o=e.__decorators=[],a={};e.__decorOwner=e;while(t){for(var s=this._decorators.length;s--;){n=this._decorators[s];if(a[s]&&n.multi===false)continue;if((i=n.getOptions(t))!=null){o.push({"decorator":n,"options":i});a[s]=true}}t=t.constructor.__super__}}})},{"protoclass":174}],"154":[function(e,t,n){arguments[4][87][0].apply(n,arguments)},{"./decorator":153}],"155":[function(e,t,n){t.exports=e(91)},{"protoclass":174,"type-component":178}],"156":[function(e,t,n){var r=e("protoclass"),i=e("nofactor");var o=function(e,t,n){this.nodeFactory=e=e||i["default"];this.start=t||e.createTextNode("");this.end=n||e.createTextNode("");this.visible=true;if(!this.start.parentNode){var r=e.createFragment();r.appendChild(this.start);r.appendChild(this.end)}};o=r(o,{"__isLoafSection":true,"render":function(){return this.start.parentNode},"remove":function(){return this.nodeFactory.createFragment(this.getChildNodes())},"show":function(){if(!this._detached)return this;this.append.apply(this,this._detached.getInnerChildNodes());this._detached=void 0;this.visible=true;return this},"hide":function(){this._detached=this.removeAll();this.visible=false;return this},"removeAll":function(){return this._section(this._removeAll())},"_removeAll":function(){var e=this.start,t=this.end,n=e.nextSibling,r=[];while(n!=t){n.parentNode.removeChild(n);r.push(n);n=this.start.nextSibling}return r},"append":function(){var e=Array.prototype.slice.call(arguments);if(!e.length)return;if(e.length>1){e=this.nodeFactory.createFragment(e)}else{e=e[0]}this.end.parentNode.insertBefore(e,this.end)},"appendChild":function(){this.append.apply(this,arguments)},"prepend":function(){var e=Array.prototype.slice.call(arguments);if(!e.length)return;if(e.length>1){e=this.nodeFactory.createFragment(e)}else{e=e[0]}this.start.parentNode.insertBefore(e,this.start.nextSibling)},"prependChild":function(){this.prepend.apply(this,arguments)},"replaceChildNodes":function(){this.removeAll();this.append.apply(this,arguments)},"toString":function(){var e=this.getChildNodes().map(function(e){return e.outerHTML||(e.nodeValue!=undefined&&e.nodeType==3?e.nodeValue:String(e))});return e.join("")},"dispose":function(){if(this._disposed)return;this._disposed=true;this.removeAll();this.start.parentNode.removeChild(this.start);this.end.parentNode.removeChild(this.end)},"getChildNodes":function(){var e=this.start,t=this.end.nextSibling,n=[];while(e!=t){n.push(e);e=e.nextSibling}return n},"getInnerChildNodes":function(){var e=this.getChildNodes();e.shift();e.pop();return e},"_section":function(e){var t=new o(this.nodeFactory);t.append.apply(t,e);return t}});t.exports=function(e,t,n){return new o(e,t,n)}},{"nofactor":163,"protoclass":174}],"157":[function(e,t,n){(function(n){var r=e("protoclass");function i(){this._animationQueue=[]}r(i,{"animate":function(e){if(!n.browser){return e.update()}this._animationQueue.push(e);var t=this;if(this._requestingFrame)return;this._requestingFrame=true;var t=this;function r(){var e=t._animationQueue;t._animationQueue=[];for(var n=0;n<e.length;n++){e[n].update();if(t._animationQueue.length){r()}}}requestAnimationFrame(function(){r();t._requestingFrame=false})}});t.exports=i}).call(this,e("OpdoqP"))},{"OpdoqP":58,"protoclass":174}],"158":[function(e,t,n){var r=e("./animator");t.exports=function(e){var t=new r;e.animate=function(e){t.animate(e)}}},{"./animator":157}],"159":[function(e,t,n){t.exports=e(95)},{"bindable":22}],"160":[function(e,t,n){t.exports=e(32)},{"protoclass":174}],"161":[function(e,t,n){t.exports=e(33)},{"./base":160,"factories":152}],"162":[function(e,t,n){t.exports=e(34)},{"./base":160}],"163":[function(e,t,n){t.exports=e(35)},{"./custom":161,"./dom":162,"./string":168}],"164":[function(e,t,n){t.exports=e(36)},{"./text":171}],"165":[function(e,t,n){t.exports=e(37)},{"./node":169}],"166":[function(e,t,n){t.exports=e(38)},{"./container":165,"./style":170}],"167":[function(e,t,n){t.exports=e(39)},{"./container":165}],"168":[function(e,t,n){t.exports=e(40)},{"../base":160,"./comment":164,"./container":165,"./element":166,"./fragment":167,"./text":171,"./voidElements":172}],"169":[function(e,t,n){t.exports=e(41)},{"protoclass":174}],"170":[function(e,t,n){t.exports=e(42)},{"protoclass":174}],"171":[function(e,t,n){t.exports=e(43)},{"./node":169,"he":173}],"172":[function(e,t,n){t.exports=e(44)},{"./element":166}],"173":[function(e,t,n){t.exports=e(53)},{}],"174":[function(e,t,n){t.exports=e(28)},{}],"175":[function(e,t,n){(function(e){t.exports=function(e,t){if(!e)e=5;if(!t)t=1;var n=[],r;var i=function(e){n.push(e);var t={"dispose":function(){clearTimeout(r);r=undefined}};if(r)return t;r=setInterval(function(){var e=n.splice(0,i.batch);if(!e.length){return t.dispose()}for(var r=0,o=e.length;r<o;r++){e[r]()}},i.ms);return t};i.ms=t;i.batch=e;return i};t.exports.global=e.__runlater||(e.__runlater=t.exports())}).call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],"176":[function(e,t,n){var r=e("bindable"),i=e("protoclass"),o=e("type-component"),a=e("underscore");function s(e,t){var n=e.constructor;if(!n.__combined){n.__combined={}}if(n.__combined[t]){return}n.__combined[t]=true;var r=n.prototype,i=[];while(r){i=(r.define||[]).concat(i);r=r.constructor.__super__}n.prototype[t]=e[t]=i}function u(e,t){u.parent.call(this,e||this);if(t)this.set("parent",t);this._defined={};s(this,"define");this._define.apply(this,this.define);var n=this;this.on("watching",function(e){var t=e[0];if(n.__context[t]===undefined)n.inherit(t)})}i(r.Object,u,{"define":["parent"],"get":function(e){var t=u.__super__.get.call(this,e);if(t!=undefined)return t;var n,r;if(typeof e!=="string"){n=e[0]}else if(~(r=e.indexOf("."))){n=e.slice(0,r)}else{n=e}if(this.__context[n]!=undefined){return}this.inherit(n);return u.__super__.get.call(this,e)},"set":function(e,t){var n;if(typeof e==="string"&&~(n=e.indexOf("."))){var r=e.slice(0,n);if(this.__context[r]==undefined)this.inherit(r)}return u.__super__.set.call(this,e,t)},"_define":function(){for(var e=arguments.length;e--;){this._defined[arguments[e]]=true}},"_inherit":function(e){console.warn("_inherit on subindable is deprecated");this.inherit(e)},"inherit":function(e){if(this._defined[e])return;this._defined[e]=true;var t,n,r,i=this;n=this.bind("parent",function(n){if(t)t.dispose();if(!n)return;t=n.bind(e,function(t){if(typeof t==="function"&&!t.__bound){var r;t=a.bind(r=t,n);t.__bound=true;t.__original=r}i.set(e,t)}).now()}).now();r=this.bind(e,function(o){if(i.__context.parent&&i.__context.parent.__context[e]===o){return}if(o&&o.__bound&&o.__original==i.__context.parent.__context[e]){return}r.dispose();if(t)t.dispose();if(n)n.dispose()})}});t.exports={"Object":u}},{"bindable":22,"protoclass":174,"type-component":178,"underscore":177}],"177":[function(e,t,n){(function(){var e=this;var r=e._;var i={};var o=Array.prototype,a=Object.prototype,s=Function.prototype;var u=o.push,c=o.slice,l=o.concat,f=a.toString,p=a.hasOwnProperty;var d=o.forEach,h=o.map,v=o.reduce,m=o.reduceRight,g=o.filter,y=o.every,b=o.some,_=o.indexOf,w=o.lastIndexOf,x=Array.isArray,E=Object.keys,A=s.bind;var k=function(e){if(e instanceof k)return e;if(!(this instanceof k))return new k(e);this._wrapped=e};if(typeof n!=="undefined"){if(typeof t!=="undefined"&&t.exports){n=t.exports=k}n._=k}else{e._=k}k.VERSION="1.5.2";var q=k.each=k.forEach=function(e,t,n){if(e==null)return;if(d&&e.forEach===d){e.forEach(t,n)}else if(e.length===+e.length){for(var r=0,o=e.length;r<o;r++){if(t.call(n,e[r],r,e)===i)return}}else{var a=k.keys(e);for(var r=0,o=a.length;r<o;r++){if(t.call(n,e[a[r]],a[r],e)===i)return}}};k.map=k.collect=function(e,t,n){var r=[];if(e==null)return r;if(h&&e.map===h)return e.map(t,n);q(e,function(e,i,o){r.push(t.call(n,e,i,o))});return r};var S="Reduce of empty array with no initial value";k.reduce=k.foldl=k.inject=function(e,t,n,r){var i=arguments.length>2;if(e==null)e=[];if(v&&e.reduce===v){if(r)t=k.bind(t,r);return i?e.reduce(t,n):e.reduce(t)}q(e,function(e,o,a){if(!i){n=e;i=true}else{n=t.call(r,n,e,o,a)}});if(!i)throw new TypeError(S);return n};k.reduceRight=k.foldr=function(e,t,n,r){var i=arguments.length>2;if(e==null)e=[];if(m&&e.reduceRight===m){if(r)t=k.bind(t,r);return i?e.reduceRight(t,n):e.reduceRight(t)}var o=e.length;if(o!==+o){var a=k.keys(e);o=a.length}q(e,function(s,u,c){u=a?a[--o]:--o;if(!i){n=e[u];i=true}else{n=t.call(r,n,e[u],u,c)}});if(!i)throw new TypeError(S);return n};k.find=k.detect=function(e,t,n){var r;C(e,function(e,i,o){if(t.call(n,e,i,o)){r=e;
return true}});return r};k.filter=k.select=function(e,t,n){var r=[];if(e==null)return r;if(g&&e.filter===g)return e.filter(t,n);q(e,function(e,i,o){if(t.call(n,e,i,o))r.push(e)});return r};k.reject=function(e,t,n){return k.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)};k.every=k.all=function(e,t,n){t||(t=k.identity);var r=true;if(e==null)return r;if(y&&e.every===y)return e.every(t,n);q(e,function(e,o,a){if(!(r=r&&t.call(n,e,o,a)))return i});return!!r};var C=k.some=k.any=function(e,t,n){t||(t=k.identity);var r=false;if(e==null)return r;if(b&&e.some===b)return e.some(t,n);q(e,function(e,o,a){if(r||(r=t.call(n,e,o,a)))return i});return!!r};k.contains=k.include=function(e,t){if(e==null)return false;if(_&&e.indexOf===_)return e.indexOf(t)!=-1;return C(e,function(e){return e===t})};k.invoke=function(e,t){var n=c.call(arguments,2);var r=k.isFunction(t);return k.map(e,function(e){return(r?t:e[t]).apply(e,n)})};k.pluck=function(e,t){return k.map(e,function(e){return e[t]})};k.where=function(e,t,n){if(k.isEmpty(t))return n?void 0:[];return k[n?"find":"filter"](e,function(e){for(var n in t){if(t[n]!==e[n])return false}return true})};k.findWhere=function(e,t){return k.where(e,t,true)};k.max=function(e,t,n){if(!t&&k.isArray(e)&&e[0]===+e[0]&&e.length<65535){return Math.max.apply(Math,e)}if(!t&&k.isEmpty(e))return-Infinity;var r={"computed":-Infinity,"value":-Infinity};q(e,function(e,i,o){var a=t?t.call(n,e,i,o):e;a>r.computed&&(r={"value":e,"computed":a})});return r.value};k.min=function(e,t,n){if(!t&&k.isArray(e)&&e[0]===+e[0]&&e.length<65535){return Math.min.apply(Math,e)}if(!t&&k.isEmpty(e))return Infinity;var r={"computed":Infinity,"value":Infinity};q(e,function(e,i,o){var a=t?t.call(n,e,i,o):e;a<r.computed&&(r={"value":e,"computed":a})});return r.value};k.shuffle=function(e){var t;var n=0;var r=[];q(e,function(e){t=k.random(n++);r[n-1]=r[t];r[t]=e});return r};k.sample=function(e,t,n){if(arguments.length<2||n){return e[k.random(e.length-1)]}return k.shuffle(e).slice(0,Math.max(0,t))};var D=function(e){return k.isFunction(e)?e:function(t){return t[e]}};k.sortBy=function(e,t,n){var r=D(t);return k.pluck(k.map(e,function(e,t,i){return{"value":e,"index":t,"criteria":r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria;var r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")};var O=function(e){return function(t,n,r){var i={};var o=n==null?k.identity:D(n);q(t,function(n,a){var s=o.call(r,n,a,t);e(i,s,n)});return i}};k.groupBy=O(function(e,t,n){(k.has(e,t)?e[t]:e[t]=[]).push(n)});k.indexBy=O(function(e,t,n){e[t]=n});k.countBy=O(function(e,t){k.has(e,t)?e[t]++:e[t]=1});k.sortedIndex=function(e,t,n,r){n=n==null?k.identity:D(n);var i=n.call(r,t);var o=0,a=e.length;while(o<a){var s=o+a>>>1;n.call(r,e[s])<i?o=s+1:a=s}return o};k.toArray=function(e){if(!e)return[];if(k.isArray(e))return c.call(e);if(e.length===+e.length)return k.map(e,k.identity);return k.values(e)};k.size=function(e){if(e==null)return 0;return e.length===+e.length?e.length:k.keys(e).length};k.first=k.head=k.take=function(e,t,n){if(e==null)return void 0;return t==null||n?e[0]:c.call(e,0,t)};k.initial=function(e,t,n){return c.call(e,0,e.length-(t==null||n?1:t))};k.last=function(e,t,n){if(e==null)return void 0;if(t==null||n){return e[e.length-1]}else{return c.call(e,Math.max(e.length-t,0))}};k.rest=k.tail=k.drop=function(e,t,n){return c.call(e,t==null||n?1:t)};k.compact=function(e){return k.filter(e,k.identity)};var j=function(e,t,n){if(t&&k.every(e,k.isArray)){return l.apply(n,e)}q(e,function(e){if(k.isArray(e)||k.isArguments(e)){t?u.apply(n,e):j(e,t,n)}else{n.push(e)}});return n};k.flatten=function(e,t){return j(e,t,[])};k.without=function(e){return k.difference(e,c.call(arguments,1))};k.uniq=k.unique=function(e,t,n,r){if(k.isFunction(t)){r=n;n=t;t=false}var i=n?k.map(e,n,r):e;var o=[];var a=[];q(i,function(n,r){if(t?!r||a[a.length-1]!==n:!k.contains(a,n)){a.push(n);o.push(e[r])}});return o};k.union=function(){return k.uniq(k.flatten(arguments,true))};k.intersection=function(e){var t=c.call(arguments,1);return k.filter(k.uniq(e),function(e){return k.every(t,function(t){return k.indexOf(t,e)>=0})})};k.difference=function(e){var t=l.apply(o,c.call(arguments,1));return k.filter(e,function(e){return!k.contains(t,e)})};k.zip=function(){var e=k.max(k.pluck(arguments,"length").concat(0));var t=new Array(e);for(var n=0;n<e;n++){t[n]=k.pluck(arguments,""+n)}return t};k.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++){if(t){n[e[r]]=t[r]}else{n[e[r][0]]=e[r][1]}}return n};k.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n=="number"){r=n<0?Math.max(0,i+n):n}else{r=k.sortedIndex(e,t);return e[r]===t?r:-1}}if(_&&e.indexOf===_)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1};k.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(w&&e.lastIndexOf===w){return r?e.lastIndexOf(t,n):e.lastIndexOf(t)}var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1};k.range=function(e,t,n){if(arguments.length<=1){t=e||0;e=0}n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0);var i=0;var o=new Array(r);while(i<r){o[i++]=e;e+=n}return o};var T=function(){};k.bind=function(e,t){var n,r;if(A&&e.bind===A)return A.apply(e,c.call(arguments,1));if(!k.isFunction(e))throw new TypeError;n=c.call(arguments,2);return r=function(){if(!(this instanceof r))return e.apply(t,n.concat(c.call(arguments)));T.prototype=e.prototype;var i=new T;T.prototype=null;var o=e.apply(i,n.concat(c.call(arguments)));if(Object(o)===o)return o;return i}};k.partial=function(e){var t=c.call(arguments,1);return function(){return e.apply(this,t.concat(c.call(arguments)))}};k.bindAll=function(e){var t=c.call(arguments,1);if(t.length===0)throw new Error("bindAll must be passed function names");q(t,function(t){e[t]=k.bind(e[t],e)});return e};k.memoize=function(e,t){var n={};t||(t=k.identity);return function(){var r=t.apply(this,arguments);return k.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}};k.delay=function(e,t){var n=c.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)};k.defer=function(e){return k.delay.apply(k,[e,1].concat(c.call(arguments,1)))};k.throttle=function(e,t,n){var r,i,o;var a=null;var s=0;n||(n={});var u=function(){s=n.leading===false?0:new Date;a=null;o=e.apply(r,i)};return function(){var c=new Date;if(!s&&n.leading===false)s=c;var l=t-(c-s);r=this;i=arguments;if(l<=0){clearTimeout(a);a=null;s=c;o=e.apply(r,i)}else if(!a&&n.trailing!==false){a=setTimeout(u,l)}return o}};k.debounce=function(e,t,n){var r,i,o,a,s;return function(){o=this;i=arguments;a=new Date;var u=function(){var c=new Date-a;if(c<t){r=setTimeout(u,t-c)}else{r=null;if(!n)s=e.apply(o,i)}};var c=n&&!r;if(!r){r=setTimeout(u,t)}if(c)s=e.apply(o,i);return s}};k.once=function(e){var t=false,n;return function(){if(t)return n;t=true;n=e.apply(this,arguments);e=null;return n}};k.wrap=function(e,t){return function(){var n=[e];u.apply(n,arguments);return t.apply(this,n)}};k.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--){t=[e[n].apply(this,t)]}return t[0]}};k.after=function(e,t){return function(){if(--e<1){return t.apply(this,arguments)}}};k.keys=E||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)if(k.has(e,n))t.push(n);return t};k.values=function(e){var t=k.keys(e);var n=t.length;var r=new Array(n);for(var i=0;i<n;i++){r[i]=e[t[i]]}return r};k.pairs=function(e){var t=k.keys(e);var n=t.length;var r=new Array(n);for(var i=0;i<n;i++){r[i]=[t[i],e[t[i]]]}return r};k.invert=function(e){var t={};var n=k.keys(e);for(var r=0,i=n.length;r<i;r++){t[e[n[r]]]=n[r]}return t};k.functions=k.methods=function(e){var t=[];for(var n in e){if(k.isFunction(e[n]))t.push(n)}return t.sort()};k.extend=function(e){q(c.call(arguments,1),function(t){if(t){for(var n in t){e[n]=t[n]}}});return e};k.pick=function(e){var t={};var n=l.apply(o,c.call(arguments,1));q(n,function(n){if(n in e)t[n]=e[n]});return t};k.omit=function(e){var t={};var n=l.apply(o,c.call(arguments,1));for(var r in e){if(!k.contains(n,r))t[r]=e[r]}return t};k.defaults=function(e){q(c.call(arguments,1),function(t){if(t){for(var n in t){if(e[n]===void 0)e[n]=t[n]}}});return e};k.clone=function(e){if(!k.isObject(e))return e;return k.isArray(e)?e.slice():k.extend({},e)};k.tap=function(e,t){t(e);return e};var N=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;if(e instanceof k)e=e._wrapped;if(t instanceof k)t=t._wrapped;var i=f.call(e);if(i!=f.call(t))return false;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return false;var o=n.length;while(o--){if(n[o]==e)return r[o]==t}var a=e.constructor,s=t.constructor;if(a!==s&&!(k.isFunction(a)&&a instanceof a&&k.isFunction(s)&&s instanceof s)){return false}n.push(e);r.push(t);var u=0,c=true;if(i=="[object Array]"){u=e.length;c=u==t.length;if(c){while(u--){if(!(c=N(e[u],t[u],n,r)))break}}}else{for(var l in e){if(k.has(e,l)){u++;if(!(c=k.has(t,l)&&N(e[l],t[l],n,r)))break}}if(c){for(l in t){if(k.has(t,l)&&!u--)break}c=!u}}n.pop();r.pop();return c};k.isEqual=function(e,t){return N(e,t,[],[])};k.isEmpty=function(e){if(e==null)return true;if(k.isArray(e)||k.isString(e))return e.length===0;for(var t in e)if(k.has(e,t))return false;return true};k.isElement=function(e){return!!(e&&e.nodeType===1)};k.isArray=x||function(e){return f.call(e)=="[object Array]"};k.isObject=function(e){return e===Object(e)};q(["Arguments","Function","String","Number","Date","RegExp"],function(e){k["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}});if(!k.isArguments(arguments)){k.isArguments=function(e){return!!(e&&k.has(e,"callee"))}}if(typeof/./!=="function"){k.isFunction=function(e){return typeof e==="function"}}k.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))};k.isNaN=function(e){return k.isNumber(e)&&e!=+e};k.isBoolean=function(e){return e===true||e===false||f.call(e)=="[object Boolean]"};k.isNull=function(e){return e===null};k.isUndefined=function(e){return e===void 0};k.has=function(e,t){return p.call(e,t)};k.noConflict=function(){e._=r;return this};k.identity=function(e){return e};k.times=function(e,t,n){var r=Array(Math.max(0,e));for(var i=0;i<e;i++)r[i]=t.call(n,i);return r};k.random=function(e,t){if(t==null){t=e;e=0}return e+Math.floor(Math.random()*(t-e+1))};var B={"escape":{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};B.unescape=k.invert(B.escape);var L={"escape":new RegExp("["+k.keys(B.escape).join("")+"]","g"),"unescape":new RegExp("("+k.keys(B.unescape).join("|")+")","g")};k.each(["escape","unescape"],function(e){k[e]=function(t){if(t==null)return"";return(""+t).replace(L[e],function(t){return B[e][t]})}});k.result=function(e,t){if(e==null)return void 0;var n=e[t];return k.isFunction(n)?n.call(e):n};k.mixin=function(e){q(k.functions(e),function(t){var n=k[t]=e[t];k.prototype[t]=function(){var e=[this._wrapped];u.apply(e,arguments);return U.call(this,n.apply(k,e))}})};var R=0;k.uniqueId=function(e){var t=++R+"";return e?e+t:t};k.templateSettings={"evaluate":/<%([\s\S]+?)%>/g,"interpolate":/<%=([\s\S]+?)%>/g,"escape":/<%-([\s\S]+?)%>/g};var F=/(.)^/;var I={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"};var P=/\\|'|\r|\n|\t|\u2028|\u2029/g;k.template=function(e,t,n){var r;n=k.defaults({},n,k.templateSettings);var i=new RegExp([(n.escape||F).source,(n.interpolate||F).source,(n.evaluate||F).source].join("|")+"|$","g");var o=0;var a="__p+='";e.replace(i,function(t,n,r,i,s){a+=e.slice(o,s).replace(P,function(e){return"\\"+I[e]});if(n){a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"}if(r){a+="'+\n((__t=("+r+"))==null?'':__t)+\n'"}if(i){a+="';\n"+i+"\n__p+='"}o=s+t.length;return t});a+="';\n";if(!n.variable)a="with(obj||{}){\n"+a+"}\n";a="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(n.variable||"obj","_",a)}catch(s){s.source=a;throw s}if(t)return r(t,k);var u=function(e){return r.call(this,e,k)};u.source="function("+(n.variable||"obj")+"){\n"+a+"}";return u};k.chain=function(e){return k(e).chain()};var U=function(e){return this._chain?k(e).chain():e};k.mixin(k);q(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=o[e];k.prototype[e]=function(){var n=this._wrapped;t.apply(n,arguments);if((e=="shift"||e=="splice")&&n.length===0)delete n[0];return U.call(this,n)}});q(["concat","join","slice"],function(e){var t=o[e];k.prototype[e]=function(){return U.call(this,t.apply(this._wrapped,arguments))}});k.extend(k.prototype,{"chain":function(){this._chain=true;return this},"value":function(){return this._wrapped}})}).call(this)},{}],"178":[function(e,t,n){t.exports=e(52)},{}],"179":[function(e,t,n){t.exports=e(30)},{}],"180":[function(e,t,n){t.exports=function(e){return $(e)}},{}],"181":[function(e,t,n){var r=e("toarray");var i={"string":e("./string"),"dom":e("./dom")};t.exports=function(e){var t=r(e);var n=t[0].__isNode?i.string:i.dom;return n(t)}},{"./dom":180,"./string":182,"toarray":184}],"182":[function(e,t,n){var r=e("bindable"),i=e("lodash"),o=e("toarray");t.exports=a;function a(e,t){if(!e)e=[];var n=o(e).concat();i.extend(n,{"parent":t,"name":function(){return this.length?this[0].nodeName:void 0},"each":function(e){for(var t=0,n=this.length;t<n;t++){e.call(this[t],t,this[t])}return this},"find":function(e){var t=u(e),n=[];this.traverse(function(e){if(t(e)){n.push(e)}});return a(n)},"eq":function(e){return a(this[e])},"filter":function(e){if(!e)return this;if(typeof e==="string")e=u(e);return a(i.filter(this,e),this.parent)},"first":function(){return a(this[0])},"andSelf":function(){if(!this.parent)return this;return a(i.uniq(this.concat(this.parent)),this)},"attr":function(e,t){if(!this.length)return;if(arguments.length===1){return(this.length&&this[0].getAttribute?this[0].getAttribute(e):void 0)||""}else{this.each(function(n){this.setAttribute(e,t)})}},"css":function(e){this.each(function(){this.style.setProperties(e)})},"val":function(e){if(!this.length)return this;if(!arguments.length){return this[0].nodeValue}else{this[0].nodeValue=e}return this},"html":function(){return this.length?this[0].toString():void 0},"text":function(){var e=[];this.traverse(function(){if(this.nodeType===3&&this.nodeValue&&this.nodeValue.length){e.push(this.nodeValue)}});return e.join(" ")},"traverse":function(e){this.each(function(){e.call(this,this);a(this.childNodes).traverse(e)})},"prop":function(e){return this.attr.apply(this,arguments)},"bind":function(e,t){var n=this;e.split(" ").forEach(function(e){n.each(function(){this._emitter.on(e,t)})});return this},"unbind":function(e,t){var n=this;e.split(" ").forEach(function(e){n.each(function(){this._emitter.off(e,t)})});return this},"trigger":function(e,t){if(typeof e==="string"){e=new s(e,t)}this.each(function(){this._emitter.emit(e.name,e)});return this}});["click"].forEach(function(e){n[e]=function(t){if(typeof t==="function"){this.bind(e,t)}else{this.trigger(e)}}});n.each(function(){this._emitter=this._emitter||new r.Object});return n}function s(e,t){this.name=e;i.extend(this,t||{})}s.prototype.stopPropagation=function(){};s.prototype.preventDefault=function(){};function u(e){if(e.substr(0,1)==="#")return l(e);if(e.substr(0,1)===".")return f(e);if(e==="*")return c(e);if(~e.indexOf("["))return d(e);return p(e)}function c(e){return function(){return true}}function l(e){return function(t){return a(t).attr("id")===e.substr(1)}}function f(e){return function(t){return~a(t).attr("class").indexOf(e.substr(1))}}function p(e){return function(t){return t.nodeName==String(e).toUpperCase()}}function d(e){var t=e.indexOf("[");var n=e.substr(0,t);if(!n.length)n="*";var r=u(n);var i=e.match(/\[(.*?)(\=\'(.*?)\')?\]/);var o=i[1],a=i[3];return function(e){return r(e)&&e.getAttribute(o)==a}}},{"bindable":22,"lodash":183,"toarray":184}],"183":[function(e,t,n){t.exports=e(94)},{}],"184":[function(e,t,n){t.exports=e(29)},{}],"185":[function(e,t,n){var r=t.exports=e("./paper"),i=e("mojo-application");i.main.use(r);if(typeof window!=="undefined"){window.paperclip=t.exports}},{"./paper":219,"mojo-application":31}],"186":[function(e,t,n){var r=e("bindable"),i=e("./index"),o=e("underscore"),a=e("protoclass");function s(e,t){this.clippedBuffer=e;this.clip=new i({"script":t,"application":e.application});this.clip.bind("value",o.bind(this._onUpdated,this))}a(s,{"dispose":function(){this.clip.dispose()},"update":function(){this.clip.reset(this.clippedBuffer._data);this.clip.update();this.value=this.clip.get("value")},"_onUpdated":function(e){this.value=e;if(this.clippedBuffer._updating)return;this.clippedBuffer.update()}});function u(e,t){r.Object.call(this,this);var n=this;this.application=t;this.bindings=[];this._data={};this.buffer=e.map(function(e){var t;if(e.value){t=new s(n,e);n.bindings.push(t);return t}else{return{"value":e}}})}r.Object.extend(u,{"reset":function(e){this._data=e;this.update();return this},"dispose":function(){for(var e=this.bindings.length;e--;){this.bindings[e].dispose()}this.bindings=[]},"update":function(){this._updating=true;for(var e=this.bindings.length;e--;){this.bindings[e].update()}this._updating=false;this.set("value",this._getText())},"_getText":function(){var e="";for(var t=0,n=this.buffer.length;t<n;t++){var r=this.buffer[t].value;e+=r!=null?r:""}return e}});t.exports=u},{"./index":187,"bindable":22,"protoclass":254,"underscore":256}],"187":[function(e,t,n){(function(n){var r=e("protoclass"),i=e("dref"),o=e("bindable"),a=o.Object,s=e("./ref"),u=e("type-component"),c=e("underscore");function l(e,t,n){this.script=e;this.name=t;this.clip=n;this.application=n.application;this._bindings=[];this.refs=this.script.refs;this.run=this.script.run}r(l,{"disposable":function(e){this._bindings.push(e)},"dispose":function(){if(this._debounceTimeout)clearTimeout(this._debounceTimeout);for(var e=this._bindings.length;e--;){this._bindings[e].dispose()}this._bindings=[]},"update":function(){if(this.__context)this.dispose();this.__context=this.clip.data;if(this.__context&&this.__watch)this._watchRefs();this._locked=true;var e=this.run.call(this);this._locked=false;if(e===this.value){return}this.clip.set(this.name,this.value=e)},"bindTo":function(e,t){return new s(this,e,t)},"get":function(e){return this.__context.get(e)},"set":function(e,t){return this.__context.set(e,t)},"call":function(e,t,n){var r;if(!e)return;if(e.__isBindable){r=e.get(t);e=e.context()}else{r=e[t]}if(r)return r.apply(e,n)},"watch":function(){this.__watch=true;return this},"_watchRefs":function(){if(!this._boundWatchRef){this._boundWatchRef=true;this._watchRef=c.bind(this._watchRef,this)}for(var e=this.refs.length;e--;){this._watchRef(this.refs[e])}},"_watchRef":function(e){var t=this,n,r=true;this._bindings.push(this.__context.bind(e,function(e,i){if(n){n.dispose();n=undefined;t._bindings.splice(t._bindings.indexOf(n),1)}if(e&&e.__isBindable){t._bindings.push(n=t._watchBindable(e,i))}if(!r&&!t._locked){t.dispose();t.application.animate(t)}}).now());r=false},"_watchBindable":function(e,t){var n,r=this;e.on("change",n=function(){r._debounceUpdate()});return{"dispose":function(){e.off("change",n)}}},"_debounceUpdate":function(){if(!n.browser){return this.update()}if(this._debounceTimeout)clearTimeout(this._debounceTimeout);var e=this;this._debounceTimeout=setTimeout(function(){e.update()},0)}});function f(e,t){this.clip=e;this._scripts={};this.names=[];this._bindScripts(t)}r(f,{"watch":function(){for(var e in this._scripts){this._scripts[e].watch()}},"update":function(){for(var e in this._scripts){this._scripts[e].update()}},"dispose":function(){for(var e in this._scripts){this._scripts[e].dispose()}},"get":function(e){return this._scripts[e]},"_bindScripts":function(e){if(e.run){this._bindScript("value",e)}else{for(var t in e){this._bindScript(t,e[t])}}},"_bindScript":function(e,t,n){this.names.push(e);var r=this._scripts[e]=new l(t,e,this.clip),i=this}});function p(e){a.call(this);this.application=e.application;this.scripts=new f(this,e.scripts||e.script);if(e.watch!==false){this.watch()}}r(a,p,{"reset":function(e,t){this.data=e?e:new o.Object;if(t!==false){this.update()}},"watch":function(){this.scripts.watch();return this},"update":function(){this.scripts.update();return this},"dispose":function(){this.scripts.dispose()},"script":function(e){return this.scripts.get(e)}});t.exports=p}).call(this,e("OpdoqP"))},{"./ref":188,"OpdoqP":58,"bindable":22,"dref":229,"protoclass":254,"type-component":255,"underscore":256}],"188":[function(e,t,n){var r=e("protoclass"),i=e("underscore");function o(e,t,n){this.clip=e;this.path=t;this.settable=n}r(o,{"__isBindableReference":true,"value":function(e){if(!arguments.length)return this.clip.get(this.path);if(this.settable)this.clip.set(this.path,e)},"toString":function(){return this.clip.get(this.path)}});t.exports=o},{"protoclass":254,"underscore":256}],"189":[function(e,t,n){var r=e("protoclass"),i=e("loaf");function o(e,t,n,r,i){this.template=e;this.node=t;this.bindings=n;this.section=r;this.nodeFactory=i}r(o,{"remove":function(){this.section.remove();return this},"dispose":function(){this.unbind();this.section.remove();return this},"bind":function(e){if(e){this.context=e}this.bindings.bind(this.context);return this},"unbind":function(){this.bindings.unbind();return this},"render":function(){return this.section.show().render()},"toString":function(){if(this.nodeFactory.name!=="dom"){return this.section.toString()}var e=this.section.render();var t=document.createElement("div");t.appendChild(e.cloneNode(true));return t.innerHTML}});t.exports=o},{"loaf":231,"protoclass":254}],"190":[function(e,t,n){var r=e("protoclass");function i(e){this.node=e}r(i,{"bind":function(e){this.context=e},"unbind":function(){}});t.exports=i},{"protoclass":254}],"191":[function(e,t,n){var r=e("protoclass"),i=e("./binding");function o(e,t,n){this.application=e;this.clip=t;this.scriptName=n;this.script=t.script(n)}r(i,o,{"_updateScript":true,"bind":function(e){this._bound=true;this.context=e;if(this._updateScript&&this.watch!==false){this.script.watch().update()}var t=this;this._binding=this.clip.bind(this.scriptName,function(e,n){t.value=e;t.oldValue=n;t.application.animate(t)}).now();return this},"unbind":function(){this._bound=false;if(this._binding)this._binding.dispose();this._binding=undefined;return this},"update":function(){this._onChange(this.value,this.oldValue)},"_onChange":function(e,t){}});t.exports=o},{"./binding":190,"protoclass":254}],"192":[function(e,t,n){var r=e("./base/binding"),i=e("./collection");function o(e,t){this.node=e;this._source=t||[]}r.extend(o,{"push":function(){this._source.push.apply(this._source,arguments)},"getBindings":function(e){if(this._source.length===1){return this._source[0].getBinding(e)}var t=new i;for(var n=0;n<this._source.length;n++){var r=this._source[n].getBinding(e);if(!r){continue}t.push(r)}return t},"init":function(){for(var e=0,t=this._source.length;e<t;e++){this._source[e].init()}}});t.exports=o},{"./base/binding":190,"./collection":199}],"193":[function(e,t,n){var r=e("../base/script");function i(e){var t=e.clip;this.section=e.section;this.application=e.application;this.nodeFactory=this.application.nodeFactory;this.contentTemplate=e.template;this.scriptName=e.scriptName;this.childBlockTemplate=e.childBlockTemplate;r.call(this,this.application,t,this.scriptName)}r.extend(i,{"_updateScript":false,"bind":function(e){this.context=e;this.clip.reset(e,true);return r.prototype.bind.call(this,e)},"unbind":function(){r.prototype.unbind.call(this);return this.clip.dispose()},"test":function(e){return false}});t.exports=i},{"../base/script":191}],"194":[function(e,t,n){var r=e("./base");function i(){r.apply(this,arguments)}r.extend(i,{"_onChange":function(e,t){e=!!e;if(this._oldValue===e){return}this._oldValue=e;if(this.child){this.child.dispose();this.child=undefined}var n;if(e){n=this.contentTemplate}else{n=this.childBlockTemplate}if(n){this.child=n.bind(this.context);this.section.append(this.child.render())}},"unbind":function(){this._oldValue=undefined;r.prototype.unbind.call(this);var e=this.child;this.child=undefined;return e?e.dispose():undefined}});t.exports=i},{"./base":193}],"195":[function(e,t,n){var r=e("protoclass"),i=e("./base");function o(e){this.node=e.node;i.call(this,e)}r(i,o,{});t.exports=o},{"./base":193,"protoclass":254}],"196":[function(e,t,n){var r=e("../collection"),i=e("loaf"),o=e("../../../clip"),a=e("protoclass");function s(e){this.options=e}a(s,{"getNode":function(){return this.options.clazz.getNode?this.options.clazz.getNode(this.options):undefined},"prepare":function(){return this.options.clazz.prepare?this.options.clazz.prepare(this.options):undefined},"init":function(){return this._path=this.path()},"getBinding":function(e){var t=e;while(t.parentNode){t=t.parentNode}for(var n=0,r=this._path.length;n<r;n++){t=t.childNodes[this._path[n]]}var a=this.options.clazz;var s={"node":t,"clip":new o({"script":this.options.script,"watch":true,"application":this.options.application})};if(this.options.section){s.section=i(this.options.section.nodeFactory,t,t.nextSibling)}for(var u in this.options){if(s[u]!=null){continue}s[u]=this.options[u]}return new a(s)},"path":function(e){if(!e&&this._path)return this._path;var t=[],n=[];var r=this.options.node||this.options.section.start;while(r.parentNode){n=[];for(var i=0,o=r.parentNode.childNodes.length;i<o;i++){n.push(r.parentNode.childNodes[i])}t.unshift(n.indexOf(r));r=r.parentNode}return this._path=t}});function u(){this.bindingClasses={"html":e("./html"),"if":e("./conditional"),"else":e("./conditional"),"elseif":e("./conditional"),"value":e("./value"),"_default":e("./default")}}a(u,{"getBinder":function(e){var t=Object.keys(e.script),n;for(var r=0,i=t.length;r<i;r++){var o=t[r];n=this.bindingClasses[o]}if(!n)n=this.bindingClasses._default;e.scriptName=o;e.clazz=n;if(n.prepare)n.prepare(e);return new s(e)},"register":function(e,t){this.bindingClasses[e]=t}});t.exports=function(e){return new u}},{"../../../clip":187,"../collection":199,"./conditional":194,"./default":195,"./html":197,"./value":198,"loaf":231,"protoclass":254}],"197":[function(e,t,n){var r=e("type-component"),i=e("./base");function o(){i.apply(this,arguments)}i.extend(o,{"_onChange":function(e,t){if(t&&t.remove){t.remove()}if(!e){return this.section.removeAll()}var n;if(e.render){e.remove();n=e.render()}else if(e.nodeType!=null){n=e}else{if(this.nodeFactory.name!=="dom"){n=this.nodeFactory.createTextNode(String(e))}else{var r=this.nodeFactory.createElement("div");r.innerHTML=String(e);n=this.nodeFactory.createFragment(r.childNodes)}}return this.section.replaceChildNodes(n)}});t.exports=o},{"./base":193,"type-component":255}],"198":[function(e,t,n){var r=e("protoclass"),i=e("./base");function o(e){this.node=e.node;i.call(this,e)}r(i,o,{"update":function(){var e=this.value;if(e==undefined){e=""}if(this.nodeFactory.name==="dom"){this.node.nodeValue=String(e)}else if(this.node.replaceText){this.node.replaceText(e,true)}}});o.getNode=function(e){return e.node=e.application.nodeFactory.createTextNode("",true)};t.exports=o},{"./base":193,"protoclass":254}],"199":[function(e,t,n){var r=e("./base/binding");function i(e,t){this._source=t||[]}r.extend(i,{"push":function(){this._source.push.apply(this._source,arguments)},"bind":function(e,t){for(var n=0,r=this._source.length;n<r;n++){this._source[n].bind(e,t)}},"unbind":function(){for(var e=0,t=this._source.length;e<t;e++){this._source[e].unbind()}}});t.exports=i},{"./base/binding":190}],"200":[function(e,t,n){t.exports=function(t){return{"blockBindingFactory":e("./block/factory")(t),"nodeBindingFactory":e("./node/factory")(t)}};t.exports.BaseBlockBinding=e("./block/base");t.exports.BaseNodeBinding=e("./node/base");t.exports.BaseAttrBinding=e("./node/attrs/text");t.exports.BaseAttrDataBinding=e("./node/attrs/dataBind/handlers/base")},{"./block/base":193,"./block/factory":196,"./node/attrs/dataBind/handlers/base":201,"./node/attrs/text":216,"./node/base":217,"./node/factory":218}],"201":[function(e,t,n){var r=e("../../../../base/script");function i(e,t,n,i){this.node=t;r.call(this,e,this.clip=n,this.name=i)}r.extend(i,{});t.exports=i},{"../../../../base/script":191}],"202":[function(e,t,n){var r=e("./event"),i=e("underscore");function o(){r.apply(this,arguments)}o.events="keydown change keyup input mousedown mouseup click";r.extend(o,{"preventDefault":false,"event":o.events,"_update":function(e){clearTimeout(this._changeTimeout);this._changeTimeout=setTimeout(i.bind(this._update2,this),5)},"_update2":function(){this.script.update()}});t.exports=o},{"./event":210,"underscore":256}],"203":[function(e,t,n){var r=e("./base");function i(){r.apply(this,arguments)}r.extend(i,{"_onChange":function(e){var t=this.node.getAttribute("class");t=t?t.split(" "):[];for(var n in e){var r=e[n];var i=n.split(/,\s*/);for(var o=0,a=i.length;o<a;o++){var s=i[o];var u=t.indexOf(s);if(r){if(!~u){t.push(s)}}else if(~u){t.splice(u,1)}}}this.node.setAttribute("class",t.join(" "))}});t.exports=i},{"./base":201}],"204":[function(e,t,n){var r=e("protoclass"),i=e("./base"),o=e("noselector");function a(){i.apply(this,arguments)}r(i,a,{});t.exports=a},{"./base":201,"noselector":181,"protoclass":254}],"205":[function(e,t,n){var r=e("./event");function i(){r.apply(this,arguments)}r.extend(i,{"preventDefault":true,"event":"keydown","_onEvent":function(e){if(!~[8].indexOf(e.keyCode)){return}r.prototype._onEvent.apply(this,arguments)}});t.exports=i},{"./event":210}],"206":[function(e,t,n){var r=e("./base");function i(){r.apply(this,arguments)}r.extend(i,{"_onChange":function(e){if(e){this.node.setAttribute("disabled","disabled")}else{this.node.removeAttribute("disabled")}}});t.exports=i},{"./base":201}],"207":[function(e,t,n){var r=e("./base");function i(){r.apply(this,arguments)}r.extend(i,{"_onChange":function(e){if(e){this.node.removeAttribute("disabled")}else{this.node.setAttribute("disabled","disabled")}}});t.exports=i},{"./base":201}],"208":[function(e,t,n){var r=e("./event");function i(){r.apply(this,arguments)}r.extend(i,{"preventDefault":true,"event":"keydown","_onEvent":function(e){if(!~[13].indexOf(e.keyCode)){return}r.prototype._onEvent.apply(this,arguments)}});t.exports=i},{"./event":210}],"209":[function(e,t,n){var r=e("./event");function i(){r.apply(this,arguments)}r.extend(i,{"preventDefault":true,"event":"keydown","_onEvent":function(e){if(!~[27].indexOf(e.keyCode)){return}r.prototype._onEvent.apply(this,arguments)}});t.exports=i},{"./event":210}],"210":[function(e,t,n){var r=e("./base"),i=e("underscore"),o=e("noselector");function a(){r.apply(this,arguments);this._onEvent=i.bind(this._onEvent,this)}r.extend(a,{"watch":false,"propagateEvent":true,"preventDefault":false,"bind":function(){r.prototype.bind.apply(this,arguments);var e=(this.event||this.name).toLowerCase(),t=this.name.toLowerCase();if(t.substr(0,2)==="on"){t=t.substr(2)}if(e.substr(0,2)==="on"){e=e.substr(2)}this._updateScript(this.clip.script("propagateEvent"));this._updateScript(this.clip.script("preventDefault"));if(~["click","mouseup","mousedown","submit"].indexOf(t)){this.preventDefault=true;this.propagateEvent=false}this._pge="propagateEvent."+t;this._pde="preventDefault."+t;this._setDefaultProperties(this._pge);this._setDefaultProperties(this._pde);this.$node=o(this.node);this.$node.bind(this._event=e,this._onEvent)},"unbind":function(){r.prototype.unbind.call(this);this.$node.unbind(this._event,this._onEvent)},"_updateScript":function(e){if(e){e.update()}},"_setDefaultProperties":function(e){var t=e.split(".").shift();if(!this.clip.has(e)&&!this.clip.has(t)&&this[t]!=null){this.clip.set(e,this[t])
}},"_onEvent":function(e){if(this.clip.get("propagateEvent")!==true&&this.clip.get(this._pge)!==true){e.stopPropagation()}if(this.clip.get("preventDefault")===true||this.clip.get(this._pde)===true){e.preventDefault()}if(this.clip.get("disable"))return;this.clip.data.set("event",e);this._update(e)},"_update":function(e){this.script.update()}});t.exports=a},{"./base":201,"noselector":181,"underscore":256}],"211":[function(e,t,n){var r=e("protoclass"),i=e("./base"),o=e("noselector");function a(){i.apply(this,arguments)}r(i,a,{"_onChange":function(e){if(typeof $==="undefined"||!e)return;var t=o(this.node);t.focus();t.trigger("focusin")}});t.exports=a},{"./base":201,"noselector":181,"protoclass":254}],"212":[function(e,t,n){(function(n){var r=e("underscore"),i=e("./change"),o=e("./base"),a=e("type-component"),s=e("dref"),u=e("noselector");function c(){this._elementValue=r.bind(this._elementValue,this);this._onValueChange=r.bind(this._onValueChange,this);this._onChange=r.bind(this._onChange,this);this._onElementChange=r.bind(this._onElementChange,this);c.__super__.constructor.apply(this,arguments)}o.extend(c,{"bind":function(){var e=this;this.$element=u(this.node,this.application.nodeFactory);if(/^(text|password|email)$/.test(this.node.getAttribute("type"))){this._autocompleteCheckInterval=setInterval(function(){e._onElementChange()},n.browser?500:10)}c.__super__.bind.apply(this,arguments);this._changeEvents="change keyup input";this.$element.bind(this._changeEvents,this._onElementChange);this._nameBinding=this.clip.data.bind("name",this._onChange);this._onChange()},"_onElementChange":function(e){if(e&&(!e.keyCode||!~[27].indexOf(e.keyCode))){e.stopPropagation()}var t=this._parseValue(this._elementValue()),n=this._elementName(),r=this.script.refs,i=this.clip.get("model"),o;if(false)if(t===this.$element.attr("placeholder")){return}if(t){clearInterval(this._autocompleteCheckInterval)}if(this.clip.get("bothWays")!==false){o=n||(r.length?r[0]:undefined);if(!n&&i&&!i.__isBindableReference){i=this.context}if(i){if(i.__isBindableReference){i.value(t)}else if(i.set){i.set(o,t)}else{s.set(i,o,t)}}}},"unbind":function(){c.__super__.unbind.apply(this,arguments);clearInterval(this._autocompleteCheckInterval);if(this._modelBinding)this._modelBinding.dispose();if(this._nameBinding)this._nameBinding.dispose();if(this.$element)this.$element.unbind(this._changeEvents,this._onElementChange)},"_onChange":function(){var e=this.clip.get("model");var t=this._elementName();if(this._modelBinding)this._modelBinding.dispose();if(t){this._modelBinding=e?e.bind(t,r.bind(this._onValueChange,this)).now():undefined}else if(e&&e.__isBindableReference){this._modelBinding=e.clip.__context.bind(e.path,r.bind(this._onValueChange,this)).now()}else if(a(e)!=="object"){this._onValueChange(e)}},"_onValueChange":function(e){this._elementValue(this._parseValue(e))},"_parseValue":function(e){if(e==null||e==="")return void 0;var t=this.clip.script("type");if(!t)return e;t.update();var n=this.clip.get("type");if(!n)return e;switch(n){case"number":return Number(e);case"boolean":return Boolean(e);default:return e}},"_elementName":function(){return this.$element.attr("name")},"_elementValue":function(e){var t=/checkbox/.test(this.node.type),n=/radio/.test(this.node.type),r=t||n,i=Object.prototype.hasOwnProperty.call(this.node,"value")||/input|textarea|checkbox/.test(this.node.nodeName.toLowerCase());if(!arguments.length){if(t){return Boolean(this.$element.is(":checked"))}else if(i){return this.node.value||""}else{return this.node.innerHTML||""}}if(e==null){e=""}else{clearInterval(this._autocompleteCheckInterval)}if(r){if(n){if(String(e)===String(this.$element.val())){this.$element.prop("checked",true)}}else{this.node.checked=e}}else if(e!=this._elementValue()){if(i){this.node.value=e}else{this.node.innerHTML=e}}}});t.exports=c}).call(this,e("OpdoqP"))},{"./base":201,"./change":202,"OpdoqP":58,"dref":229,"noselector":181,"type-component":255,"underscore":256}],"213":[function(e,t,n){var r=e("./base"),i=e("noselector");function o(){r.apply(this,arguments)}r.extend(o,{"bind":function(e){this._displayStyle=this.node.style.display;r.prototype.bind.call(this,e)},"_onChange":function(e){i(this.node).css({"display":e?this._displayStyle:"none"})}});t.exports=o},{"./base":201,"noselector":181}],"214":[function(e,t,n){var r=e("./base"),i=e("noselector");function o(){r.apply(this,arguments)}r.extend(o,{"bind":function(e){this._currentStyles={};r.prototype.bind.call(this,e)},"_onChange":function(e){var t={};for(var n in e){var r=e[n];if(r!==this._currentStyles[n]){t[n]=this._currentStyles[n]=r||""}}i(this.node).css(t)}});t.exports=o},{"./base":201,"noselector":181}],"215":[function(e,t,n){var r=e("../../../../../clip"),i=e("../../../collection"),o=e("../../base"),a=e("underscore");var s={"show":e("./handlers/show"),"css":e("./handlers/css"),"style":e("./handlers/style"),"focus":e("./handlers/focus"),"disable":e("./handlers/disable"),"enable":e("./handlers/enable"),"model":e("./handlers/model"),"onClick":e("./handlers/event"),"onDblClick":e("./handlers/event"),"onLoad":e("./handlers/event"),"onSubmit":e("./handlers/event"),"onMouseDown":e("./handlers/event"),"onMouseMove":e("./handlers/event"),"onMouseUp":e("./handlers/event"),"onMouseOver":e("./handlers/event"),"onMouseOut":e("./handlers/event"),"onFocusIn":e("./handlers/event"),"onFocusOut":e("./handlers/event"),"onKeyDown":e("./handlers/event"),"onKeyUp":e("./handlers/event"),"onEnter":e("./handlers/enter"),"onEscape":e("./handlers/escape"),"onChange":e("./handlers/change"),"onDelete":e("./handlers/delete"),"_default":e("./handlers/default")};function u(e){o.call(this,e);this.clip=new r({"scripts":e.value[0],"watch":false,"application":e.application});this._bindings=new i;var t=e.application.paperclip.attrDataBindingFactory.dataBindingClasses;for(var n=0,a=this.clip.scripts.names.length;n<a;n++){var u=this.clip.scripts.names[n],c=t[u]||s._default;this._bindings.push(new c(e.application,this.node,this.clip,u))}}o.extend(u,{"type":"attr","bind":function(e){this.context=e;this.clip.reset(e,false);this._bindings.bind(e)},"unbind":function(){this._bindings.unbind();this.clip.dispose()}});t.exports=u;t.exports.factory=function(e){var t=e.pcNodeDataBindClasses=a.extend({},s);return{"dataBindingClasses":t,"register":function(e,n){t[e]=n}}}},{"../../../../../clip":187,"../../../collection":199,"../../base":217,"./handlers/change":202,"./handlers/css":203,"./handlers/default":204,"./handlers/delete":205,"./handlers/disable":206,"./handlers/enable":207,"./handlers/enter":208,"./handlers/escape":209,"./handlers/event":210,"./handlers/focus":211,"./handlers/model":212,"./handlers/show":213,"./handlers/style":214,"underscore":256}],"216":[function(e,t,n){var r=e("type-component"),i=e("../../../../../clip/buffer"),o=e("../../base"),a=e("underscore");function s(e){o.apply(this,arguments);if(typeof this.value!=="string"){this.clippedBuffer=new i(this.value,e.application)}}o.extend(s,{"type":"attr","bind":function(e){this.context=e;if(this.clippedBuffer){this._binding=this.clippedBuffer.reset(this.context).bind("value",a.bind(this._onChange,this)).now()}else{this._onChange(this.value)}},"unbind":function(){if(this._binding)this._binding.dispose();if(this.clippedBuffer)this.clippedBuffer.dispose()},"_onChange":function(e){if(!e.length){return this.node.removeAttribute(this.name)}this.node.setAttribute(this.name,e)},"test":function(e){if(e.name===e.key){return true}if(e.name==="data-bind"||r(e.value)!=="array"){return false}for(var t=0,n=e.value.length;t<n;t++){if(e.value[t].value)return true}return false}});t.exports=s},{"../../../../../clip/buffer":186,"../../base":217,"type-component":255,"underscore":256}],"217":[function(e,t,n){var r=e("../../base/binding");function i(e){this.name=e.name||this.name;this.node=e.node;this.value=e.value;this.nodeModel=e.context}r.extend(i,{"bind":function(e){this.context=e},"unbind":function(){}});t.exports=i},{"../../base/binding":190}],"218":[function(e,t,n){var r=e("underscore"),i=e("protoclass");function o(e){this.options=e}i(o,{"init":function(){},"getBinding":function(e){var t=e;while(t.parentNode){t=t.parentNode}var n=this.path();for(var i=0,o=n.length;i<o;i++){t=t.childNodes[n[i]]}var a=this.options.clazz;return new a(r.extend({},this.options,{"node":t}))},"path":function(){if(this._path)return this._path;var e=[];var t=this.options.node;while(t.parentNode){var n=[];for(var r=0,i=t.parentNode.childNodes.length;r<i;r++){n.push(t.parentNode.childNodes[r])}e.unshift(n.indexOf(t));t=t.parentNode}return this._path=e}});function a(){this.allBindingClasses={"node":{},"attr":{"default":[]}}}i(a,{"getBinders":function(e){var t=[],n=e.attributes,r=e.nodeName,i=e.node;var a=[{"name":r,"key":r,"value":i,"type":"node","node":i},{"name":r,"key":"default","value":i,"type":"node","node":i}];var s;for(var u in n){a.push({"node":i,"name":u,"key":u,"value":n[u],"type":"attr"},{"node":i,"name":u,"key":"default","value":n[u],"type":"attr"})}for(var c=0,l=a.length;c<l;c++){var f=a[c];var p=this.allBindingClasses[f.type][f.key]||[];for(var d=0,h=p.length;d<h;d++){var v=p[d];if(v.prototype.test(f)){f.clazz=v;f.application=e.application;t.push(new o(f))}}}return t},"register":function(e,t){var n=t.type||t.prototype.type;if(!/node|attr/.test(String(n))){throw new Error("node binding class '"+t.name+"' must have property type 'node', or 'attr'")}var r=this.allBindingClasses[n];if(!t.prototype.test){t.prototype.test=function(){return true}}if(!r[e]){r[e]=[]}r[e].push(t);return this}});var s=e("./attrs/dataBind");t.exports=function(t){var n=new a;n.dataBind=s.factory(t);var r={"default":[e("./attrs/text")],"data-bind":[s]};for(var i in r){var o=r[i];for(var u=0,c=o.length;u<c;u++){n.register(i,o[u])}}return n}},{"./attrs/dataBind":215,"./attrs/text":216,"protoclass":254,"underscore":256}],"219":[function(e,t,n){var r=e("../clip"),i=e("./template"),o=e("nofactor"),a=e("./modifiers"),s=e("./bindings"),u=e("bindable"),c=e("underscore");t.exports=function(e){var t=c.extend({},a),n=s(e);return e.paperclip={"modifiers":t,"modifier":function(e,n){return t[e]=n},"blockBinding":c.bind(n.blockBindingFactory.register,n.blockBindingFactory),"blockBindingFactory":n.blockBindingFactory,"nodeBinding":c.bind(n.nodeBindingFactory.register,n.nodeBindingFactory),"nodeBindingFactory":n.nodeBindingFactory,"attrDataBinding":c.bind(n.nodeBindingFactory.dataBind.register,n.nodeBindingFactory.dataBind),"attrDataBindingFactory":n.nodeBindingFactory.dataBind,"use":function(e){return e(this)}}};t.exports.Clip=r;t.exports.template=i;t.exports.Application=e("mojo-application");t.exports.BaseBlockBinding=s.BaseBlockBinding;t.exports.BaseNodeBinding=s.BaseNodeBinding;t.exports.BaseAttrBinding=s.BaseAttrBinding;t.exports.BaseAttrDataBinding=s.BaseAttrDataBinding},{"../clip":187,"./bindings":200,"./modifiers":220,"./template":221,"bindable":22,"mojo-application":31,"nofactor":237,"underscore":256}],"220":[function(e,t,n){t.exports={"uppercase":function(e){return String(e).toUpperCase()},"lowercase":function(e){return String(e).toLowerCase()},"titlecase":function(e){var t;t=String(e);return t.substr(0,1).toUpperCase()+t.substr(1)},"json":function(e,t,n){return JSON.stringify.apply(JSON,arguments)}}},{}],"221":[function(e,t,n){(function(n){var r=e("protoclass"),i=e("nofactor"),o=e("./writers/fragment"),a=e("./writers/block"),s=e("./writers/text"),u=e("./writers/comment"),c=e("./writers/element"),l=e("./writers/parse"),f=e("./bindings/collection"),p=e("./bindings/binders"),d=e("mojo-application"),h=e("mojo-animator"),v=e("bindable"),m=e("loaf"),g=e("./binding");function y(e,t,n){this.paper=e;this.application=t;this.nodeFactory=t.nodeFactory;this.useTemplateNode=n.useTemplateNode;this._bindingPool=[]}r(y,{"load":function(e){if(!this._templateNode||!this.useTemplateNode){this._templateNode=this._createTemplateNode()}var t=this.useTemplateNode?this._templateNode.cloneNode(true):this._templateNode;var n=this.binders.getBindings(t);if(!e){e=m(this.nodeFactory)}e.append(t);return new g(this,t,n,e,this.nodeFactory)},"bind":function(e,t){if(!e){e={}}if(!e.__isBindable){e=new v.Object(e)}return this.load(t).bind(e)},"_createTemplateNode":function(){this.binders=new p;var e={"fragment":new o(this),"block":new a(this),"text":new s(this),"comment":new u(this),"element":new c(this),"parse":new l(this)};var t=this.paper(e.fragment.write,e.block.write,e.element.write,e.text.write,e.comment.write,e.parse.write,this.application.paperclip.modifiers);this.binders.init();return t}});var b=y.prototype.creator=t.exports=function(e,t){var r,i=false;if(!t){t=d.main}if(!t.animate){t.use(h)}if(typeof e==="string"){if(!b.compiler){throw new Error("template must be a function")}r=b.compiler.compile(e,{"eval":true})}else{r=e}if(n.browser){i=!!(~navigator.userAgent.toLowerCase().indexOf("msie")||~navigator.userAgent.toLowerCase().indexOf("trident"))}var o={"useTemplateNode":!i&&!t.debug};if(r.template){return r.template}return r.template=new y(r,t,o)}}).call(this,e("OpdoqP"))},{"./binding":189,"./bindings/binders":192,"./bindings/collection":199,"./writers/block":223,"./writers/comment":224,"./writers/element":225,"./writers/fragment":226,"./writers/parse":227,"./writers/text":228,"OpdoqP":58,"bindable":22,"loaf":231,"mojo-animator":233,"mojo-application":31,"nofactor":237,"protoclass":254}],"222":[function(e,t,n){var r=e("protoclass"),i=e("underscore");function o(e){this.template=e;this.nodeFactory=e.application.nodeFactory;this.application=this.template.application;this.binders=e.binders;this.write=i.bind(this.write,this)}r(o,{"write":function(e,t,n){}});t.exports=o},{"protoclass":254,"underscore":256}],"223":[function(e,t,n){"use strict";var r=e("loaf"),i=e("../../clip"),o=e("./base");function a(){o.apply(this,arguments);this.blockBindingFactory=this.application.paperclip.blockBindingFactory}o.extend(a,{"write":function(e,t,n){var r=t?this.template.creator(t,this.application):undefined,i=n?this.template.creator(n,this.application):undefined,o,a;this.binders.push(o=this.blockBindingFactory.getBinder(a={"script":e,"template":r,"application":this.application,"childBlockTemplate":i}));var s=o.getNode(a)||this.getDefaultNode(a);o.prepare(a);return s},"getDefaultNode":function(e){return(e.section=r(this.nodeFactory)).render()}});t.exports=a},{"../../clip":187,"./base":222,"loaf":231}],"224":[function(e,t,n){var r=e("./base");function i(){r.apply(this,arguments)}r.extend(i,{"write":function(e){return this.nodeFactory.createComment(e)}});t.exports=i},{"./base":222}],"225":[function(e,t,n){var r=e("type-component"),i=e("./base");function o(){i.apply(this,arguments);this.nodeBindingFactory=this.application.paperclip.nodeBindingFactory}i.extend(o,{"write":function(e,t,n){if(!t)t={};if(!n)n=[];var r=this.nodeFactory.createElement(e),i,o;for(i in t){o=t[i];if(typeof o==="object")continue;r.setAttribute(i,o)}this.binders.push.apply(this.binders,this.nodeBindingFactory.getBinders({"node":r,"nodeName":e,"application":this.application,"attributes":t}));for(var a=0,s=n.length;a<s;a++){try{r.appendChild(n[a])}catch(u){console.error("parent: ",r.nodeName);console.log("child: ",n[a].nodeName)}}return r}});t.exports=o},{"./base":222,"type-component":255}],"226":[function(e,t,n){var r=e("./base");function i(){r.apply(this,arguments)}r.extend(i,{"write":function(e){if(e.length===1)return e[0];return this.nodeFactory.createFragment(e)}});t.exports=i},{"./base":222}],"227":[function(e,t,n){(function(n){var r=e("./base");function i(){r.apply(this,arguments)}r.extend(i,{"write":function(e){var t;if(n.browser){t=this.nodeFactory.createElement("div");t.innerHTML=e}else{t=this.nodeFactory.createTextNode(e)}return t}});t.exports=i}).call(this,e("OpdoqP"))},{"./base":222,"OpdoqP":58}],"228":[function(e,t,n){var r=e("./base");function i(){r.apply(this,arguments)}r.extend(i,{"write":function(e){return this.nodeFactory.createTextNode(e)}});t.exports=i},{"./base":222}],"229":[function(e,t,n){(function(t){var r=t._gss=t._gss||[],i=e("type-component");var o=function(e){for(var t=r.length;t--;){var n=r[t];if(n.test(e)){return n}}};var a=function(e){var t=o(e);return t?t.length(e):e.length};var s=function(e,t){var n=o(e);return n?n.get(e,t):e[t]};var u=function(e,t,n){var r=o(e);return r?r.set(e,t,n):e[t]=n};var c=function(e,t,n,r,o){if(!o){e=(i(e)==="array"?e:e.split(".")).filter(function(e){return!!e.length});o=[];r=0}var l,f,p,d=r,h=e.length,v=t;for(;d<h;d++){p=e[d];l=s(v,p);if(p=="$"){for(f=a(v);f--;){c(e,s(v,f),n,d+1,o)}return o}else if(l==undefined||l==null){if(!n)return o;u(v,p,{});l=s(v,p)}v=l}if(l){o.push(l)}else{o.push(v)}return o};var l=function(e,t){t=String(t);var n=c(t,e);return t.indexOf(".$.")==-1?n[0]:n};var f=function(e,t,n){t=String(t);var r=t.split("."),i=r.pop();if(i=="$"){i=r.pop()}var o=c(r,e,true);for(var a=o.length;a--;){u(o[a],i,n)}};n.get=l;n.set=f;n.use=function(e){r.push(e)}}).call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"type-component":255}],"230":[function(e,t,n){t.exports=e(53)},{}],"231":[function(e,t,n){t.exports=e(156)},{"nofactor":237,"protoclass":254}],"232":[function(e,t,n){t.exports=e(157)},{"OpdoqP":58,"protoclass":254}],"233":[function(e,t,n){t.exports=e(158)},{"./animator":232}],"234":[function(e,t,n){t.exports=e(32)},{"protoclass":254}],"235":[function(e,t,n){t.exports=e(33)},{"./base":234,"factories":253}],"236":[function(e,t,n){t.exports=e(34)},{"./base":234}],"237":[function(e,t,n){t.exports=e(35)},{"./custom":235,"./dom":236,"./string":242}],"238":[function(e,t,n){t.exports=e(36)},{"./text":245}],"239":[function(e,t,n){t.exports=e(37)},{"./node":243}],"240":[function(e,t,n){t.exports=e(38)},{"./container":239,"./style":244}],"241":[function(e,t,n){t.exports=e(39)},{"./container":239}],"242":[function(e,t,n){t.exports=e(40)},{"../base":234,"./comment":238,"./container":239,"./element":240,"./fragment":241,"./text":245,"./voidElements":246}],"243":[function(e,t,n){t.exports=e(41)},{"protoclass":254}],"244":[function(e,t,n){t.exports=e(42)},{"protoclass":254}],"245":[function(e,t,n){t.exports=e(43)},{"./node":243,"he":230}],"246":[function(e,t,n){t.exports=e(44)},{"./element":240}],"247":[function(e,t,n){t.exports=e(45)},{"./base":248,"./factory":250}],"248":[function(e,t,n){t.exports=e(46)},{}],"249":[function(e,t,n){t.exports=e(47)},{"./base":248}],"250":[function(e,t,n){t.exports=e(48)},{"./base":248,"./class":249,"./fn":251,"type-component":255}],"251":[function(e,t,n){t.exports=e(49)},{}],"252":[function(e,t,n){t.exports=e(50)},{"./base":248,"./factory":250}],"253":[function(e,t,n){t.exports=e(51)},{"./any":247,"./class":249,"./factory":250,"./fn":251,"./group":252}],"254":[function(e,t,n){t.exports=e(28)},{}],"255":[function(e,t,n){t.exports=e(52)},{}],"256":[function(e,t,n){t.exports=e(30)},{}],"257":[function(e,t,n){var r=e("protoclass"),i=e("boojs");function o(e){if(!e){e={}}this.max=e.max||50;this.min=e.min||0;this.staleInterval=e.staleInterval||e.speed||1e3;this.factory=e.factory||e.create;this.warmUpInterval=e.warmUpInterval||e.speed||0;this.warmUpBatch=e.warmUpBatch||e.chunk||1;this.recycle=e.recycle;var t=this;this.tick=e.tick||function(e){setTimeout(function(){i.run(e)},t.warmUpInterval)};this._pool=[];this._size=0;this._warmUp()}r(o,{"size":function(){return this._size},"drain":function(){for(var e=Math.max(this._size-this.min,0);e--;){this.drip()}},"drip":function(){if(!this._size||this._size<=this.min)return;this._size--;this._pool.shift();this._timeoutDrip()},"create":function(e){var t;if(this._size){this._size--;t=this._pool.shift();this.recycle(t,e);this._warmUp();return t}t=this.factory(e);return t},"add":function(e){if(!~this._pool.indexOf(e)&&this._size<this.max){this._size++;this._pool.push(e);this._timeoutDrip()}return this},"_timeoutDrip":function(){if(this._dripTimeout||this._size<=this.min)return;var e=this;this._dripTimeout=setTimeout(function(){e._dripTimeout=undefined;e.drip()},this.staleInterval)},"_warmUp":function(){if(this._warmingUp||this._size>=this.min)return;this._warmingUp=true;var e=this;this.tick(function(){e._warmingUp=false;var t=Math.min(e.min-e._size,e.warmUpBatch);for(var n=0;n<t;n++){e.add(e.factory({"warm":true}))}e._warmUp()})}});t.exports=function(e){return new o(e)};t.exports.factorize=function(e,t){var n;t.create=function(t){var r=new e(t);r.on("dispose",function(){n.add(r)});return r};t.recycle=function(e,t){e.reset(t)};n=new o(t);e.create=function(e){return n.create(e)};return e}},{"boojs":258,"protoclass":259}],"258":[function(e,t,n){(function(e){(function(){var n=[],r,i=false;function o(e,t){var n,r;function i(){n=setTimeout(function(){a(function(){if(r)return;e();i()})},t)}i();return{"dispose":function(){r=true;if(n){clearTimeout(n)}}}}function a(e){n.push(e);if(!i){s()}}function s(){i=false;r=undefined;for(var e=0;e<n.length;e++){n[e]()}n=[]}function u(){i=true;if(r)clearTimeout(r);r=setTimeout(s,l.waitTimeout)}function c(){if(r)clearTimeout(r);s()}var l={"interval":o,"run":a,"wait":u,"unwait":c,"waitTimeout":1e3};if(typeof e!=="undefined"){t.exports=l}if(typeof window!=="undefined"){window.boo=l;$(document).ready(function(){$("body, html").scroll(l.wait).mousedown(l.wait).mousemove(l.wait).mouseleave(l.unwait)})}})()}).call(this,e("OpdoqP"))},{"OpdoqP":58}],"259":[function(e,t,n){t.exports=e(28)},{}],"260":[function(e,t,n){"use strict";var r=e("./utils");var i=e("./merge");var o=e("./deps/errors");var a=e("events").EventEmitter;var s=e("./deps/upsert");var u=e("./changes");var c=r.Promise;function l(e,t){for(var n=0;n<e.length;n++){if(t(e[n],n)===true){return e[n]}}return false}function f(e){return function(t,n){if(t||n[0].error){e(t||n[0])}else{e(null,n[0])}}}function p(e){var t={};var n=[];i.traverseRevTree(e,function(e,r,i,o){var a=r+"-"+i;if(e){t[a]=0}if(o!==undefined){n.push({"from":o,"to":a})}return a});n.reverse();n.forEach(function(e){if(t[e.from]===undefined){t[e.from]=1+t[e.to]}else{t[e.from]=Math.min(t[e.from],1+t[e.to])}});return t}function d(e,t,n){var i="limit"in t?t.keys.slice(t.skip,t.limit+t.skip):t.skip>0?t.keys.slice(t.skip):t.keys;if(t.descending){i.reverse()}if(!i.length){return e._allDocs({"limit":0},n)}var o={"offset":t.skip};return c.all(i.map(function(n,i){var a=r.extend(true,{"key":n,"deleted":"ok"},t);["limit","skip","keys"].forEach(function(e){delete a[e]});return new c(function(t,r){e._allDocs(a,function(e,i){if(e){return r(e)}o.total_rows=i.total_rows;t(i.rows[0]||{"key":n,"error":"not_found"})})})})).then(function(e){o.rows=e;return o})}r.inherits(h,a);t.exports=h;function h(){var e=this;a.call(this);e.autoCompact=function(t){if(!e.auto_compaction){return t}return function(n,r){if(n){t(n)}else{var i=r.length;var o=function(){i--;if(!i){t(null,r)}};r.forEach(function(t){if(t.ok){e.compactDocument(t.id,1,o)}else{o()}})}}};var t=0,n;var r=["change","delete","create","update"];this.on("newListener",function(i){if(~r.indexOf(i)){if(t){t++;return}else{t++}}else{return}var o=0;n=this.changes({"conflicts":true,"include_docs":true,"continuous":true,"since":"now","onChange":function(t){if(t.seq<=o){return}o=t.seq;e.emit("change",t);if(t.doc._deleted){e.emit("delete",t)}else if(t.doc._rev.split("-")[0]==="1"){e.emit("create",t)}else{e.emit("update",t)}}})});this.on("removeListener",function(e){if(~r.indexOf(e)){t--;if(t){return}}else{return}n.cancel()})}h.prototype.post=r.adapterFun("post",function(e,t,n){if(typeof t==="function"){n=t;t={}}if(typeof e!=="object"||Array.isArray(e)){return n(o.NOT_AN_OBJECT)}this.bulkDocs({"docs":[e]},t,this.autoCompact(f(n)))});h.prototype.put=r.adapterFun("put",r.getArguments(function(e){var t,n,i,a;var s=e.shift();var u="_id"in s;if(typeof s!=="object"||Array.isArray(s)){a=e.pop();return a(o.NOT_AN_OBJECT)}s=r.clone(s);while(true){t=e.shift();n=typeof t;if(n==="string"&&!u){s._id=t;u=true}else if(n==="string"&&u&&!("_rev"in s)){s._rev=t}else if(n==="object"){i=t}else if(n==="function"){a=t}if(!e.length){break}}i=i||{};var c=r.invalidIdError(s._id);if(c){return a(c)}this.bulkDocs({"docs":[s]},i,this.autoCompact(f(a)))}));h.prototype.putAttachment=r.adapterFun("putAttachment",function(e,t,n,r,i,a){var s=this;if(typeof i==="function"){a=i;i=r;r=n;n=null}if(typeof i==="undefined"){i=r;r=n;n=null}function u(e){e._attachments=e._attachments||{};e._attachments[t]={"content_type":i,"data":r};return s.put(e)}return s.get(e).then(function(e){if(e._rev!==n){throw o.REV_CONFLICT}return u(e)},function(t){if(t.error===o.MISSING_DOC.error){return u({"_id":e})}else{throw t}})});h.prototype.removeAttachment=r.adapterFun("removeAttachment",function(e,t,n,r){var i=this;i.get(e,function(e,a){if(e){r(e);return}if(a._rev!==n){r(o.REV_CONFLICT);return}if(!a._attachments){return r()}delete a._attachments[t];if(Object.keys(a._attachments).length===0){delete a._attachments}i.put(a,r)})});h.prototype.remove=r.adapterFun("remove",function(e,t,n){if(typeof t==="function"){n=t;t={}}else if(typeof t==="string"){e={"_id":e,"_rev":t}}else if(t===undefined){t={}}t=r.clone(t);t.was_delete=true;var i={"_id":e._id,"_rev":e._rev};i._deleted=true;this.bulkDocs({"docs":[i]},t,f(n))});h.prototype.revsDiff=r.adapterFun("revsDiff",function(e,t,n){if(typeof t==="function"){n=t;t={}}t=r.clone(t);var o=Object.keys(e);var a=0;var s={};function u(e,t){if(!s[e]){s[e]={"missing":[]}}s[e].missing.push(t)}function c(t,n){var r=e[t].slice(0);i.traverseRevTree(n,function(e,n,i,o,a){var s=n+"-"+i;var c=r.indexOf(s);if(c===-1){return}r.splice(c,1);if(a.status!=="available"){u(t,s)}});r.forEach(function(e){u(t,e)})}o.map(function(t){this._getRevisionTree(t,function(r,i){if(r&&r.name==="not_found"&&r.message==="missing"){s[t]={"missing":e[t]}}else if(r){return n(r)}else{c(t,i)}if(++a===o.length){return n(null,s)}})},this)});h.prototype.compactDocument=function(e,t,n){var r=this;this._getRevisionTree(e,function(o,a){if(o){return n(o)}var s=p(a);var u=[];var c=[];Object.keys(s).forEach(function(e){if(s[e]>t){u.push(e)}});i.traverseRevTree(a,function(e,t,n,r,i){var o=t+"-"+n;if(i.status==="available"&&u.indexOf(o)!==-1){i.status="missing";c.push(o)}});r._doCompaction(e,a,c,n)})};h.prototype.compact=r.adapterFun("compact",function(e,t){if(typeof e==="function"){t=e;e={}}var n=this;this.changes({"complete":function(e,r){if(e){t();return}var i=r.results.length;if(!i){t();return}r.results.forEach(function(e){n.compactDocument(e.id,0,function(){i--;if(!i){t()}})})}})});h.prototype.get=r.adapterFun("get",function(e,t,n){if(typeof t==="function"){n=t;t={}}if(typeof e!=="string"){return n(o.INVALID_ID)}var a=[],s=this;function u(){var r=[];var i=a.length;if(!i){return n(null,r)}a.forEach(function(o){s.get(e,{"rev":o,"revs":t.revs,"attachments":t.attachments},function(e,t){if(!e){r.push({"ok":t})}else{r.push({"missing":o})}i--;if(!i){n(null,r)}})})}if(t.open_revs){if(t.open_revs==="all"){this._getRevisionTree(e,function(e,t){if(e){t=[]}a=i.collectLeaves(t).map(function(e){return e.rev});u()})}else{if(Array.isArray(t.open_revs)){a=t.open_revs;for(var c=0;c<a.length;c++){var f=a[c];if(!(typeof f==="string"&&/^\d+-/.test(f))){return n(o.error(o.BAD_REQUEST,"Invalid rev format"))}}u()}else{return n(o.error(o.UNKNOWN_ERROR,"function_clause"))}}return}return this._get(e,t,function(e,o){t=r.clone(t);if(e){return n(e)}var a=o.doc;if(!a){return n(new Error("no doc!"))}var u=o.metadata;var c=o.ctx;if(t.conflicts){var f=i.collectConflicts(u);if(f.length){a._conflicts=f}}if(t.revs||t.revs_info){var p=i.rootToLeaf(u.rev_tree);var d=l(p,function(e){return e.ids.map(function(e){return e.id}).indexOf(a._rev.split("-")[1])!==-1});var h=d.ids.map(function(e){return e.id}).indexOf(a._rev.split("-")[1])+1;var v=d.ids.length-h;d.ids.splice(h,v);d.ids.reverse();if(t.revs){a._revisions={"start":d.pos+d.ids.length-1,"ids":d.ids.map(function(e){return e.id})}}if(t.revs_info){var m=d.pos+d.ids.length;a._revs_info=d.ids.map(function(e){m--;return{"rev":m+"-"+e.id,"status":e.opts.status}})}}if(t.local_seq){a._local_seq=o.metadata.seq}if(t.attachments&&a._attachments){var g=a._attachments;var y=Object.keys(g).length;if(y===0){return n(null,a)}Object.keys(g).forEach(function(e){this._getAttachment(g[e],{"encode":true,"ctx":c},function(t,r){a._attachments[e].data=r;if(!--y){n(null,a)}})},s)}else{if(a._attachments){for(var b in a._attachments){if(a._attachments.hasOwnProperty(b)){a._attachments[b].stub=true}}}n(null,a)}})});h.prototype.getAttachment=r.adapterFun("getAttachment",function(e,t,n,i){var a=this;if(n instanceof Function){i=n;n={}}n=r.clone(n);this._get(e,n,function(e,r){if(e){return i(e)}if(r.doc._attachments&&r.doc._attachments[t]){n.ctx=r.ctx;a._getAttachment(r.doc._attachments[t],n,i)}else{return i(o.MISSING_DOC)}})});h.prototype.allDocs=r.adapterFun("allDocs",function(e,t){if(typeof e==="function"){t=e;e={}}e=r.clone(e);e.skip=typeof e.skip!=="undefined"?e.skip:0;if("keys"in e){if(!Array.isArray(e.keys)){return t(new TypeError("options.keys must be an array"))}var n=["startkey","endkey","key"].filter(function(t){return t in e})[0];if(n){t(o.error(o.QUERY_PARSE_ERROR,"Query parameter `"+n+"` is not compatible with multi-get"));return}if(this.type()!=="http"){return d(this,e,t)}}return this._allDocs(e,t)});h.prototype.changes=function(e,t){if(typeof e==="function"){t=e;e={}}return new u(this,e,t)};h.prototype.close=r.adapterFun("close",function(e){this._closed=true;return this._close(e)});h.prototype.info=r.adapterFun("info",function(e){var t=this;this._info(function(n,r){if(n){return e(n)}var i=t.prefix.length;if(r.db_name.length>i&&r.db_name.slice(0,i)===t.prefix){r.db_name=r.db_name.slice(i)}e(null,r)})});h.prototype.id=r.adapterFun("id",function(e){return this._id(e)});h.prototype.type=function(){return typeof this._type==="function"?this._type():this.adapter};h.prototype.bulkDocs=r.adapterFun("bulkDocs",function(e,t,n){if(typeof t==="function"){n=t;t={}}t=r.clone(t);if(Array.isArray(e)){e={"docs":e}}if(!e||!e.docs||!Array.isArray(e.docs)){return n(o.MISSING_BULK_DOCS)}for(var i=0;i<e.docs.length;++i){if(typeof e.docs[i]!=="object"||Array.isArray(e.docs[i])){return n(o.NOT_AN_OBJECT)}}e=r.clone(e);if(!("new_edits"in t)){if("new_edits"in e){t.new_edits=e.new_edits}else{t.new_edits=true}}return this._bulkDocs(e,t,this.autoCompact(n))});h.prototype.registerDependentDatabase=r.adapterFun("registerDependentDatabase",function(e,t){var n=new this.constructor(e,{"adapter":this._adapter});function r(t){t.dependentDbs=t.dependentDbs||{};if(t.dependentDbs[e]){return false}t.dependentDbs[e]=true;return t}s(this,"_local/_pouch_dependentDbs",r,function(e){if(e){return t(e)}return t(null,{"db":n})})})},{"./changes":265,"./deps/errors":269,"./deps/upsert":270,"./merge":275,"./utils":280,"events":57}],"261":[function(e,t,n){"use strict";var r=e("../utils");var i=e("../deps/errors");function o(e){var t=o.options;var n=t.parser[t.strictMode?"strict":"loose"].exec(e);var r={};var i=14;while(i--){r[t.key[i]]=n[i]||""}r[t.q.name]={};r[t.key[12]].replace(t.q.parser,function(e,n,i){if(n){r[t.q.name][n]=i}});return r}function a(e){if(/^_(design|local)/.test(e)){return e}return encodeURIComponent(e)}o.options={"strictMode":false,"key":["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],"q":{"name":"queryKey","parser":/(?:^|&)([^&=]*)=?([^&]*)/g},"parser":{"strict":/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,"loose":/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function s(e,t){if(/http(s?):/.test(e)){var n=o(e);n.remote=true;if(n.user||n.password){n.auth={"username":n.user,"password":n.password}}var i=n.path.replace(/(^\/|\/$)/g,"").split("/");n.db=i.pop();n.path=i.join("/");t=t||{};t=r.clone(t);n.headers=t.headers||{};if(t.auth||n.auth){var a=t.auth||n.auth;var s=r.btoa(a.username+":"+a.password);
n.headers.Authorization="Basic "+s}if(t.headers){n.headers=t.headers}return n}return{"host":"","path":"/","db":e,"auth":false}}function u(e,t){return c(e,e.db+"/"+t)}function c(e,t){if(e.remote){var n=!e.path?"":"/";return e.protocol+"://"+e.host+":"+e.port+"/"+e.path+n+t}return"/"+t}function l(e,t){var n=this;n.getHost=e.getHost?e.getHost:s;var o=n.getHost(e.name,e);var l=u(o,"");n.getUrl=function(){return l};var f=e.ajax||{};e=r.clone(e);function p(e,t){return r.ajax(r.extend({},f,e),t)}var d=function(){p({"headers":o.headers,"method":"PUT","url":l},function(e,r){if(e&&e.status===401){p({"headers":o.headers,"method":"HEAD","url":l},function(e,r){if(e){t(e)}else{t(null,n)}})}else if(!e||e.status===412){t(null,n)}else{t(e)}})};if(!e.skipSetup){p({"headers":o.headers,"method":"GET","url":l},function(e,r){if(e){if(e.status===404){d()}else{t(e)}}else{t(null,n)}})}n.type=function(){return"http"};n.id=r.adapterFun("id",function(e){p({"headers":o.headers,"method":"GET","url":c(o,"")},function(t,n){var r=n&&n.uuid?n.uuid+o.db:u(o,"");e(null,r)})});n.request=r.adapterFun("request",function(e,t){e.headers=o.headers;e.url=u(o,e.url);p(e,t)});n.compact=r.adapterFun("compact",function(e,t){if(typeof e==="function"){t=e;e={}}e=r.clone(e);p({"headers":o.headers,"url":u(o,"_compact"),"method":"POST"},function(){function r(){n.info(function(n,i){if(!i.compact_running){t()}else{setTimeout(r,e.interval||200)}})}if(typeof t==="function"){r()}})});n._info=function(e){p({"headers":o.headers,"method":"GET","url":u(o,"")},function(t,n){if(t){e(t)}else{n.host=u(o,"");e(null,n)}})};n.get=r.adapterFun("get",function(e,t,n){if(typeof t==="function"){n=t;t={}}t=r.clone(t);if(t.auto_encode===undefined){t.auto_encode=true}var i=[];if(t.revs){i.push("revs=true")}if(t.revs_info){i.push("revs_info=true")}if(t.local_seq){i.push("local_seq=true")}if(t.open_revs){if(t.open_revs!=="all"){t.open_revs=JSON.stringify(t.open_revs)}i.push("open_revs="+t.open_revs)}if(t.attachments){i.push("attachments=true")}if(t.rev){i.push("rev="+t.rev)}if(t.conflicts){i.push("conflicts="+t.conflicts)}i=i.join("&");i=i===""?"":"?"+i;if(t.auto_encode){e=a(e)}var s={"headers":o.headers,"method":"GET","url":u(o,e+i)};var c=e.split("/");if(c.length>1&&c[0]!=="_design"&&c[0]!=="_local"||c.length>2&&c[0]==="_design"&&c[0]!=="_local"){s.binary=true}p(s,function(e,t,r){if(e){return n(e)}n(null,t,r)})});n.remove=r.adapterFun("remove",function(e,t,n){if(typeof t==="function"){n=t;t={}}else if(typeof t==="string"){e={"_id":e,"_rev":t}}else if(t===undefined){t={}}p({"headers":o.headers,"method":"DELETE","url":u(o,a(e._id))+"?rev="+e._rev},n)});n.getAttachment=r.adapterFun("getAttachment",function(e,t,i,o){if(typeof i==="function"){o=i;i={}}i=r.clone(i);if(i.auto_encode===undefined){i.auto_encode=true}if(i.auto_encode){e=a(e)}i.auto_encode=false;n.get(e+"/"+t,i,o)});n.removeAttachment=r.adapterFun("removeAttachment",function(e,t,n,r){p({"headers":o.headers,"method":"DELETE","url":u(o,a(e)+"/"+t)+"?rev="+n},r)});n.putAttachment=r.adapterFun("putAttachment",function(e,t,n,r,i,s){if(typeof i==="function"){s=i;i=r;r=n;n=null}if(typeof i==="undefined"){i=r;r=n;n=null}var c=a(e)+"/"+t;var l=u(o,c);if(n){l+="?rev="+n}var f={"headers":o.headers,"method":"PUT","url":l,"processData":false,"body":r,"timeout":6e4};f.headers["Content-Type"]=i;p(f,s)});n.put=r.adapterFun("put",r.getArguments(function(e){var t,n,s,c;var l=e.shift();var f="_id"in l;if(typeof l!=="object"||Array.isArray(l)){c=e.pop();return c(i.NOT_AN_OBJECT)}l=r.clone(l);while(true){t=e.shift();n=typeof t;if(n==="string"&&!f){l._id=t;f=true}else if(n==="string"&&f&&!("_rev"in l)){l._rev=t}else if(n==="object"){s=r.clone(t)}else if(n==="function"){c=t}if(!e.length){break}}s=s||{};var d=r.invalidIdError(l._id);if(d){return c(d)}var h=[];if(s&&typeof s.new_edits!=="undefined"){h.push("new_edits="+s.new_edits)}h=h.join("&");if(h!==""){h="?"+h}p({"headers":o.headers,"method":"PUT","url":u(o,a(l._id))+h,"body":l},c)}));n.post=r.adapterFun("post",function(e,t,o){if(typeof t==="function"){o=t;t={}}t=r.clone(t);if(typeof e!=="object"){return o(i.NOT_AN_OBJECT)}if(!("_id"in e)){e._id=r.uuid()}n.put(e,t,o)});n._bulkDocs=function(e,t,n){if(typeof t.new_edits!=="undefined"){e.new_edits=t.new_edits}p({"headers":o.headers,"method":"POST","url":u(o,"_bulk_docs"),"body":e},n)};n.allDocs=r.adapterFun("allDocs",function(e,t){if(typeof e==="function"){t=e;e={}}e=r.clone(e);var n=[];var i;var a="GET";if(e.conflicts){n.push("conflicts=true")}if(e.descending){n.push("descending=true")}if(e.include_docs){n.push("include_docs=true")}if(e.key){n.push("key="+encodeURIComponent(JSON.stringify(e.key)))}if(e.startkey){n.push("startkey="+encodeURIComponent(JSON.stringify(e.startkey)))}if(e.endkey){n.push("endkey="+encodeURIComponent(JSON.stringify(e.endkey)))}if(typeof e.inclusive_end!=="undefined"){n.push("inclusive_end="+!!e.inclusive_end)}if(typeof e.limit!=="undefined"){n.push("limit="+e.limit)}if(typeof e.skip!=="undefined"){n.push("skip="+e.skip)}n=n.join("&");if(n!==""){n="?"+n}if(typeof e.keys!=="undefined"){var s=2e3;var c="keys="+encodeURIComponent(JSON.stringify(e.keys));if(c.length+n.length+1<=s){n+=(n.indexOf("?")!==-1?"&":"?")+c}else{a="POST";i=JSON.stringify({"keys":e.keys})}}p({"headers":o.headers,"method":a,"url":u(o,"_all_docs"+n),"body":i},t)});n._changes=function(e){var t=25;e=r.clone(e);e.timeout=e.timeout||30*1e3;var n={"timeout":e.timeout-5*1e3};var a=typeof e.limit!=="undefined"?e.limit:false;if(a===0){a=1}var s;if("returnDocs"in e){s=e.returnDocs}else{s=true}var c=a;if(e.style){n.style=e.style}if(e.include_docs||e.filter&&typeof e.filter==="function"){n.include_docs=true}if(e.continuous){n.feed="longpoll"}if(e.conflicts){n.conflicts=true}if(e.descending){n.descending=true}if(e.filter&&typeof e.filter==="string"){n.filter=e.filter;if(e.filter==="_view"&&e.view&&typeof e.view==="string"){n.view=e.view}}if(e.query_params&&typeof e.query_params==="object"){for(var l in e.query_params){if(e.query_params.hasOwnProperty(l)){n[l]=e.query_params[l]}}}var f;var d;var h=function(r,i){if(e.aborted){return}n.since=r;if(e.descending){if(a){n.limit=c}}else{n.limit=!a||c>t?t:c}var s="?"+Object.keys(n).map(function(e){return e+"="+n[e]}).join("&");var l={"headers":o.headers,"method":"GET","url":u(o,"_changes"+s),"timeout":e.timeout};d=r;if(e.aborted){return}f=p(l,i)};var v=10;var m=0;var g={"results":[]};var y=function(n,o){if(e.aborted){return}var u=0;if(o&&o.results){u=o.results.length;g.last_seq=o.last_seq;var l={};l.query=e.query_params;o.results=o.results.filter(function(t){c--;var n=r.filterChange(e)(t);if(n){if(s){g.results.push(t)}r.call(e.onChange,t)}return n})}else if(n){e.aborted=true;r.call(e.complete,n);return}if(o&&o.last_seq){d=o.last_seq}var f=a&&c<=0||o&&u<t||e.descending;if(e.continuous&&!(a&&c<=0)||!f){if(n){m+=1}else{m=0}var p=1<<m;var b=v*p;var _=e.maximumWait||3e4;if(b>_){r.call(e.complete,n||i.UNKNOWN_ERROR);return}setTimeout(function(){h(d,y)},b)}else{r.call(e.complete,null,g)}};h(e.since||0,y);return{"cancel":function(){e.aborted=true;if(f){f.abort()}}}};n.revsDiff=r.adapterFun("revsDif",function(e,t,n){if(typeof t==="function"){n=t;t={}}p({"headers":o.headers,"method":"POST","url":u(o,"_revs_diff"),"body":e},function(e,t){n(e,t)})});n._close=function(e){e()};function h(e,i,a,s){i=r.clone(i);var u=n.getHost(s);var l={"source":o.db,"target":u.protocol===o.protocol&&u.authority===o.authority?u.db:u.source};if(i.continuous){l.continuous=true}if(i.create_target){l.create_target=true}if(i.doc_ids){l.doc_ids=i.doc_ids}if(i.filter&&typeof i.filter==="string"){l.filter=i.filter}if(i.query_params){l.query_params=i.query_params}var f={};var d={"headers":o.headers,"method":"POST","url":c(o,"_replicate"),"body":l};var h;a.cancel=function(){this.cancelled=true;if(h&&!f.ok){h.abort()}if(f._local_id){d.body={"replication_id":f._local_id}}d.body.cancel=true;p(d,function(e,n,o){if(e){return t(e)}r.call(i.complete,null,f,o)})};if(a.cancelled){return}h=p(d,function(e,n,o){if(e){return t(e)}f.ok=true;if(n._local_id){f._local_id=n._local_id}r.call(i.complete,null,n,o)})}n.replicateOnServer=function(e,t,r){if(!n.taskqueue.isReady){n.taskqueue.addTask("replicateOnServer",[e,t,r]);return r}e.info(function(n,i){h(e,t,r,i.host)})};n.destroy=r.adapterFun("destroy",function(e){p({"url":u(o,""),"method":"DELETE","headers":o.headers},function(t,r){if(t){n.emit("error",t);e(t)}else{n.emit("destroyed");e(null,r)}})})}l.destroy=r.toPromise(function(e,t,n){var i=s(e,t);t=t||{};if(typeof t==="function"){n=t;t={}}t=r.clone(t);t.headers=i.headers;t.method="DELETE";t.url=u(i,"");var o=t.ajax||{};t=r.extend({},t,o);r.ajax(t,n)});l.valid=function(){return true};t.exports=l},{"../deps/errors":269,"../utils":280}],"262":[function(e,t,n){(function(n,r){"use strict";var i=e("../utils");var o=e("../merge");var a=e("../deps/errors");var s={};var u={"running":false,"queue":[]};function c(e,t,n){try{e.apply(t,n)}catch(r){if(window.PouchDB){window.PouchDB.emit("error",r)}}}function l(){if(u.running||!u.queue.length){return}u.running=true;var e=u.queue.shift();e.action(function(t,r){c(e.callback,this,[t,r]);u.running=false;n.nextTick(l)})}function f(e){return function(t){var n=t.target&&t.target.error&&t.target.error.name||t.target;e(a.error(a.IDB_ERROR,n,t.type))}}function p(){var e="_pouch__checkModernIdb_"+(r.navigator&&r.navigator.appVersion);var t=i.hasLocalStorage()&&r.localStorage[e];if(t){return JSON.parse(t)}var n="_pouch__checkModernIdb";var o=r.indexedDB.open(n,1).onupgradeneeded===null;if(r.indexedDB.deleteDatabase){r.indexedDB.deleteDatabase(n)}if(i.hasLocalStorage()){r.localStorage[e]=JSON.stringify(o)}return o}function d(e,t){var n=this;u.queue.push({"action":function(t){h(n,e,t)},"callback":t});l()}function h(e,t,u){var c=2;var l="document-store";var p="by-sequence";var h="attach-store";var v="meta-store";var m="detect-blob-support";var g=t.name;var y=null;var b=null;var _=false;var w=null;var x=-1;function E(e){e.createObjectStore(l,{"keyPath":"id"}).createIndex("seq","seq",{"unique":true});e.createObjectStore(p,{"autoIncrement":true}).createIndex("_doc_id_rev","_doc_id_rev",{"unique":true});e.createObjectStore(h,{"keyPath":"digest"});e.createObjectStore(v,{"keyPath":"id","autoIncrement":false});e.createObjectStore(m)}function A(e){var t=e.currentTarget.transaction.objectStore(l);t.openCursor().onsuccess=function(e){var n=e.target.result;if(n){var r=n.value;var o=i.isDeleted(r);var a=i.isLocalId(r.id);r.deletedOrLocal=o||a?"1":"0";t.put(r);n["continue"]()}else{t.createIndex("deletedOrLocal","deletedOrLocal",{"unique":false})}}}e.type=function(){return"idb"};e._id=i.toPromise(function(e){e(null,b)});e._bulkDocs=function O(e,t,n){var r=t.new_edits;var s=e.docs;var u=s.map(function(e,t){var n=i.parseDoc(e,r);n._bulk_seq=t;return n});var c=u.filter(function(e){return e.error});if(c.length){return n(c[0])}var m=[];var b={};var _=0;function E(e){var t=e.target.result;t.updateSeq=(t.updateSeq||0)+_;B.objectStore(v).put(t)}function A(){if(!u.length){B.objectStore(v).get(v).onsuccess=E;return}var e=u.shift();var t=e.metadata.id;if(t in b){return O(b[t],e)}var n=B.objectStore(l).get(t);n.onsuccess=function r(t){var n=t.target.result;if(!n){j(e)}else{O(n,e)}}}function q(e){var t=[];m.sort(k);m.forEach(function(e){delete e._bulk_seq;if(e.error){t.push(e);return}var n=e.metadata;var r=o.winningRev(n);t.push({"ok":true,"id":n.id,"rev":r});if(i.isLocalId(n.id)){return}});d.Changes.notify(g);x=-1;n(null,t)}function S(e,t){if(e.stub){return t()}if(typeof e.data==="string"){var r;try{r=atob(e.data)}catch(o){var s=a.error(a.BAD_ARG,"Attachments need to be base64 encoded");return n(s)}e.digest="md5-"+i.MD5(r);if(y){var u=e.content_type;r=i.fixBinary(r);e.data=i.createBlob([r],{"type":u})}return t()}var c=new FileReader;c.onloadend=function(n){var r=i.arrayBufferToBinaryString(this.result);e.digest="md5-"+i.MD5(r);if(!y){e.data=btoa(r)}t()};c.readAsArrayBuffer(e.data)}function C(e){if(!u.length){return e()}var t=0;u.forEach(function(e){var t=e.data&&e.data._attachments?Object.keys(e.data._attachments):[];if(!t.length){return n()}var r=0;function i(){r++;if(r===t.length){n()}}for(var o in e.data._attachments){if(e.data._attachments.hasOwnProperty(o)){S(e.data._attachments[o],i)}}});function n(){t++;if(u.length===t){e()}}}function D(e,t,n,r){var o=null;var a=0;e.data._id=e.metadata.id;e.data._rev=e.metadata.rev;_++;if(n){e.data._deleted=true}var s=e.data._attachments?Object.keys(e.data._attachments):[];function u(e){if(!o){if(e){o=e;r(o)}else if(a===s.length){v()}}}function c(e){a++;u(e)}for(var f in e.data._attachments){if(!e.data._attachments[f].stub){var d=e.data._attachments[f].data;delete e.data._attachments[f].data;var h=e.data._attachments[f].digest;N(e,h,d,c)}else{a++;u()}}function v(){e.data._doc_id_rev=e.data._id+"::"+e.data._rev;var o=B.objectStore(p).index("_doc_id_rev");o.getKey(e.data._doc_id_rev).onsuccess=function(o){var a=o.target.result?B.objectStore(p).put(e.data,o.target.result):B.objectStore(p).put(e.data);a.onsuccess=function(o){var a=e.metadata;a.seq=o.target.result;delete a.rev;var s=i.isLocalId(a.id);a.deletedOrLocal=n||s?"1":"0";a.winningRev=t;var u=B.objectStore(l).put(a);u.onsuccess=function(){delete a.deletedOrLocal;delete a.winningRev;m.push(e);b[e.metadata.id]=e.metadata;i.call(r)}}}}if(!s.length){v()}}function O(e,t){var n=o.merge(e.rev_tree,t.metadata.rev_tree[0],1e3);var s=i.isDeleted(e);var u=i.isDeleted(t.metadata);var c=s&&u&&r||!s&&r&&n.conflicts!=="new_leaf";if(c){m.push(T(a.REV_CONFLICT,t._bulk_seq));return A()}t.metadata.rev_tree=n.tree;var l=o.winningRev(t.metadata);u=i.isDeleted(t.metadata,l);D(t,l,u,A)}function j(e){var n=o.winningRev(e.metadata);var r=i.isDeleted(e.metadata,n);if("was_delete"in t&&r){m.push(a.MISSING_DOC);return A()}D(e,n,r,A)}function T(e,t){e._bulk_seq=t;return e}function N(e,t,n,r){var o=B.objectStore(h);o.get(t).onsuccess=function(a){var s=a.target.result&&a.target.result.refs||{};var u=[e.metadata.id,e.metadata.rev].join("@");var c={"digest":t,"body":n,"refs":s};c.refs[u]=true;o.put(c).onsuccess=function(e){i.call(r)}}}var B;C(function(){B=w.transaction([l,p,h,v],"readwrite");B.onerror=f(n);B.ontimeout=f(n);B.oncomplete=q;A()})};function k(e,t){return e._bulk_seq-t._bulk_seq}e._get=function j(e,t,n){var r;var s;var u;var c;t=i.clone(t);if(t.ctx){c=t.ctx}else{c=w.transaction([l,p,h],"readonly")}function f(){n(u,{"doc":r,"metadata":s,"ctx":c})}c.objectStore(l).get(e).onsuccess=function(e){s=e.target.result;if(!s){u=a.MISSING_DOC;return f()}if(i.isDeleted(s)&&!t.rev){u=a.error(a.MISSING_DOC,"deleted");return f()}var n=c.objectStore(p);var l=t.rev||s.winningRev||o.winningRev(s);var d=s.id+"::"+l;n.index("_doc_id_rev").get(d).onsuccess=function(e){r=e.target.result;if(r&&r._doc_id_rev){delete r._doc_id_rev}if(!r){u=a.MISSING_DOC;return f()}f()}}};e._getAttachment=function(e,t,n){var r;var o;t=i.clone(t);if(t.ctx){o=t.ctx}else{o=w.transaction([l,p,h],"readonly")}var a=e.digest;var s=e.content_type;o.objectStore(h).get(a).onsuccess=function(e){var o=e.target.result.body;if(t.encode){if(y){var a=new FileReader;a.onloadend=function(e){var t=i.arrayBufferToBinaryString(this.result);r=btoa(t);n(null,r)};a.readAsArrayBuffer(o)}else{r=o;n(null,r)}}else{if(y){r=o}else{o=i.fixBinary(atob(o));r=i.createBlob([o],{"type":s})}n(null,r)}}};function q(e,t,n){var s="startkey"in t?t.startkey:false;var u="endkey"in t?t.endkey:false;var c="key"in t?t.key:false;var f=t.skip||0;var d=typeof t.limit==="number"?t.limit:-1;var h=t.inclusive_end!==false;var v="descending"in t&&t.descending?"prev":null;var m=false;if(v&&s&&u){m=u;u=false}var g=null;try{if(s&&u){g=r.IDBKeyRange.bound(s,u,false,!h)}else if(s){if(v){g=r.IDBKeyRange.upperBound(s)}else{g=r.IDBKeyRange.lowerBound(s)}}else if(u){if(v){g=r.IDBKeyRange.lowerBound(u,!h)}else{g=r.IDBKeyRange.upperBound(u,!h)}}else if(c){g=r.IDBKeyRange.only(c)}}catch(y){if(y.name==="DataError"&&y.code===0){return n(null,{"total_rows":e,"offset":t.skip,"rows":[]})}else{return n(a.error(a.IDB_ERROR,y.name,y.message))}}var b=w.transaction([l,p],"readonly");b.oncomplete=function(){n(null,{"total_rows":e,"offset":t.skip,"rows":E})};var _=b.objectStore(l);var x=v?_.openCursor(g,v):_.openCursor(g);var E=[];x.onsuccess=function(e){if(!e.target.result){return}var n=e.target.result;var r=n.value;var a=r.winningRev||o.winningRev(r);function s(e,r){if(i.isLocalId(e.id)){return n["continue"]()}var s={"id":e.id,"key":e.id,"value":{"rev":a}};if(t.include_docs){s.doc=r;s.doc._rev=a;if(s.doc._doc_id_rev){delete s.doc._doc_id_rev}if(t.conflicts){s.doc._conflicts=o.collectConflicts(e)}for(var u in s.doc._attachments){if(s.doc._attachments.hasOwnProperty(u)){s.doc._attachments[u].stub=true}}}var c=i.isDeleted(e,a);if(t.deleted==="ok"){if(c){s.value.deleted=true;s.doc=null}E.push(s)}else if(!c&&f--<=0){if(m){if(h&&s.key<m){return}else if(!h&&s.key<=m){return}}E.push(s);if(--d===0){return}}n["continue"]()}if(!t.include_docs){s(r)}else{var u=b.objectStore(p).index("_doc_id_rev");var c=r.id+"::"+a;u.get(c).onsuccess=function(e){s(n.value,e.target.result)}}}}function S(e){if(x!==-1){return e(null,x)}var t;var n=w.transaction([l],"readonly");var i=n.objectStore(l).index("deletedOrLocal");i.count(r.IDBKeyRange.only("0")).onsuccess=function(e){t=e.target.result};n.onerror=f(e);n.oncomplete=function(){x=t;e(null,x)}}e._allDocs=function T(e,t){S(function(n,r){if(n){return t(n)}if(e.limit===0){return t(null,{"total_rows":r,"offset":e.skip,"rows":[]})}q(r,e,t)})};e._info=function N(e){S(function(t,n){if(t){return e(t)}if(w===null){var r=new Error("db isn't open");r.id="idbNull";return e(r)}var i=0;var o=w.transaction([v],"readonly");o.objectStore(v).get(v).onsuccess=function(e){i=e.target.result&&e.target.result.updateSeq||0};o.oncomplete=function(){e(null,{"db_name":g,"doc_count":n,"update_seq":i})}})};e._changes=function(t){t=i.clone(t);if(t.continuous){var n=g+":"+i.uuid();d.Changes.addListener(g,n,e,t);d.Changes.notify(g);return{"cancel":function(){d.Changes.removeListener(g,n)}}}var a=t.descending?"prev":null;var s=0;t.since=t.since&&!a?t.since:0;var u="limit"in t?t.limit:-1;if(u===0){u=1}var c;if("returnDocs"in t){c=t.returnDocs}else{c=true}var f=[];var h=0;var v=i.filterChange(t);var m;function y(){m=w.transaction([l,p]);m.oncomplete=_;var e;if(a){e=m.objectStore(p).openCursor(r.IDBKeyRange.lowerBound(t.since,true),a)}else{e=m.objectStore(p).openCursor(r.IDBKeyRange.lowerBound(t.since,true))}e.onsuccess=b;e.onerror=onerror}y();function b(e){var n=e.target.result;if(!n){return}var r=n.value;if(i.isLocalId(r._id)||t.doc_ids&&t.doc_ids.indexOf(r._id)===-1){return n["continue"]()}var a=m.objectStore(l);a.get(r._id).onsuccess=function(e){var i=e.target.result;if(s<i.seq){s=i.seq}var a=i.winningRev||o.winningRev(i);if(r._rev!==a){return n["continue"]()}delete r["_doc_id_rev"];var l=t.processChange(r,i,t);l.seq=n.key;if(v(l)){h++;if(c){f.push(l)}t.onChange(l)}if(h!==u){n["continue"]()}}}function _(){if(!t.continuous){t.complete(null,{"results":f,"last_seq":s})}}};e._close=function(e){if(w===null){return e(a.NOT_OPEN)}w.close();delete s[g];w=null;e()};e._getRevisionTree=function(e,t){var n=w.transaction([l],"readonly");var r=n.objectStore(l).get(e);r.onsuccess=function(e){var n=e.target.result;if(!n){t(a.MISSING_DOC)}else{t(null,n.rev_tree)}}};e._doCompaction=function(e,t,n,r){var o=w.transaction([l,p],"readwrite");var a=o.objectStore(l);a.get(e).onsuccess=function(r){var i=r.target.result;i.rev_tree=t;var a=n.length;n.forEach(function(t){var n=o.objectStore(p).index("_doc_id_rev");var r=e+"::"+t;n.getKey(r).onsuccess=function(e){var t=e.target.result;if(!t){return}o.objectStore(p)["delete"](t);a--;if(!a){o.objectStore(l).put(i)}}})};o.oncomplete=function(){i.call(r)}};var C=s[g];if(C){w=C.idb;y=C.blobSupport;b=C.instanceId;_=C.idStored;n.nextTick(function(){u(null,e)});return}var D=r.indexedDB.open(g,c);if(!("openReqList"in d)){d.openReqList={}}d.openReqList[g]=D;D.onupgradeneeded=function(e){var t=e.target.result;if(e.oldVersion<1){E(t)}if(e.oldVersion<2){A(e)}};D.onsuccess=function(t){w=t.target.result;w.onversionchange=function(){w.close();delete s[g]};w.onabort=function(){w.close();delete s[g]};var n=w.transaction([v,m],"readwrite");var r=n.objectStore(v).get(v);r.onsuccess=function(t){var r=function(){if(y===null||!_){return}else{s[g]={"idb":w,"blobSupport":y,"instanceId":b,"idStored":_,"loaded":true};u(null,e)}};var o=t.target.result||{"id":v};if(g+"_id"in o){b=o[g+"_id"];_=true;r()}else{b=i.uuid();o[g+"_id"]=b;n.objectStore(v).put(o).onsuccess=function(){_=true;r()}}try{n.objectStore(m).put(i.createBlob(),"key");y=true}catch(a){y=false}finally{r()}}};D.onerror=f(u)}d.valid=function(){return r.indexedDB&&p()};function v(e,t,n){if(!("openReqList"in d)){d.openReqList={}}d.Changes.removeAllListeners(e);if(d.openReqList[e]&&d.openReqList[e].result){d.openReqList[e].result.close()}var o=r.indexedDB.deleteDatabase(e);o.onsuccess=function(){if(d.openReqList[e]){d.openReqList[e]=null}if(i.hasLocalStorage()){delete r.localStorage[e]}delete s[e];n(null,{"ok":true})};o.onerror=f(n)}d.destroy=i.toPromise(function(e,t,n){u.queue.push({"action":function(n){v(e,t,n)},"callback":n});l()});d.Changes=new i.Changes;t.exports=d}).call(this,e("OpdoqP"),typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../deps/errors":269,"../merge":275,"../utils":280,"OpdoqP":58}],"263":[function(e,t,n){t.exports=["idb","websql"]},{}],"264":[function(e,t,n){(function(n){"use strict";var r=e("../utils");var i=e("../merge");var o=e("../deps/errors");function a(e){return"'"+e+"'"}var s={};var u=r.getArguments(function(e){if(typeof n!=="undefined"){if(n.navigator&&n.navigator.sqlitePlugin&&n.navigator.sqlitePlugin.openDatabase){return navigator.sqlitePlugin.openDatabase.apply(navigator.sqlitePlugin,e)}else if(n.sqlitePlugin&&n.sqlitePlugin.openDatabase){return n.sqlitePlugin.openDatabase.apply(n.sqlitePlugin,e)}else{var t=s[e[0]];if(!t){t=s[e[0]]=n.openDatabase.apply(n,e)}return t}}});var c=1;var l=0;var f=2;var p=a("document-store");var d=a("by-sequence");var h=a("attach-store");var v=a("metadata-store");var m="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+d+" (seq, deleted)";var g="CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+p+" (local, id)";var y="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+p+" (winningseq)";var b=d+".seq = "+p+".winningseq";var _=d+".seq AS seq, "+d+".deleted AS deleted, "+d+".json AS data, "+p+".json AS metadata";function w(e,t,n,r,i){return"SELECT "+e+" FROM "+(typeof t==="string"?t:t.join(" JOIN "))+(n?" ON "+n:"")+(r?" WHERE "+(typeof r==="string"?r:r.join(" AND ")):"")+(i?" ORDER BY "+i:"")}function x(e){return function(t){var n=t&&t.constructor.toString().match(/function ([^\(]+)/);var r=n&&n[1]||t.type;var i=t.target||t.message;e(o.error(o.WSQ_ERROR,i,r))}}function E(e){return decodeURIComponent(window.escape(e))}function A(e,t){var n="";var r=t==="UTF-8"?2:4;for(var i=0,o=e.length;i<o;i+=r){var a=e.substring(i,i+r);if(r===4){a=a.substring(2,4)+a.substring(0,2)}n+=String.fromCharCode(parseInt(a,16))}n=t==="UTF-8"?E(n):n;return n}function k(e,t){var a=this;var s=null;var E=e.name;var q=[];var S=-1;var C;var D=u(E,c,E,l);if(!D){return t(o.UNKNOWN_ERROR)}else if(typeof D.readTransaction!=="function"){D.readTransaction=D.transaction}function O(){if(r.hasLocalStorage()){n.localStorage["_pouch__websqldb_"+E]=true}t(null,a)}function j(e){e.executeSql(y);e.executeSql("ALTER TABLE "+d+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){e.executeSql(m);e.executeSql("ALTER TABLE "+p+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){e.executeSql(g);var t="SELECT "+p+".winningseq AS seq, "+p+".json AS metadata FROM "+d+" JOIN "+p+" ON "+d+".seq = "+p+".winningseq";e.executeSql(t,[],function(e,t){var n=[];var i=[];for(var o=0;o<t.rows.length;o++){var a=t.rows.item(o);var s=a.seq;var u=JSON.parse(a.metadata);if(r.isDeleted(u)){n.push(s)}if(r.isLocalId(u.id)){i.push(u.id)}}e.executeSql("UPDATE "+p+"SET local = 1 WHERE id IN ("+i.map(function(){return"?"}).join(",")+")",i);e.executeSql("UPDATE "+d+" SET deleted = 1 WHERE seq IN ("+n.map(function(){return"?"}).join(",")+")",n)})})})}function T(e){while(q.length>0){var t=q.pop();t(null,s)}N(e)}function N(e){e.executeSql("SELECT dbid, hex(dbid) AS hexId FROM "+v,[],function(e,t){var n=t.rows.item(0).dbid;var r=t.rows.item(0).hexId;C=r.length===n.length*2?"UTF-8":"UTF-16"})}function B(e,t){if(t===0){var n="CREATE TABLE IF NOT EXISTS "+v+" (update_seq, dbid, db_version INTEGER)";var i="CREATE TABLE IF NOT EXISTS "+h+" (digest, json, body BLOB)";var o="CREATE TABLE IF NOT EXISTS "+p+" (id unique, json, winningseq, local TINYINT(1))";var a="CREATE TABLE IF NOT EXISTS "+d+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, "+"doc_id_rev UNIQUE, json, deleted TINYINT(1))";e.executeSql(i);e.executeSql(o,[],function(){e.executeSql(y);e.executeSql(g)});e.executeSql(a,[],function(){e.executeSql(m)});e.executeSql(n,[],function(){var t="INSERT INTO "+v+" (update_seq, db_version, dbid) VALUES (?, ?, ?)";s=r.uuid();e.executeSql(t,[0,f,s]);T(e)})}else{if(t===1){j(e);e.executeSql("UPDATE "+v+" SET db_version = "+f)}e.executeSql("SELECT dbid FROM "+v,[],function(e,t){s=t.rows.item(0).dbid;T(e)})}}function L(){D.transaction(function(e){e.executeSql("SELECT sql FROM sqlite_master WHERE tbl_name = "+v,[],function(e,t){if(!t.rows.length){B(e,0)}else if(!/db_version/.test(t.rows.item(0).sql)){e.executeSql("ALTER TABLE "+v+" ADD COLUMN db_version INTEGER",[],function(){B(e,1)})}else{e.executeSql("SELECT db_version FROM "+v,[],function(e,t){var n=t.rows.item(0).db_version;B(e,n)})}})},x(t),O)}if(r.isCordova()&&typeof n!=="undefined"){n.addEventListener(E+"_pouch",function F(){n.removeEventListener(E+"_pouch",F,false);L()},false)}else{L()}a.type=function(){return"websql"};a._id=r.toPromise(function(e){e(null,s)});a._info=function(e){D.readTransaction(function(t){R(t,function(n){var r="SELECT update_seq FROM "+v;t.executeSql(r,[],function(t,r){var i=r.rows.item(0).update_seq;e(null,{"db_name":E,"doc_count":n,"update_seq":i})})})},x(e))};a._bulkDocs=function(e,t,n){var a=t.new_edits;var s=e.docs;var u=0;var c=s.map(function(e,t){var n=r.parseDoc(e,a);n._bulk_seq=t;return n});var l=c.filter(function(e){return e.error});if(l.length){return n(l[0])}var f;var m=[];var g={};function y(e,t){return e._bulk_seq-t._bulk_seq}function b(e){var t=[];m.sort(y);m.forEach(function(e){delete e._bulk_seq;if(e.error){t.push(e);return}var n=e.metadata;var o=i.winningRev(n);t.push({"ok":true,"id":n.id,"rev":o});if(r.isLocalId(n.id)){return}u++});k.Changes.notify(E);var o="SELECT update_seq FROM "+v;f.executeSql(o,[],function(e,r){var i=r.rows.item(0).update_seq+u;var o="UPDATE "+v+" SET update_seq=?";e.executeSql(o,[i],function(){n(null,t)})})}function _(e,t){if(e.stub){return t()}if(typeof e.data==="string"){try{e.data=atob(e.data)}catch(i){var a=o.error(o.BAD_ARG,"Attachments need to be base64 encoded");return n(a)}var s=r.fixBinary(e.data);e.data=r.createBlob([s],{"type":e.content_type})}var u=new FileReader;u.onloadend=function(n){var i=r.arrayBufferToBinaryString(this.result);e.data=i;e.digest="md5-"+r.MD5(i);t()};u.readAsArrayBuffer(e.data)}function A(e){if(!c.length){return e()}var t=0;c.forEach(function(e){var t=e.data&&e.data._attachments?Object.keys(e.data._attachments):[];var r=0;if(!t.length){return n()}function i(){r++;if(r===t.length){n()}}for(var o in e.data._attachments){if(e.data._attachments.hasOwnProperty(o)){_(e.data._attachments[o],i)}}});function n(){t++;if(c.length===t){e()}}}function q(e,t,n,i,o){function a(){var t=e.data;var r=t._id+"::"+t._rev;var i=n?1:0;var o=w("seq",d,null,"doc_id_rev=?");f.executeSql(o,[r],function(e,n){var o,a;if(n.rows.length){o="UPDATE "+d+" SET json=?, deleted=? WHERE doc_id_rev=?;";a=[JSON.stringify(t),i,r];f.executeSql(o,a,function(e){_(e,n.rows.item(0).seq)})}else{o="INSERT INTO "+d+" (doc_id_rev, json, deleted) VALUES (?, ?, ?);";a=[r,JSON.stringify(t),i];f.executeSql(o,a,function(e,t){_(e,t.insertId)})}})}function s(e){if(!u){if(e){u=e;i(u)}else if(c===l.length){a()}}}var u=null;var c=0;e.data._id=e.metadata.id;e.data._rev=e.metadata.rev;if(n){e.data._deleted=true}var l=e.data._attachments?Object.keys(e.data._attachments):[];function h(e){c++;s(e)}for(var v in e.data._attachments){if(!e.data._attachments[v].stub){var y=e.data._attachments[v].data;delete e.data._attachments[v].data;var b=e.data._attachments[v].digest;N(e,b,y,h)}else{c++;s()}}if(!l.length){a()}function _(n,a){e.metadata.seq=a;delete e.metadata.rev;var s=o?"UPDATE "+p+" SET json=?, winningseq=(SELECT seq FROM "+d+" WHERE doc_id_rev=?) WHERE id=?":"INSERT INTO "+p+" (id, winningseq, json, local) VALUES (?, ?, ?, ?);";var u=JSON.stringify(e.metadata);var c=e.metadata.id+"::"+t;var l=r.isLocalId(e.metadata.id)?1:0;var f=o?[u,c,e.metadata.id]:[e.metadata.id,a,u,l];n.executeSql(s,f,function(){m.push(e);g[e.metadata.id]=e.metadata;i()})}}function C(e,t){var n=i.merge(e.rev_tree,t.metadata.rev_tree[0],1e3);var s=r.isDeleted(t.metadata);var u=r.isDeleted(e);var c=u&&s&&a||!u&&a&&n.conflicts!=="new_leaf";if(c){m.push(T(o.REV_CONFLICT,t._bulk_seq));return j()}t.metadata.rev_tree=n.tree;var l=i.winningRev(t.metadata);s=r.isDeleted(t.metadata,l);q(t,l,s,j,true)}function O(e){var n=i.winningRev(e.metadata);var a=r.isDeleted(e.metadata,n);if("was_delete"in t&&a){m.push(o.MISSING_DOC);return j()}q(e,n,a,j,false)}function j(){if(!c.length){return b()}var e=c.shift();var t=e.metadata.id;if(t in g){return C(g[t],e)}f.executeSql("SELECT json FROM "+p+" WHERE id = ?",[t],function(t,n){if(n.rows.length){var r=JSON.parse(n.rows.item(0).json);C(r,e)}else{O(e)}})}function T(e,t){e._bulk_seq=t;return e}function N(e,t,n,r){var i=[e.metadata.id,e.metadata.rev].join("@");var o={"digest":t};var a="SELECT digest, json FROM "+h+" WHERE digest=?";f.executeSql(a,[t],function(e,s){if(!s.rows.length){o.refs={};o.refs[i]=true;a="INSERT INTO "+h+"(digest, json, body) VALUES (?, ?, ?)";e.executeSql(a,[t,JSON.stringify(o),n],function(){r()})}else{o.refs=JSON.parse(s.rows.item(0).json).refs;a="UPDATE "+h+" SET json=?, body=? WHERE digest=?";e.executeSql(a,[JSON.stringify(o),n,t],function(){r()})}})}A(function(){D.transaction(function(e){f=e;j()},x(n),function(){S=-1})})};a._get=function(e,t,n){t=r.clone(t);var i;var s;var u;if(!t.ctx){D.readTransaction(function(r){t.ctx=r;a._get(e,t,n)});return}var c=t.ctx;function l(){n(u,{"doc":i,"metadata":s,"ctx":c})}var f;var h;if(t.rev){f=w(_,[p,d],null,[d+".doc_id_rev=?",p+".id=?"]);h=[e+"::"+t.rev,e]}else{f=w(_,[p,d],b,p+".id=?");h=[e]}c.executeSql(f,h,function(e,n){if(!n.rows.length){u=o.MISSING_DOC;return l()}var r=n.rows.item(0);s=JSON.parse(r.metadata);if(r.deleted&&!t.rev){u=o.error(o.MISSING_DOC,"deleted");return l()}i=JSON.parse(r.data);l()})};function R(e,t){if(S!==-1){return t(S)}var n=w("COUNT("+p+".id) AS 'num'",[p,d],b,[d+".deleted=0",p+".local=0"]);e.executeSql(n,[],function(e,n){S=n.rows.item(0).num;t(S)})}a._allDocs=function(e,t){var n=[];var r;var o="startkey"in e?e.startkey:false;var a="endkey"in e?e.endkey:false;var s="key"in e?e.key:false;var u="descending"in e?e.descending:false;var c="limit"in e?e.limit:-1;var l="skip"in e?e.skip:0;var f=e.inclusive_end!==false;var h=[];var v=[p+".local = 0"];if(s!==false){v.push(p+".id = ?");h.push(s)}else if(o!==false||a!==false){if(o!==false){v.push(p+".id "+(u?"<=":">=")+" ?");h.push(o)}if(a!==false){var m=u?">":"<";if(f){m+="="}v.push(p+".id "+m+" ?");h.push(a)}if(s!==false){v.push(p+".id = ?");h.push(s)}}if(e.deleted!=="ok"){v.push(d+".deleted = 0")}D.readTransaction(function(t){R(t,function(o){r=o;if(c===0){return}var a=w(_,[p,d],b,v,p+".id "+(u?"DESC":"ASC"));a+=" LIMIT "+c+" OFFSET "+l;t.executeSql(a,h,function(t,r){for(var o=0,a=r.rows.length;o<a;o++){var s=r.rows.item(o);var u=JSON.parse(s.metadata);var c=JSON.parse(s.data);var l=c._rev;var f={"id":u.id,"key":u.id,"value":{"rev":l}};if(e.include_docs){f.doc=c;f.doc._rev=l;if(e.conflicts){f.doc._conflicts=i.collectConflicts(u)}for(var p in f.doc._attachments){if(f.doc._attachments.hasOwnProperty(p)){f.doc._attachments[p].stub=true
}}}if(s.deleted){if(e.deleted==="ok"){f.value.deleted=true;f.doc=null}else{continue}}n.push(f)}})})},x(t),function(){t(null,{"total_rows":r,"offset":e.skip,"rows":n})})};a._changes=function(e){e=r.clone(e);if(e.continuous){var t=E+":"+r.uuid();k.Changes.addListener(E,t,a,e);k.Changes.notify(E);return{"cancel":function(){k.Changes.removeListener(E,t)}}}var n=e.descending;e.since=e.since&&!n?e.since:0;var i="limit"in e?e.limit:-1;if(i===0){i=1}var o;if("returnDocs"in e){o=e.returnDocs}else{o=true}var s=[];var u=0;function c(){var t=[p+".winningseq > "+e.since,p+".local = 0"];var a=[];if(e.doc_ids){t.push(p+".id IN ("+e.doc_ids.map(function(){return"?"}).join(",")+")");a=e.doc_ids}var c=w(_,[p,d],b,t,p+".winningseq "+(n?"DESC":"ASC"));var l=r.filterChange(e);if(!e.view&&!e.filter){c+=" LIMIT "+i}D.readTransaction(function(t){t.executeSql(c,a,function(t,n){var r=0;for(var a=0,c=n.rows.length;a<c;a++){var f=n.rows.item(a);var p=JSON.parse(f.metadata);if(r<f.seq){r=f.seq}var d=JSON.parse(f.data);var h=e.processChange(d,p,e);h.seq=f.seq;if(l(h)){u++;if(o){s.push(h)}e.onChange(h)}if(u===i){break}}if(!e.continuous){e.complete(null,{"results":s,"last_seq":r})}})})}c()};a._close=function(e){e()};a._getAttachment=function(e,t,n){var i;var o=t.ctx;var a=e.digest;var s=e.content_type;var u="SELECT hex(body) as body FROM "+h+" WHERE digest=?";o.executeSql(u,[a],function(e,o){var a=A(o.rows.item(0).body,C);if(t.encode){i=btoa(a)}else{a=r.fixBinary(a);i=r.createBlob([a],{"type":s})}n(null,i)})};a._getRevisionTree=function(e,t){D.readTransaction(function(n){var r="SELECT json AS metadata FROM "+p+" WHERE id = ?";n.executeSql(r,[e],function(e,n){if(!n.rows.length){t(o.MISSING_DOC)}else{var r=JSON.parse(n.rows.item(0).metadata);t(null,r.rev_tree)}})})};a._doCompaction=function(e,t,n,i){if(!n.length){return i()}D.transaction(function(o){var a="SELECT json AS metadata FROM "+p+" WHERE id = ?";o.executeSql(a,[e],function(o,a){if(!a.rows.length){return r.call(i)}var s=JSON.parse(a.rows.item(0).metadata);s.rev_tree=t;var u=0;n.forEach(function(t){var r=e+"::"+t;var a="DELETE FROM "+d+" WHERE doc_id_rev = ?";o.executeSql(a,[r],function(t){if(++u===n.length){var r="UPDATE "+p+" SET json = ? WHERE id = ?";t.executeSql(r,[JSON.stringify(s),e],function(){i()})}})})})})}}k.valid=function(){if(typeof n!=="undefined"){if(n.navigator&&n.navigator.sqlitePlugin&&n.navigator.sqlitePlugin.openDatabase){return true}else if(n.sqlitePlugin&&n.sqlitePlugin.openDatabase){return true}else if(n.openDatabase){return true}}return false};k.destroy=r.toPromise(function(e,t,i){k.Changes.removeAllListeners(e);var o=u(e,c,e,l);o.transaction(function(e){var t=[p,d,h,v];t.forEach(function(t){e.executeSql("DROP TABLE IF EXISTS "+t,[])})},x(i),function(){if(r.hasLocalStorage()){delete n.localStorage["_pouch__websqldb_"+e];delete n.localStorage[e]}i(null,{"ok":true})})});k.Changes=new r.Changes;t.exports=k}).call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../deps/errors":269,"../merge":275,"../utils":280}],"265":[function(e,t,n){"use strict";var r=e("./utils");var i=e("./merge");var o=e("./deps/errors");var a=e("events").EventEmitter;var s=e("./evalFilter");var u=e("./evalView");t.exports=c;r.inherits(c,a);function c(e,t,n){a.call(this);var i=this;this.db=e;t=t?r.clone(t):{};var o=n||t.complete||function(){};var s=t.complete=r.once(function(t,n){if(t){i.emit("error",t)}else{i.emit("complete",n)}i.removeAllListeners();e.removeListener("destroyed",c)});if(o){i.on("complete",function(e){o(null,e)});i.on("error",function(e){o(e)})}var u=t.onChange;if(u){i.on("change",u)}function c(){i.cancel()}e.once("destroyed",c);t.onChange=function(e){if(t.isCancelled){return}i.emit("change",e);if(i.startSeq&&i.startSeq<=e.seq){i.emit("uptodate");i.startSeq=false}if(e.deleted){i.emit("delete",e)}else if(e.changes.length===1&&e.changes[0].rev.slice(0,2)==="1-"){i.emit("create",e)}else{i.emit("update",e)}};var l=new r.Promise(function(e,n){t.complete=function(t,r){if(t){n(t)}else{e(r)}}});i.once("cancel",function(){if(u){i.removeListener("change",u)}t.complete(null,{"status":"cancelled"})});this.then=l.then.bind(l);this["catch"]=l["catch"].bind(l);this.then(function(e){s(null,e)},s);if(!e.taskqueue.isReady){e.taskqueue.addTask(function(){if(i.isCancelled){i.emit("cancel")}else{i.doChanges(t)}})}else{i.doChanges(t)}}c.prototype.cancel=function(){this.isCancelled=true;if(this.db.taskqueue.isReady){this.emit("cancel")}};function l(e,t,n){var o=[{"rev":e._rev}];if(n.style==="all_docs"){o=i.collectLeaves(t.rev_tree).map(function(e){return{"rev":e.rev}})}var a={"id":t.id,"changes":o,"doc":e};if(r.isDeleted(t,e._rev)){a.deleted=true}if(n.conflicts){a.doc._conflicts=i.collectConflicts(t);if(!a.doc._conflicts.length){delete a.doc._conflicts}}return a}c.prototype.doChanges=function(e){var t=this;var n=e.complete;e=r.clone(e);if("live"in e&&!("continuous"in e)){e.continuous=e.live}e.processChange=l;if(e.since==="latest"){e.since="now"}if(!e.since){e.since=0}if(e.since==="now"){this.db.info().then(function(r){if(t.isCancelled){n(null,{"status":"cancelled"});return}e.since=r.update_seq-1;t.doChanges(e)},n);return}if(e.continuous&&e.since!=="now"){this.db.info().then(function(e){t.startSeq=e.update_seq-1},function(e){if(e.id==="idbNull"){return}throw e})}if(this.db.type()!=="http"&&e.filter&&typeof e.filter==="string"){return this.filterChanges(e)}if(!("descending"in e)){e.descending=false}e.limit=e.limit===0?1:e.limit;e.complete=n;var i=this.db._changes(e);if(i&&typeof i.cancel==="function"){var o=t.cancel;t.cancel=r.getArguments(function(e){i.cancel();o.apply(this,e)})}};c.prototype.filterChanges=function(e){var t=this;var n=e.complete;if(e.filter==="_view"){if(!e.view||typeof e.view!=="string"){var r=new Error("`view` filter parameter is not provided.");r.status=o.BAD_REQUEST.status;r.name=o.BAD_REQUEST.name;r.error=true;n(r);return}var i=e.view.split("/");this.db.get("_design/"+i[0],function(r,a){if(t.isCancelled){n(null,{"status":"cancelled"});return}if(r){n(r);return}if(a&&a.views&&a.views[i[1]]){var s=u(a.views[i[1]].map);e.filter=s;t.doChanges(e);return}var c=a.views?"missing json key: "+i[1]:"missing json key: views";if(!r){r=new Error(c);r.status=o.MISSING_DOC.status;r.name=o.MISSING_DOC.name;r.error=true}n(r);return})}else{var a=e.filter.split("/");this.db.get("_design/"+a[0],function(r,i){if(t.isCancelled){n(null,{"status":"cancelled"});return}if(r){n(r);return}if(i&&i.filters&&i.filters[a[1]]){var u=s(i.filters[a[1]]);e.filter=u;t.doChanges(e);return}else{var c=i&&i.filters?"missing json key: "+a[1]:"missing json key: filters";if(!r){r=new Error(c);r.status=o.MISSING_DOC.status;r.name=o.MISSING_DOC.name;r.error=true}n(r);return}})}}},{"./deps/errors":269,"./evalFilter":272,"./evalView":273,"./merge":275,"./utils":280,"events":57}],"266":[function(e,t,n){(function(n){"use strict";var r=e("./adapter");var i=e("./utils");var o=e("./taskqueue");var a=i.Promise;function s(e){if(e&&n.debug){console.error(e)}}i.inherits(u,r);function u(e,t,n){if(!(this instanceof u)){return new u(e,t,n)}var c=this;if(typeof t==="function"||typeof t==="undefined"){n=t;t={}}if(typeof e==="object"){t=e;e=undefined}if(typeof n==="undefined"){n=s}t=t||{};var l=n;c.auto_compaction=t.auto_compaction;c.prefix=u.prefix;r.call(c);c.taskqueue=new o;var f=new a(function(r,o){n=function(e,t){if(e){return o(e)}delete t.then;r(t)};t=i.clone(t);var a=t.name||e;var s,l;(function(){try{if(typeof a!=="string"){l=new Error("Missing/invalid DB name");l.code=400;throw l}s=u.parseAdapter(a,t);t.originalName=a;t.name=s.name;t.adapter=t.adapter||s.adapter;c._adapter=t.adapter;if(!u.adapters[t.adapter]){l=new Error("Adapter is missing");l.code=404;throw l}if(!u.adapters[t.adapter].valid()){l=new Error("Invalid Adapter");l.code=404;throw l}}catch(e){c.taskqueue.fail(e);c.changes=i.toPromise(function(t){if(t.complete){t.complete(e)}})}})();if(l){return o(l)}c.adapter=t.adapter;c.replicate={};c.replicate.from=function(e,t,n){return u.replicate(e,c,t,n)};c.replicate.to=function(e,t,n){return u.replicate(c,e,t,n)};c.sync=function(e,t,n){return u.sync(c,e,t,n)};c.replicate.sync=c.sync;c.destroy=i.adapterFun("destroy",function(e){var t=this;t.info(function(t,n){if(t){return e(t)}u.destroy(n.db_name,e)})});u.adapters[t.adapter].call(c,t,function(e,r){if(e){if(n){c.taskqueue.fail(e);n(e)}return}function i(e){if(e==="destroyed"){c.emit("destroyed");u.removeListener(t.name,i)}}u.on(t.name,i);c.emit("created",c);u.emit("created",t.originalName);c.taskqueue.ready(c);n(null,c)});if(t.skipSetup){c.taskqueue.ready(c)}if(i.isCordova()){cordova.fireWindowEvent(t.name+"_pouch",{})}});f.then(function(e){l(null,e)},l);c.then=f.then.bind(f);c["catch"]=f["catch"].bind(f)}t.exports=u}).call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./adapter":260,"./taskqueue":279,"./utils":280}],"267":[function(e,t,n){"use strict";var r=e("./blob.js");var i=e("./errors");var o=e("../utils");var a;function s(e,t){var n=false;var s=o.getArguments(function(e){if(n){return}t.apply(this,e);n=true});if(typeof e==="function"){s=e;e={}}e=o.clone(e);var u={"method":"GET","headers":{},"json":true,"processData":true,"timeout":1e4,"cache":false};e=o.extend(true,u,e);if(e.method==="GET"&&!e.cache){var c=e.url.indexOf("?")!==-1;e.url+=(c?"&":"?")+"_nonce="+o.uuid(16)}function l(t,n,r){if(!e.binary&&!e.json&&e.processData&&typeof t!=="string"){t=JSON.stringify(t)}else if(!e.binary&&e.json&&typeof t==="string"){try{t=JSON.parse(t)}catch(o){return r(o)}}if(Array.isArray(t)){t=t.map(function(e){var t;if(e.ok){return e}else if(e.error&&e.error==="conflict"){t=i.REV_CONFLICT;t.id=e.id;return t}else if(e.error&&e.error==="forbidden"){t=i.FORBIDDEN;t.id=e.id;t.reason=e.reason;return t}else if(e.missing){t=i.MISSING_DOC;t.missing=e.missing;return t}else{return e}})}r(null,t,n)}function f(e,t){var n,r,o,a;try{n=JSON.parse(e.responseText);for(a in i){if(i.hasOwnProperty(a)&&i[a].name===n.error){o=i[a];break}}if(!o){o=i.UNKNOWN_ERROR;if(e.status){o.status=e.status}if(e.statusText){e.name=e.statusText}}r=i.error(o,n.reason)}catch(s){for(var a in i){if(i.hasOwnProperty(a)&&i[a].status===e.status){o=i[a];break}}if(!o){o=i.UNKNOWN_ERROR;if(e.status){o.status=e.status}if(e.statusText){e.name=e.statusText}}r=i.error(o)}t(r)}var p;var d;if(e.xhr){d=new e.xhr}else{d=new XMLHttpRequest}d.open(e.method,e.url);d.withCredentials=true;if(e.json){e.headers.Accept="application/json";e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json";if(e.body&&e.processData&&typeof e.body!=="string"){e.body=JSON.stringify(e.body)}}if(e.binary){d.responseType="arraybuffer"}var h=function(e,t,n){var r="";if(n){var i=new Date;i.setTime(i.getTime()+n*24*60*60*1e3);r="; expires="+i.toGMTString()}document.cookie=e+"="+t+r+"; path=/"};for(var v in e.headers){if(v==="Cookie"){var m=e.headers[v].split("=");h(m[0],m[1],10)}else{d.setRequestHeader(v,e.headers[v])}}if(!("body"in e)){e.body=null}var g=function(){if(n){return}d.abort();f(d,s)};d.onreadystatechange=function(){if(d.readyState!==4||n){return}clearTimeout(p);if(d.status>=200&&d.status<300){var t;if(e.binary){t=r([d.response||""],{"type":d.getResponseHeader("Content-Type")})}else{t=d.responseText}l(t,d,s)}else{f(d,s)}};if(e.timeout>0){p=setTimeout(g,e.timeout);d.onprogress=function(){clearTimeout(p);p=setTimeout(g,e.timeout)};if(typeof a==="undefined"){a=Object.keys(d).indexOf("upload")!==-1}if(a){d.upload.onprogress=d.onprogress}}if(e.body&&e.body instanceof Blob){var y=new FileReader;y.onloadend=function(e){var t="";var n=new Uint8Array(this.result);var r=n.byteLength;for(var i=0;i<r;i++){t+=String.fromCharCode(n[i])}t=o.fixBinary(t);d.send(t)};y.readAsArrayBuffer(e.body)}else{d.send(e.body)}return{"abort":g}}t.exports=s},{"../utils":280,"./blob.js":268,"./errors":269}],"268":[function(e,t,n){(function(e){"use strict";function n(t,n){t=t||[];n=n||{};try{return new Blob(t,n)}catch(r){if(r.name!=="TypeError"){throw r}var i=e.BlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder||e.WebKitBlobBuilder;var o=new i;for(var a=0;a<t.length;a+=1){o.append(t[a])}return o.getBlob(n.type)}}t.exports=n}).call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],"269":[function(e,t,n){"use strict";function r(e){this.status=e.status;this.name=e.error;this.message=e.reason;this.error=true}r.prototype__proto__=Error.prototype;r.prototype.toString=function(){return JSON.stringify({"status":this.status,"name":this.name,"message":this.message})};n.UNAUTHORIZED=new r({"status":401,"error":"unauthorized","reason":"Name or password is incorrect."});n.MISSING_BULK_DOCS=new r({"status":400,"error":"bad_request","reason":"Missing JSON list of 'docs'"});n.MISSING_DOC=new r({"status":404,"error":"not_found","reason":"missing"});n.REV_CONFLICT=new r({"status":409,"error":"conflict","reason":"Document update conflict"});n.INVALID_ID=new r({"status":400,"error":"invalid_id","reason":"_id field must contain a string"});n.MISSING_ID=new r({"status":412,"error":"missing_id","reason":"_id is required for puts"});n.RESERVED_ID=new r({"status":400,"error":"bad_request","reason":"Only reserved document ids may start with underscore."});n.NOT_OPEN=new r({"status":412,"error":"precondition_failed","reason":"Database not open"});n.UNKNOWN_ERROR=new r({"status":500,"error":"unknown_error","reason":"Database encountered an unknown error"});n.BAD_ARG=new r({"status":500,"error":"badarg","reason":"Some query argument is invalid"});n.INVALID_REQUEST=new r({"status":400,"error":"invalid_request","reason":"Request was invalid"});n.QUERY_PARSE_ERROR=new r({"status":400,"error":"query_parse_error","reason":"Some query parameter is invalid"});n.DOC_VALIDATION=new r({"status":500,"error":"doc_validation","reason":"Bad special document member"});n.BAD_REQUEST=new r({"status":400,"error":"bad_request","reason":"Something wrong with the request"});n.NOT_AN_OBJECT=new r({"status":400,"error":"bad_request","reason":"Document must be a JSON object"});n.DB_MISSING=new r({"status":404,"error":"not_found","reason":"Database not found"});n.IDB_ERROR=new r({"status":500,"error":"indexed_db_went_bad","reason":"unknown"});n.WSQ_ERROR=new r({"status":500,"error":"web_sql_went_bad","reason":"unknown"});n.LDB_ERROR=new r({"status":500,"error":"levelDB_went_went_bad","reason":"unknown"});n.FORBIDDEN=new r({"status":403,"error":"forbidden","reason":"Forbidden by design doc validate_doc_update function"});n.error=function(e,t,n){function r(e){this.message=t;if(n){this.name=n}}r.prototype=e;return new r(t)}},{}],"270":[function(e,t,n){"use strict";var r=e("../utils").Promise;function i(e,t,n){return new r(function(r,i){if(t&&typeof t==="object"){t=t._id}if(typeof t!=="string"){return i(new Error("doc id is required"))}e.get(t,function(a,s){if(a){if(a.name!=="not_found"){return i(a)}return r(o(e,n({"_id":t}),n))}var u=n(s);if(!u){return r(s)}r(o(e,u,n))})})}function o(e,t,n){return e.put(t)["catch"](function(r){if(r.name!=="conflict"){throw r}return i(e,t,n)})}t.exports=function(e,t,n,r){if(typeof r==="function"){i(e,t,n).then(function(e){r(null,e)},r)}else{return i(e,t,n)}}},{"../utils":280}],"271":[function(e,t,n){"use strict";var r=("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"+"abcdefghijklmnopqrstuvwxyz").split("");function i(e){return 0|Math.random()*e}function o(e,t){t=t||r.length;var n="";var o=-1;if(e){while(++o<e){n+=r[i(t)]}return n}while(++o<36){switch(o){case 8:case 13:case 18:case 23:n+="-";break;case 19:n+=r[i(16)&3|8];break;default:n+=r[i(16)]}}return n}t.exports=o},{}],"272":[function(require,module,exports){"use strict";module.exports=evalFilter;function evalFilter(input){return eval(["(function () { return ",input," })()"].join(""))}},{}],"273":[function(require,module,exports){"use strict";module.exports=evalView;function evalView(input){return eval(["(function () {","  return function (doc) {","    var emitted = false;","    var emit = function (a, b) {","      emitted = true;","    };","    var view = "+input+";","    view(doc);","    if (emitted) {","      return true;","    }","  }","})()"].join("\n"))}},{}],"274":[function(e,t,n){(function(n){"use strict";var r=e("./setup");t.exports=r;r.ajax=e("./deps/ajax");r.extend=e("pouchdb-extend");r.utils=e("./utils");r.Errors=e("./deps/errors");r.replicate=e("./replicate").replicate;r.sync=e("./sync");r.version=e("./version");var i=e("./adapters/http");r.adapter("http",i);r.adapter("https",i);r.adapter("idb",e("./adapters/idb"));r.adapter("websql",e("./adapters/websql"));r.plugin(e("pouchdb-mapreduce"));if(!n.browser){var o=e("./adapters/leveldb");r.adapter("ldb",o);r.adapter("leveldb",o)}}).call(this,e("OpdoqP"))},{"./adapters/http":261,"./adapters/idb":262,"./adapters/leveldb":56,"./adapters/websql":264,"./deps/ajax":267,"./deps/errors":269,"./replicate":276,"./setup":277,"./sync":278,"./utils":280,"./version":281,"OpdoqP":58,"pouchdb-extend":303,"pouchdb-mapreduce":306}],"275":[function(e,t,n){"use strict";var r=e("pouchdb-extend");function i(e){var t=e.shift();var n=[t.id,t.opts,[]];var r=n;var i;while(e.length){t=e.shift();i=[t.id,t.opts,[]];r[2].push(i);r=i}return n}function o(e,t){var n=[{"tree1":e,"tree2":t}];var r=false;while(n.length>0){var i=n.pop();var o=i.tree1;var a=i.tree2;if(o[1].status||a[1].status){o[1].status=o[1].status==="available"||a[1].status==="available"?"available":"missing"}for(var s=0;s<a[2].length;s++){if(!o[2][0]){r="new_leaf";o[2][0]=a[2][s];continue}var u=false;for(var c=0;c<o[2].length;c++){if(o[2][c][0]===a[2][s][0]){n.push({"tree1":o[2][c],"tree2":a[2][s]});u=true}}if(!u){r="new_branch";o[2].push(a[2][s]);o[2].sort()}}}return{"conflicts":r,"tree":e}}function a(e,t,n){var r=[];var i=false;var a=false;var s;if(!e.length){return{"tree":[t],"conflicts":"new_leaf"}}e.forEach(function(e){if(e.pos===t.pos&&e.ids[0]===t.ids[0]){s=o(e.ids,t.ids);r.push({"pos":e.pos,"ids":s.tree});i=i||s.conflicts;a=true}else if(n!==true){var u=e.pos<t.pos?e:t;var c=e.pos<t.pos?t:e;var l=c.pos-u.pos;var f=[];var p=[];p.push({"ids":u.ids,"diff":l,"parent":null,"parentIdx":null});while(p.length>0){var d=p.pop();if(d.diff===0){if(d.ids[0]===c.ids[0]){f.push(d)}continue}if(!d.ids){continue}d.ids[2].forEach(function(e,t){p.push({"ids":e,"diff":d.diff-1,"parent":d.ids,"parentIdx":t})})}var h=f[0];if(!h){r.push(e)}else{s=o(h.ids,c.ids);h.parent[2][h.parentIdx]=s.tree;r.push({"pos":u.pos,"ids":u.ids});i=i||s.conflicts;a=true}}else{r.push(e)}});if(!a){r.push(t)}r.sort(function(e,t){return e.pos-t.pos});return{"tree":r,"conflicts":i||"internal_node"}}function s(e,t){var n=u.rootToLeaf(e).map(function(e){var n=e.ids.slice(-t);return{"pos":e.pos+(e.ids.length-n.length),"ids":i(n)}});return n.reduce(function(e,t,n,r){return a(e,t,true).tree},[n.shift()])}var u={};u.merge=function(e,t,n){e=r(true,[],e);t=r(true,{},t);var i=a(e,t);return{"tree":s(i.tree,n),"conflicts":i.conflicts}};u.winningRev=function(e){var t=[];u.traverseRevTree(e.rev_tree,function(e,n,r,i,o){if(e){t.push({"pos":n,"id":r,"deleted":!!o.deleted})}});t.sort(function(e,t){if(e.deleted!==t.deleted){return e.deleted>t.deleted?1:-1}if(e.pos!==t.pos){return t.pos-e.pos}return e.id<t.id?1:-1});return t[0].pos+"-"+t[0].id};u.traverseRevTree=function(e,t){var n=e.slice();var r;while(r=n.pop()){var i=r.pos;var o=r.ids;var a=o[2];var s=t(a.length===0,i,o[0],r.ctx,o[1]);for(var u=0,c=a.length;u<c;u++){n.push({"pos":i+1,"ids":a[u],"ctx":s})}}};u.collectLeaves=function(e){var t=[];u.traverseRevTree(e,function(e,n,r,i,o){if(e){t.unshift({"rev":n+"-"+r,"pos":n,"opts":o})}});t.sort(function(e,t){return t.pos-e.pos});t.map(function(e){delete e.pos});return t};u.collectConflicts=function(e){var t=u.winningRev(e);var n=u.collectLeaves(e.rev_tree);var r=[];n.forEach(function(e){if(e.rev!==t&&!e.opts.deleted){r.push(e.rev)}});return r};u.rootToLeaf=function(e){var t=[];u.traverseRevTree(e,function(e,n,r,i,o){i=i?i.slice(0):[];i.push({"id":r,"opts":o});if(e){var a=n+1-i.length;t.unshift({"pos":a,"ids":i})}return i});return t};t.exports=u},{"pouchdb-extend":303}],"276":[function(e,t,n){"use strict";var r=e("./utils");var i=e("./index");var o=e("events").EventEmitter;r.inherits(a,o);function a(e){o.call(this);this.cancelled=false;var t=this;var n=new r.Promise(function(e,n){t.once("complete",e);t.once("error",n)});t.then=function(e,t){return n.then(e,t)};t["catch"]=function(e){return n["catch"](e)};t["catch"](function(e){})}a.prototype.cancel=function(){this.cancelled=true;this.emit("cancel")};a.prototype.ready=function(e,t){var n=this;function r(){n.cancel()}e.once("destroyed",r);t.once("destroyed",r);function i(){n.removeAllListeners();e.removeListener("destroyed",r);t.removeListener("destroyed",r)}this.then(i,i)};function s(e,t,n){var i=n.filter?n.filter.toString():"";return e.id().then(function(e){return t.id().then(function(t){var o=e+t+i+JSON.stringify(n.query_params)+n.doc_ids;return"_local/"+r.MD5(o)})})}function u(e,t,n){return e.get(t)["catch"](function(e){if(e.status===404){return{"_id":t}}throw e}).then(function(t){t.last_seq=n;return e.put(t)})}function c(e,t,n){this.src=e;this.target=t;this.id=n}c.prototype.writeCheckpoint=function(e){var t=this;return this.updateTarget(e).then(function(){return t.updateSource(e)})};c.prototype.updateTarget=function(e){return u(this.target,this.id,e)};c.prototype.updateSource=function(e){var t=this;if(this.readOnlySource){return r.Promise.resolve(true)}return u(this.src,this.id,e)["catch"](function(e){if(e.status===401){t.readOnlySource=true;return true}throw e})};c.prototype.getCheckpoint=function(){var e=this;return e.target.get(e.id).then(function(t){return e.src.get(e.id).then(function(e){if(t.last_seq===e.last_seq){return e.last_seq}return 0},function(n){if(n.status===404&&t.last_seq){return e.src.put({"_id":e.id,"last_seq":0}).then(function(){return 0},function(n){if(n.status===401){e.readOnlySource=true;return t.last_seq}return 0})}throw n})})["catch"](function(e){if(e.status!==404){throw e}return 0})};function l(e,t,n,i,o){var a=[];var s;var u={"seq":0,"changes":[],"docs":[]};var l=false;var f=false;var p=false;var d=0;var h=i.continuous||i.live||false;var v=i.batch_size||100;var m=i.batches_limit||10;var g=false;var y=0;var b=i.doc_ids;var _=new c(t,n,e);var w={"ok":true,"start_time":new Date,"docs_read":0,"docs_written":0,"doc_write_failures":0,"errors":[]};var x={};o.ready(t,n);function E(){if(s.docs.length===0){return}var e=s.docs;return n.bulkDocs({"docs":e},{"new_edits":false}).then(function(e){if(o.cancelled){N();throw new Error("cancelled")}var t=[];e.forEach(function(e){if(!e.ok){w.doc_write_failures++;t.push(new Error(e.reason||e.message||"Unknown reason"))}});if(t.length>0){var n=new Error("bulkDocs error");n.other_errors=t;T("target.bulkDocs failed to write docs",n);throw new Error("bulkWrite partial failure")}},function(t){w.doc_write_failures+=e.length;throw t})}function A(){var e=s.diffs;var n=Object.keys(e)[0];var r=e[n].missing;return t.get(n,{"revs":true,"open_revs":r,"attachments":true}).then(function(t){t.forEach(function(t){if(o.cancelled){return N()}if(t.ok){w.docs_read++;s.pendingRevs++;s.docs.push(t.ok);delete e[t.ok._id]}})})}function k(){if(Object.keys(s.diffs).length>0){return A().then(k)}else{return r.Promise.resolve()}}function q(){var e=Object.keys(s.diffs).filter(function(e){var t=s.diffs[e].missing;return t.length===1&&t[0].slice(0,2)==="1-"});return t.allDocs({"keys":e,"include_docs":true}).then(function(e){if(o.cancelled){N();throw new Error("cancelled")}e.rows.forEach(function(e,t){if(e.doc&&!e.deleted&&e.value.rev.slice(0,2)==="1-"&&(!e.doc._attachments||Object.keys(e.doc._attachments).length===0)){w.docs_read++;s.pendingRevs++;s.docs.push(e.doc);delete s.diffs[e.id]}})})}function S(){if(t.type()==="http"){return q().then(k)}else{return k()}}function C(){l=true;return _.writeCheckpoint(s.seq).then(function(e){l=false;if(o.cancelled){N();throw new Error("cancelled")}w.last_seq=d=s.seq;w.docs_written+=s.docs.length;o.emit("change",r.clone(w));s=undefined;F()})["catch"](function(e){l=false;T("writeCheckpoint completed with error",e);throw e})}function D(){var e={};s.changes.forEach(function(t){e[t.id]=t.changes.map(function(e){return e.rev})});return n.revsDiff(e).then(function(e){if(o.cancelled){N();throw new Error("cancelled")}s.diffs=e;s.pendingRevs=0})}function O(){if(o.cancelled||s){return}if(a.length===0){j(true);return}s=a.shift();D().then(S).then(E).then(C).then(O)["catch"](function(e){T("batch processing terminated with error",e)})}function j(e){if(u.changes.length===0){if(a.length===0&&!s){if(h&&x.live||f){o.emit("uptodate",r.clone(w))}if(f){N()}}return}if(e||f||u.changes.length>=v){a.push(u);u={"seq":0,"changes":[],"docs":[]};O()}}function T(e,t){if(p){return}w.ok=false;w.status="aborted";t.message=e;w.errors.push(t);a=[];u={"seq":0,"changes":[],"docs":[]};N()}function N(){if(p){return}if(o.cancelled){w.status="cancelled";if(l){return}}w.status=w.status||"complete";w.end_time=new Date;w.last_seq=d;p=o.cancelled=true;if(w.errors.length>0){var e=w.errors.pop();if(w.errors.length>0){e.other_errors=w.errors}e.result=w;o.emit("error",e)}else{o.emit("complete",w)}}function B(e){if(o.cancelled){return N()}y++;if(u.changes.length===0&&a.length===0&&!s){o.emit("outofdate",r.clone(w))}u.seq=e.seq;u.changes.push(e);j(a.length===0)}function L(e){g=false;if(o.cancelled){return N()}if(y>0){x.since=e.last_seq;F()}else{if(h){x.live=true;F()}else{f=true}}j(true)}function R(e){g=false;if(o.cancelled){return N()}T("changes rejected",e)}function F(){if(!g&&!f&&a.length<m){g=true;y=0;t.changes(x).on("change",B).then(L)["catch"](R)}}function I(){_.getCheckpoint().then(function(e){d=e;x={"since":d,"limit":v,"style":"all_docs","doc_ids":b,"returnDocs":false};if(i.filter){x.filter=i.filter}if(i.query_params){x.query_params=i.query_params}F()})["catch"](function(e){T("getCheckpoint rejected with ",e)})}o.once("cancel",N);if(typeof i.onChange==="function"){o.on("change",i.onChange)}if(typeof i.complete==="function"){o.once("error",i.complete);o.once("complete",function(e){i.complete(null,e)})}if(typeof i.since==="undefined"){I()}else{l=true;_.writeCheckpoint(i.since).then(function(e){l=false;if(o.cancelled){N();return}d=i.since;I()})["catch"](function(e){l=false;T("writeCheckpoint completed with error",e);throw e})}}function f(e){if(typeof e==="string"){return new i(e)}else if(e.then){return e}else{return r.Promise.resolve(e)}}function p(e,t,n,i){if(typeof n==="function"){i=n;n={}}if(typeof n==="undefined"){n={}}if(!n.complete){n.complete=i||function(){}}n=r.clone(n);n.continuous=n.continuous||n.live;var o=new a(n);f(e).then(function(e){return f(t).then(function(t){if(n.server){if(typeof e.replicateOnServer!=="function"){throw new TypeError("Server replication not supported for "+e.type()+" adapter")}if(e.type()!==t.type()){throw new TypeError("Server replication"+" for different adapter types ("+e.type()+" and "+t.type()+") is not supported")}e.replicateOnServer(t,n,o)}else{return s(e,t,n).then(function(r){o.emit("id",r);l(r,e,t,n,o)})}})})["catch"](function(e){o.emit("error",e);n.complete(e)});return o}n.replicate=p},{"./index":274,"./utils":280,"events":57}],"277":[function(e,t,n){(function(n){"use strict";var r=e("./constructor");var i=e("./utils");var o=i.Promise;var a=e("events").EventEmitter;r.adapters={};r.preferredAdapters=e("./adapters/preferredAdapters.js");r.prefix="_pouch_";var s=new a;var u=["on","addListener","emit","listeners","once","removeAllListeners","removeListener","setMaxListeners"];u.forEach(function(e){r[e]=s[e].bind(s)});r.setMaxListeners(0);r.parseAdapter=function(e,t){var o=e.match(/([a-z\-]*):\/\/(.*)/);var a,s;if(o){e=/http(s?)/.test(o[1])?o[1]+"://"+o[2]:o[2];a=o[1];if(!r.adapters[a].valid()){throw"Invalid adapter"}return{"name":e,"adapter":o[1]}}var u="idb"in r.adapters&&"websql"in r.adapters&&i.hasLocalStorage()&&n.localStorage["_pouch__websqldb_"+r.prefix+e];if(typeof t!=="undefined"&&t.db){s="leveldb"}else{for(var c=0;c<r.preferredAdapters.length;++c){s=r.preferredAdapters[c];if(s in r.adapters){if(u&&s==="idb"){continue}break}}}a=r.adapters[s];if(s&&a){var l="use_prefix"in a?a.use_prefix:true;return{"name":l?r.prefix+e:e,"adapter":s}}throw"No valid adapter found"};r.destroy=i.toPromise(function(e,t,n){if(typeof t==="function"||typeof t==="undefined"){n=t;t={}}if(typeof e==="object"){t=e;e=undefined}var i=r.parseAdapter(t.name||e,t);var a=i.name;var s=r.adapters[i.adapter];function u(){s.destroy(a,t,function(e,t){if(e){n(e)}else{r.emit("destroyed",a);r.emit(a,"destroyed");n(null,t||{"ok":true})}})}var c="use_prefix"in s?s.use_prefix:true;var l=c?a.replace(new RegExp("^"+r.prefix),""):a;new r(l,{"adapter":i.adapter},function(e,t){if(e){return n(e)}t.get("_local/_pouch_dependentDbs",function(e,t){if(e){if(e.name!=="not_found"){return n(e)}else{return u()}}var a=t.dependentDbs;var s=Object.keys(a).map(function(e){var t=c?e.replace(new RegExp("^"+r.prefix),""):e;return r.destroy(t,{"adapter":i.adapter})});o.all(s).then(u,function(e){n(e)})})})});r.allDbs=i.toPromise(function(e){var t=new Error("allDbs method removed");t.stats="400";e(t)});r.adapter=function(e,t){if(t.valid()){r.adapters[e]=t}};r.plugin=function(e){Object.keys(e).forEach(function(t){r.prototype[t]=e[t]})};t.exports=r}).call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./adapters/preferredAdapters.js":263,"./constructor":266,"./utils":280,"events":57}],"278":[function(e,t,n){"use strict";var r=e("./utils");var i=e("./replicate").replicate;var o=e("events").EventEmitter;t.exports=a;r.inherits(a,o);function a(e,t,n,o){if(!(this instanceof a)){return new a(e,t,n,o)}var s=this;if(typeof n==="function"){o=n;n={}}if(typeof n==="undefined"){n={}}this.canceled=false;n=r.clone(n);var u,c;if("onChange"in n){u=n.onChange;delete n.onChange}if(typeof o==="function"&&!n.complete){c=o}else if("complete"in n){c=n.complete;delete n.complete}this.push=i(e,t,n);this.pull=i(t,e,n);var l=false;function f(e){if(!l){l=true;s.emit("cancel",e)}}function p(e){s.emit("change",{"direction":"pull","change":e})}function d(e){s.emit("change",{"direction":"push","change":e})}var h={};function v(e,t){if(e==="change"&&(t===p||t===d)){s.removeAllListeners("change")}else if(e==="cancel"&&t===f){s.removeAllListeners("cancel")}else if(e in h&&t===h[e]){s.removeAllListeners(e)}}this.on("newListener",function(e){if(e==="change"){s.pull.on("change",p);s.push.on("change",d)}else if(e==="cancel"){s.pull.on("cancel",f);s.push.on("cancel",f)}else if(e!=="error"&&e!=="complete"&&!(e in h)){h[e]=function(t){s.emit(e,t)};s.pull.on(e,h[e]);s.push.on(e,h[e])}});this.on("removeListener",function(e){if(e==="change"){s.pull.removeListener("change",p);s.push.removeListener("change",d)}else if(e==="cancel"){s.pull.removeListener("cancel",f);s.push.removeListener("cancel",f)}else if(e in h){if(typeof h[e]==="function"){s.pull.removeListener(e,h[e]);s.push.removeListener(e,h[e]);delete h[e]}}});this.pull.on("removeListener",v);this.push.on("removeListener",v);var m=r.Promise.all([this.push,this.pull]).then(function(e){var t={"push":e[0],"pull":e[1]};s.emit("complete",t);if(c){c(null,t)}s.removeAllListeners();return t},function(e){s.cancel();s.emit("error",e);if(c){c(e)}s.removeAllListeners();throw e});this.then=function(e,t){return m.then(e,t)};this["catch"]=function(e){return m["catch"](e)}}a.prototype.cancel=function(){if(!this.canceled){this.canceled=true;this.push.cancel();this.pull.cancel()}}},{"./replicate":276,"./utils":280,"events":57}],"279":[function(e,t,n){"use strict";t.exports=r;function r(){this.isReady=false;this.failed=false;this.queue=[]}r.prototype.execute=function(){var e,t;if(this.failed){while(e=this.queue.shift()){if(typeof e==="function"){e(this.failed);continue}t=e.parameters[e.parameters.length-1];if(typeof t==="function"){t(this.failed)}else if(e.name==="changes"&&typeof t.complete==="function"){t.complete(this.failed)}}}else if(this.isReady){while(e=this.queue.shift()){if(typeof e==="function"){e()}else{e.task=this.db[e.name].apply(this.db,e.parameters)
}}}};r.prototype.fail=function(e){this.failed=e;this.execute()};r.prototype.ready=function(e){if(this.failed){return false}else if(arguments.length===0){return this.isReady}this.isReady=e?true:false;this.db=e;this.execute()};r.prototype.addTask=function(e,t){if(typeof e==="function"){this.queue.push(e);if(this.failed){this.execute()}}else{var n={"name":e,"parameters":t};this.queue.push(n);if(this.failed){this.execute()}return n}}},{}],"280":[function(e,t,n){(function(t,r){var i=e("crypto");var o=e("md5-jkmyers");var a=e("./merge");n.extend=e("pouchdb-extend");n.ajax=e("./deps/ajax");n.createBlob=e("./deps/blob");n.uuid=e("./deps/uuid");n.getArguments=e("argsarray");var s=e("./deps/buffer");var u=e("./deps/errors");var c=e("events").EventEmitter;if(typeof r.Promise==="function"){n.Promise=r.Promise}else{n.Promise=e("bluebird")}var l=n.Promise;function f(e){var t={};e.forEach(function(e){t[e]=true});return t}var p=f(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree"]);n.clone=function(e){return n.extend(true,{},e)};n.inherits=e("inherits");n.invalidIdError=function(e){if(!e){return u.MISSING_ID}else if(typeof e!=="string"){return u.INVALID_ID}else if(/^_/.test(e)&&!/^_(design|local)/.test(e)){return u.RESERVED_ID}};function d(){return typeof chrome!=="undefined"&&typeof chrome.storage!=="undefined"&&typeof chrome.storage.local!=="undefined"}n.call=n.getArguments(function(e){if(!e.length){return}var t=e.shift();if(typeof t==="function"){t.apply(this,e)}});n.isLocalId=function(e){return/^_local/.test(e)};n.isDeleted=function(e,t){if(!t){t=a.winningRev(e)}var n=t.indexOf("-");if(n!==-1){t=t.substring(n+1)}var r=false;a.traverseRevTree(e.rev_tree,function(e,n,i,o,a){if(i===t){r=!!a.deleted}});return r};n.filterChange=function(e){return function(t){var n={};var r=e.filter&&typeof e.filter==="function";n.query=e.query_params;if(e.filter&&r&&!e.filter.call(this,t.doc,n)){return false}if(e.doc_ids&&e.doc_ids.indexOf(t.id)===-1){return false}if(!e.include_docs){delete t.doc}else{for(var i in t.doc._attachments){if(t.doc._attachments.hasOwnProperty(i)){t.doc._attachments[i].stub=true}}}return true}};n.parseDoc=function(e,t){var r;var i;var o;var a={"status":"available"};if(e._deleted){a.deleted=true}if(t){if(!e._id){e._id=n.uuid()}i=n.uuid(32,16).toLowerCase();if(e._rev){o=/^(\d+)-(.+)$/.exec(e._rev);if(!o){throw"invalid value for property '_rev'"}e._rev_tree=[{"pos":parseInt(o[1],10),"ids":[o[2],{"status":"missing"},[[i,a,[]]]]}];r=parseInt(o[1],10)+1}else{e._rev_tree=[{"pos":1,"ids":[i,a,[]]}];r=1}}else{if(e._revisions){e._rev_tree=[{"pos":e._revisions.start-e._revisions.ids.length+1,"ids":e._revisions.ids.reduce(function(e,t){if(e===null){return[t,a,[]]}else{return[t,{"status":"missing"},[e]]}},null)}];r=e._revisions.start;i=e._revisions.ids[0]}if(!e._rev_tree){o=/^(\d+)-(.+)$/.exec(e._rev);if(!o){return u.BAD_ARG}r=parseInt(o[1],10);i=o[2];e._rev_tree=[{"pos":parseInt(o[1],10),"ids":[o[2],a,[]]}]}}var s=n.invalidIdError(e._id);if(s){return s}e._id=decodeURIComponent(e._id);e._rev=[r,i].join("-");var c={"metadata":{},"data":{}};for(var l in e){if(e.hasOwnProperty(l)){var f=l[0]==="_";if(f&&!p[l]){s=u.error(u.DOC_VALIDATION);s.reason+=": "+l;return s}else if(f&&l!=="_attachments"){c.metadata[l.slice(1)]=e[l]}else{c.data[l]=e[l]}}}return c};n.isCordova=function(){return typeof cordova!=="undefined"||typeof PhoneGap!=="undefined"||typeof phonegap!=="undefined"};n.hasLocalStorage=function(){if(d()){return false}try{return r.localStorage}catch(e){return false}};n.Changes=h;n.inherits(h,c);function h(){if(!(this instanceof h)){return new h}var e=this;c.call(this);this.isChrome=d();this.listeners={};this.hasLocal=false;if(!this.isChrome){this.hasLocal=n.hasLocalStorage()}if(this.isChrome){chrome.storage.onChanged.addListener(function(t){if(t.db_name!=null){e.emit(t.dbName.newValue)}})}else if(this.hasLocal){if(r.addEventListener){r.addEventListener("storage",function(t){e.emit(t.key)})}else{r.attachEvent("storage",function(t){e.emit(t.key)})}}}h.prototype.addListener=function(e,t,r,i){if(this.listeners[t]){return}function o(){r.changes({"include_docs":i.include_docs,"conflicts":i.conflicts,"continuous":false,"descending":false,"filter":i.filter,"view":i.view,"since":i.since,"query_params":i.query_params,"onChange":function(e){if(e.seq>i.since&&!i.cancelled){i.since=e.seq;n.call(i.onChange,e)}}})}this.listeners[t]=o;this.on(e,o)};h.prototype.removeListener=function(e,t){if(!(t in this.listeners)){return}c.prototype.removeListener.call(this,e,this.listeners[t])};h.prototype.notifyLocalWindows=function(e){if(this.isChrome){chrome.storage.local.set({"dbName":e})}else if(this.hasLocal){localStorage[e]=localStorage[e]==="a"?"b":"a"}};h.prototype.notify=function(e){this.emit(e);this.notifyLocalWindows(e)};if(!t.browser||!("atob"in r)){n.atob=function(e){var t=new s(e,"base64");if(t.toString("base64")!==e){throw"Cannot base64 encode full string"}return t.toString("binary")}}else{n.atob=function(e){return atob(e)}}if(!t.browser||!("btoa"in r)){n.btoa=function(e){return new s(e,"binary").toString("base64")}}else{n.btoa=function(e){return btoa(e)}}n.fixBinary=function(e){if(!t.browser){return e}var n=e.length;var r=new ArrayBuffer(n);var i=new Uint8Array(r);for(var o=0;o<n;o++){i[o]=e.charCodeAt(o)}return r};n.once=function(e){var t=false;return n.getArguments(function(n){if(t){if(typeof console.trace==="function"){console.trace()}throw new Error("once called  more than once")}else{t=true;e.apply(this,n)}})};n.toPromise=function(e){return n.getArguments(function(r){var i=this;var o=typeof r[r.length-1]==="function"?r.pop():false;var a;if(o){a=function(e,n){t.nextTick(function(){o(e,n)})}}var s=new l(function(t,o){var a;try{var s=n.once(function(e,n){if(e){o(e)}else{t(n)}});r.push(s);a=e.apply(i,r);if(a&&typeof a.then==="function"){t(a)}}catch(u){o(u)}});if(a){s.then(function(e){a(null,e)},a)}s.cancel=function(){return this};return s})};n.adapterFun=function(e,t){return n.toPromise(n.getArguments(function(r){if(this._closed){return l.reject(new Error("database is closed"))}var i=this;if(!this.taskqueue.isReady){return new n.Promise(function(t,n){i.taskqueue.addTask(function(o){if(o){n(o)}else{t(i[e].apply(i,r))}})})}return t.apply(this,r)}))};n.arrayBufferToBinaryString=function(e){var t="";var n=new Uint8Array(e);var r=n.byteLength;for(var i=0;i<r;i++){t+=String.fromCharCode(n[i])}return t};n.cancellableFun=function(e,t,r){r=r?n.clone(true,{},r):{};var i=new c;var o=r.complete||function(){};var a=r.complete=n.once(function(e,t){if(e){o(e)}else{i.emit("end",t);o(null,t)}i.removeAllListeners()});var s=r.onChange||function(){};var u=0;t.on("destroyed",function(){i.removeAllListeners()});r.onChange=function(e){s(e);if(e.seq<=u){return}u=e.seq;i.emit("change",e);if(e.deleted){i.emit("delete",e)}else if(e.changes.length===1&&e.changes[0].rev.slice(0,1)==="1-"){i.emit("create",e)}else{i.emit("update",e)}};var f=new l(function(e,t){r.complete=function(n,r){if(n){t(n)}else{e(r)}}});f.then(function(e){a(null,e)},a);f.cancel=function(){f.isCancelled=true;if(t.taskqueue.isReady){r.complete(null,{"status":"cancelled"})}};if(!t.taskqueue.isReady){t.taskqueue.addTask(function(){if(f.isCancelled){r.complete(null,{"status":"cancelled"})}else{e(t,r,f)}})}else{e(t,r,f)}f.on=i.on.bind(i);f.once=i.once.bind(i);f.addListener=i.addListener.bind(i);f.removeListener=i.removeListener.bind(i);f.removeAllListeners=i.removeAllListeners.bind(i);f.setMaxListeners=i.setMaxListeners.bind(i);f.listeners=i.listeners.bind(i);f.emit=i.emit.bind(i);return f};n.Crypto={};n.MD5=n.Crypto.MD5=function(e){if(!t.browser){return i.createHash("md5").update(e).digest("hex")}else{return o(e)}}}).call(this,e("OpdoqP"),typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./deps/ajax":267,"./deps/blob":268,"./deps/buffer":56,"./deps/errors":269,"./deps/uuid":271,"./merge":275,"OpdoqP":58,"argsarray":282,"bluebird":287,"crypto":56,"events":57,"inherits":283,"md5-jkmyers":302,"pouchdb-extend":303}],"281":[function(e,t,n){t.exports="2.2.3"},{}],"282":[function(e,t,n){"use strict";t.exports=r;function r(e){return function(){var t=arguments.length;if(t){var n=[];var r=-1;while(++r<t){n[r]=arguments[r]}return e.call(this,n)}else{return e.call(this,[])}}}},{}],"283":[function(e,t,n){if(typeof Object.create==="function"){t.exports=function r(e,t){e.super_=t;e.prototype=Object.create(t.prototype,{"constructor":{"value":e,"enumerable":false,"writable":true,"configurable":true}})}}else{t.exports=function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype;e.prototype=new n;e.prototype.constructor=e}}},{}],"284":[function(e,t,n){"use strict";t.exports=r;function r(){}},{}],"285":[function(e,t,n){"use strict";var r=e("./promise");var i=e("./reject");var o=e("./resolve");var a=e("./INTERNAL");var s=e("./handlers");t.exports=u;function u(e){if(Object.prototype.toString.call(e)!=="[object Array]"){return i(new TypeError("must be an array"))}var t=e.length;var n=false;if(!t){return o([])}var u=new Array(t);var c=0;var l=-1;var f=new r(a);while(++l<t){p(e[l],l)}return f;function p(e,r){o(e).then(i,function(e){if(!n){n=true;s.reject(f,e)}});function i(e){u[r]=e;if(++c===t&!n){n=true;s.resolve(f,u)}}}}},{"./INTERNAL":284,"./handlers":286,"./promise":288,"./reject":291,"./resolve":292}],"286":[function(e,t,n){"use strict";var r=e("./tryCatch");var i=e("./resolveThenable");var o=e("./states");n.resolve=function(e,t){var s=r(a,t);if(s.status==="error"){return n.reject(e,s.value)}var u=s.value;if(u){i.safely(e,u)}else{e.state=o.FULFILLED;e.outcome=t;var c=-1;var l=e.queue.length;while(++c<l){e.queue[c].callFulfilled(t)}}return e};n.reject=function(e,t){e.state=o.REJECTED;e.outcome=t;var n=-1;var r=e.queue.length;while(++n<r){e.queue[n].callRejected(t)}return e};function a(e){var t=e&&e.then;if(e&&typeof e==="object"&&typeof t==="function"){return function n(){t.apply(e,arguments)}}}},{"./resolveThenable":293,"./states":294,"./tryCatch":295}],"287":[function(e,t,n){t.exports=n=e("./promise");n.resolve=e("./resolve");n.reject=e("./reject");n.all=e("./all");n.race=e("./race")},{"./all":285,"./promise":288,"./race":290,"./reject":291,"./resolve":292}],"288":[function(e,t,n){"use strict";var r=e("./unwrap");var i=e("./INTERNAL");var o=e("./resolveThenable");var a=e("./states");var s=e("./queueItem");t.exports=u;function u(e){if(!(this instanceof u)){return new u(e)}if(typeof e!=="function"){throw new TypeError("reslover must be a function")}this.state=a.PENDING;this.queue=[];this.outcome=void 0;if(e!==i){o.safely(this,e)}}u.prototype["catch"]=function(e){return this.then(null,e)};u.prototype.then=function(e,t){if(typeof e!=="function"&&this.state===a.FULFILLED||typeof t!=="function"&&this.state===a.REJECTED){return this}var n=new u(i);if(this.state!==a.PENDING){var o=this.state===a.FULFILLED?e:t;r(n,o,this.outcome)}else{this.queue.push(new s(n,e,t))}return n}},{"./INTERNAL":284,"./queueItem":289,"./resolveThenable":293,"./states":294,"./unwrap":296}],"289":[function(e,t,n){"use strict";var r=e("./handlers");var i=e("./unwrap");t.exports=o;function o(e,t,n){this.promise=e;if(typeof t==="function"){this.onFulfilled=t;this.callFulfilled=this.otherCallFulfilled}if(typeof n==="function"){this.onRejected=n;this.callRejected=this.otherCallRejected}}o.prototype.callFulfilled=function(e){r.resolve(this.promise,e)};o.prototype.otherCallFulfilled=function(e){i(this.promise,this.onFulfilled,e)};o.prototype.callRejected=function(e){r.reject(this.promise,e)};o.prototype.otherCallRejected=function(e){i(this.promise,this.onRejected,e)}},{"./handlers":286,"./unwrap":296}],"290":[function(e,t,n){"use strict";var r=e("./promise");var i=e("./reject");var o=e("./resolve");var a=e("./INTERNAL");var s=e("./handlers");t.exports=u;function u(e){if(Object.prototype.toString.call(e)!=="[object Array]"){return i(new TypeError("must be an array"))}var t=e.length;var n=false;if(!t){return o([])}var u=0;var c=-1;var l=new r(a);while(++c<t){f(e[c])}return l;function f(e){o(e).then(function(e){if(!n){n=true;s.resolve(l,e)}},function(e){if(!n){n=true;s.reject(l,e)}})}}},{"./INTERNAL":284,"./handlers":286,"./promise":288,"./reject":291,"./resolve":292}],"291":[function(e,t,n){"use strict";var r=e("./promise");var i=e("./INTERNAL");var o=e("./handlers");t.exports=a;function a(e){var t=new r(i);return o.reject(t,e)}},{"./INTERNAL":284,"./handlers":286,"./promise":288}],"292":[function(e,t,n){"use strict";var r=e("./promise");var i=e("./INTERNAL");var o=e("./handlers");t.exports=f;var a=o.resolve(new r(i),false);var s=o.resolve(new r(i),null);var u=o.resolve(new r(i),void 0);var c=o.resolve(new r(i),0);var l=o.resolve(new r(i),"");function f(e){if(e){if(e instanceof r){return e}return o.resolve(new r(i),e)}var t=typeof e;switch(t){case"boolean":return a;case"undefined":return u;case"object":return s;case"number":return c;case"string":return l}}},{"./INTERNAL":284,"./handlers":286,"./promise":288}],"293":[function(e,t,n){"use strict";var r=e("./handlers");var i=e("./tryCatch");function o(e,t){var n=false;function o(t){if(n){return}n=true;r.reject(e,t)}function a(t){if(n){return}n=true;r.resolve(e,t)}function s(){t(a,o)}var u=i(s);if(u.status==="error"){o(u.value)}}n.safely=o},{"./handlers":286,"./tryCatch":295}],"294":[function(e,t,n){n.REJECTED=["REJECTED"];n.FULFILLED=["FULFILLED"];n.PENDING=["PENDING"]},{}],"295":[function(e,t,n){"use strict";t.exports=r;function r(e,t){var n={};try{n.value=e(t);n.status="success"}catch(r){n.status="error";n.value=r}return n}},{}],"296":[function(e,t,n){"use strict";var r=e("immediate");var i=e("./handlers");t.exports=o;function o(e,t,n){r(function(){var r;try{r=t(n)}catch(o){return i.reject(e,o)}if(r===e){i.reject(e,new TypeError("Cannot resolve promise with itself"))}else{i.resolve(e,r)}})}},{"./handlers":286,"immediate":297}],"297":[function(e,t,n){"use strict";var r=[e("./nextTick"),e("./mutation.js"),e("./messageChannel"),e("./stateChange"),e("./timeout")];var i;var o=[];function a(){i=true;var e,t;var n=o.length;while(n){t=o;o=[];e=-1;while(++e<n){t[e]()}n=o.length}i=false}var s;var u=-1;var c=r.length;while(++u<c){if(r[u]&&r[u].test&&r[u].test()){s=r[u].install(a);break}}t.exports=l;function l(e){if(o.push(e)===1&&!i){s()}}},{"./messageChannel":298,"./mutation.js":299,"./nextTick":56,"./stateChange":300,"./timeout":301}],"298":[function(e,t,n){(function(e){"use strict";n.test=function(){if(e.setImmediate){return false}return typeof e.MessageChannel!=="undefined"};n.install=function(t){var n=new e.MessageChannel;n.port1.onmessage=t;return function(){n.port2.postMessage(0)}}}).call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],"299":[function(e,t,n){(function(e){"use strict";var t=e.MutationObserver||e.WebKitMutationObserver;n.test=function(){return t};n.install=function(n){var r=0;var i=new t(n);var o=e.document.createTextNode("");i.observe(o,{"characterData":true});return function(){o.data=r=++r%2}}}).call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],"300":[function(e,t,n){(function(e){"use strict";n.test=function(){return"document"in e&&"onreadystatechange"in e.document.createElement("script")};n.install=function(t){return function(){var n=e.document.createElement("script");n.onreadystatechange=function(){t();n.onreadystatechange=null;n.parentNode.removeChild(n);n=null};e.document.documentElement.appendChild(n);return t}}}).call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],"301":[function(e,t,n){"use strict";n.test=function(){return true};n.install=function(e){return function(){setTimeout(e,0)}}},{}],"302":[function(e,t,n){!function(e,r){"function"==typeof define&&define.amd?define(r):"object"==typeof n?t.exports=r():e.md5=r()}(this,function(){function e(e,t){var a=e[0],s=e[1],u=e[2],c=e[3];a=n(a,s,u,c,t[0],7,-680876936),c=n(c,a,s,u,t[1],12,-389564586),u=n(u,c,a,s,t[2],17,606105819),s=n(s,u,c,a,t[3],22,-1044525330),a=n(a,s,u,c,t[4],7,-176418897),c=n(c,a,s,u,t[5],12,1200080426),u=n(u,c,a,s,t[6],17,-1473231341),s=n(s,u,c,a,t[7],22,-45705983),a=n(a,s,u,c,t[8],7,1770035416),c=n(c,a,s,u,t[9],12,-1958414417),u=n(u,c,a,s,t[10],17,-42063),s=n(s,u,c,a,t[11],22,-1990404162),a=n(a,s,u,c,t[12],7,1804603682),c=n(c,a,s,u,t[13],12,-40341101),u=n(u,c,a,s,t[14],17,-1502002290),s=n(s,u,c,a,t[15],22,1236535329),a=r(a,s,u,c,t[1],5,-165796510),c=r(c,a,s,u,t[6],9,-1069501632),u=r(u,c,a,s,t[11],14,643717713),s=r(s,u,c,a,t[0],20,-373897302),a=r(a,s,u,c,t[5],5,-701558691),c=r(c,a,s,u,t[10],9,38016083),u=r(u,c,a,s,t[15],14,-660478335),s=r(s,u,c,a,t[4],20,-405537848),a=r(a,s,u,c,t[9],5,568446438),c=r(c,a,s,u,t[14],9,-1019803690),u=r(u,c,a,s,t[3],14,-187363961),s=r(s,u,c,a,t[8],20,1163531501),a=r(a,s,u,c,t[13],5,-1444681467),c=r(c,a,s,u,t[2],9,-51403784),u=r(u,c,a,s,t[7],14,1735328473),s=r(s,u,c,a,t[12],20,-1926607734),a=i(a,s,u,c,t[5],4,-378558),c=i(c,a,s,u,t[8],11,-2022574463),u=i(u,c,a,s,t[11],16,1839030562),s=i(s,u,c,a,t[14],23,-35309556),a=i(a,s,u,c,t[1],4,-1530992060),c=i(c,a,s,u,t[4],11,1272893353),u=i(u,c,a,s,t[7],16,-155497632),s=i(s,u,c,a,t[10],23,-1094730640),a=i(a,s,u,c,t[13],4,681279174),c=i(c,a,s,u,t[0],11,-358537222),u=i(u,c,a,s,t[3],16,-722521979),s=i(s,u,c,a,t[6],23,76029189),a=i(a,s,u,c,t[9],4,-640364487),c=i(c,a,s,u,t[12],11,-421815835),u=i(u,c,a,s,t[15],16,530742520),s=i(s,u,c,a,t[2],23,-995338651),a=o(a,s,u,c,t[0],6,-198630844),c=o(c,a,s,u,t[7],10,1126891415),u=o(u,c,a,s,t[14],15,-1416354905),s=o(s,u,c,a,t[5],21,-57434055),a=o(a,s,u,c,t[12],6,1700485571),c=o(c,a,s,u,t[3],10,-1894986606),u=o(u,c,a,s,t[10],15,-1051523),s=o(s,u,c,a,t[1],21,-2054922799),a=o(a,s,u,c,t[8],6,1873313359),c=o(c,a,s,u,t[15],10,-30611744),u=o(u,c,a,s,t[6],15,-1560198380),s=o(s,u,c,a,t[13],21,1309151649),a=o(a,s,u,c,t[4],6,-145523070),c=o(c,a,s,u,t[11],10,-1120210379),u=o(u,c,a,s,t[2],15,718787259),s=o(s,u,c,a,t[9],21,-343485551),e[0]=f(a,e[0]),e[1]=f(s,e[1]),e[2]=f(u,e[2]),e[3]=f(c,e[3])}function t(e,t,n,r,i,o){return t=f(f(t,e),f(r,o)),f(t<<i|t>>>32-i,n)}function n(e,n,r,i,o,a,s){return t(n&r|~n&i,e,n,o,a,s)}function r(e,n,r,i,o,a,s){return t(n&i|r&~i,e,n,o,a,s)}function i(e,n,r,i,o,a,s){return t(n^r^i,e,n,o,a,s)}function o(e,n,r,i,o,a,s){return t(r^(n|~i),e,n,o,a,s)}function a(t){txt="";var n,r=t.length,i=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=t.length;n+=64)e(i,s(t.substring(n-64,n)));t=t.substring(n-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<t.length;n++)o[n>>2]|=t.charCodeAt(n)<<(n%4<<3);if(o[n>>2]|=128<<(n%4<<3),n>55)for(e(i,o),n=0;16>n;n++)o[n]=0;return o[14]=8*r,e(i,o),i}function s(e){var t,n=[];for(t=0;64>t;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function u(e){for(var t="",n=0;4>n;n++)t+=p[e>>8*n+4&15]+p[e>>8*n&15];return t}function c(e){for(var t=0;t<e.length;t++)e[t]=u(e[t]);return e.join("")}function l(e){return c(a(e))}function f(e,t){return e+t&4294967295}function f(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}var p="0123456789abcdef".split("");return"5d41402abc4b2a76b9719d911017c592"!=l("hello"),l})},{}],"303":[function(e,t,n){"use strict";var r={};var i=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"];for(var o=0;o<i.length;o++){var a=i[o];r["[object "+a+"]"]=a.toLowerCase()}var s=r.toString;var u=r.hasOwnProperty;function c(e){if(e===null){return String(e)}return typeof e==="object"||typeof e==="function"?r[s.call(e)]||"object":typeof e}function l(e){return e!==null&&e===e.window}function f(e){if(!e||c(e)!=="object"||e.nodeType||l(e)){return false}try{if(e.constructor&&!u.call(e,"constructor")&&!u.call(e.constructor.prototype,"isPrototypeOf")){return false}}catch(t){return false}var n;for(n in e){}return n===undefined||u.call(e,n)}function p(e){return c(e)==="function"}var d=Array.isArray||function(e){return c(e)==="array"};function h(){var e=[];var t=-1;var n=arguments.length;var r=new Array(n);while(++t<n){r[t]=arguments[t]}var i={};e.push({"args":r,"result":{"container":i,"key":"key"}});var o;while(o=e.pop()){v(e,o.args,o.result)}return i.key}function v(e,t,n){var r,i,o,a,s,u,c=t[0]||{},l=1,h=t.length,v=false,m=/\d+/,g;if(typeof c==="boolean"){v=c;c=t[1]||{};l=2}if(typeof c!=="object"&&!p(c)){c={}}if(h===l){c=this;--l}for(;l<h;l++){if((r=t[l])!=null){g=d(r);for(i in r){if(!(i in Object.prototype)){if(g&&!m.test(i)){continue}o=c[i];a=r[i];if(c===a){continue}if(v&&a&&(f(a)||(s=d(a)))){if(s){s=false;u=o&&d(o)?o:[]}else{u=o&&f(o)?o:{}}e.push({"args":[v,u,a],"result":{"container":c,"key":i}})}else if(a!==undefined){if(!(d(r)&&p(a))){c[i]=a}}}}}}n.container[n.key]=c}t.exports=h},{}],"304":[function(e,t,n){"use strict";var r=e("./upsert");var i=e("./utils");var o=i.Promise;t.exports=function(e){var t=e.db;var n=e.viewName;var a=e.map;var s=e.reduce;var u=e.temporary;var c=a.toString()+(s&&s.toString())+"undefined";if(!u&&t._cachedViews){var l=t._cachedViews[c];if(l){return o.resolve(l)}}return t.info().then(function(e){var o=e.db_name+"-mrview-"+(u?"temp":i.MD5(c));function l(e){e.views=e.views||{};var t=n;if(t.indexOf("/")===-1){t=n+"/"+n}var r=e.views[t]=e.views[t]||{};if(r[o]){return}r[o]=true;return e}return r(t,"_local/mrviews",l).then(function(){return t.registerDependentDatabase(o).then(function(e){var n=e.db;n.auto_compaction=true;var r={"name":o,"db":n,"sourceDB":t,"adapter":t.adapter,"mapFun":a,"reduceFun":s};return r.db.get("_local/lastSeq")["catch"](function(e){if(e.status!==404){throw e}}).then(function(e){r.seq=e?e.seq:0;if(!u){t._cachedViews=t._cachedViews||{};t._cachedViews[c]=r;r.db.on("destroyed",function(){delete t._cachedViews[c]})}return r})})})})}},{"./upsert":311,"./utils":312}],"305":[function(require,module,exports){"use strict";module.exports=function(func,emit,sum,log,isArray,toJSON){return eval("'use strict'; ("+func.replace(/;\s*$/,"")+");")}},{}],"306":[function(e,t,n){(function(t){"use strict";var r=e("pouchdb-collate");var i=e("./taskqueue");var o=r.collate;var a=r.toIndexableString;var s=r.normalizeKey;var u=e("./create-view");var c=e("./evalfunc");var l;if(typeof console!=="undefined"&&typeof console.log==="function"){l=Function.prototype.bind.call(console.log,console)}else{l=function(){}}var f=e("./utils");var p=f.Promise;var d=new i;var h=new i;var v=50;function m(e){return e.indexOf("/")===-1?[e,e]:e.split("/")}function g(e,t,n){try{return{"output":t.apply(null,n)}}catch(r){e.emit("error",r);return{"error":r}}}function y(e,t){var n=o(e.key,t.key);return n!==0?n:o(e.value,t.value)}function b(e,t,n){n=n||0;if(typeof t==="number"){return e.slice(n,t+n)}else if(n>0){return e.slice(n)}return e}function _(e){var t=new Error("builtin "+e+" function requires map values to be numbers"+" or number arrays");t.name="invalid_value";t.status=500;return t}function w(e){var t=0;for(var n=0,r=e.length;n<r;n++){var i=e[n];if(typeof i!=="number"){if(Array.isArray(i)){t=typeof t==="number"?[t]:t;for(var o=0,a=i.length;o<a;o++){var s=i[o];if(typeof s!=="number"){throw _("_sum")}else if(typeof t[o]==="undefined"){t.push(s)}else{t[o]+=s}}}else{throw _("_sum")}}else if(typeof t==="number"){t+=i}else{t[0]+=i}}return t}var x={"_sum":function(e,t){return w(t)},"_count":function(e,t){return t.length},"_stats":function(e,t){function n(e){var t=0;for(var n=0,r=e.length;n<r;n++){var i=e[n];t+=i*i}return t}return{"sum":w(t),"min":Math.min.apply(null,t),"max":Math.max.apply(null,t),"count":t.length,"sumsqr":n(t)}}};function E(e,t,n,r){var i=t[e];if(typeof i!=="undefined"){if(r){i=encodeURIComponent(JSON.stringify(i))}n.push(e+"="+i)}}function A(e,t){var n=e.descending?"endkey":"startkey";var r=e.descending?"startkey":"endkey";if(typeof e[n]!=="undefined"&&typeof e[r]!=="undefined"&&o(e[n],e[r])>0){throw new L("No rows can match your key range, reverse your "+"start_key and end_key or set {descending : true}")}else if(t.reduce&&e.reduce!==false){if(e.include_docs){throw new L("{include_docs:true} is invalid for reduce")}else if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level){throw new L("Multi-key fetches for reduce views must use {group: true}")}}if(e.group_level){if(typeof e.group_level!=="number"){throw new L('Invalid value for integer: "'+e.group_level+'"')}if(e.group_level<0){throw new L("Invalid value for positive integer: "+'"'+e.group_level+'"')}}}function k(e,t,n){var r=[];var i;var o="GET";E("reduce",n,r);E("include_docs",n,r);E("limit",n,r);E("descending",n,r);E("group",n,r);E("group_level",n,r);E("skip",n,r);E("stale",n,r);E("startkey",n,r,true);E("endkey",n,r,true);E("inclusive_end",n,r);E("key",n,r,true);r=r.join("&");r=r===""?"":"?"+r;if(typeof n.keys!=="undefined"){var a=2e3;var s="keys="+encodeURIComponent(JSON.stringify(n.keys));if(s.length+r.length+1<=a){r+=(r[0]==="?"?"&":"?")+s}else{o="POST";if(typeof t==="string"){i=JSON.stringify({"keys":n.keys})}else{t.keys=n.keys}}}if(typeof t==="string"){var u=m(t);return e.request({"method":o,"url":"_design/"+u[0]+"/_view/"+u[1]+r,"body":i})}i=i||{};Object.keys(t).forEach(function(e){if(Array.isArray(t[e])){i[e]=t[e]}else{i[e]=t[e].toString()}});return e.request({"method":"POST","url":"_temp_view"+r,"body":i})}function q(e){return function(t){if(t.status===404){return e}else{throw t}}}function S(e,t,n){var r="_local/doc_"+e;return t.db.get(r)["catch"](q({"_id":r,"keys":[]})).then(function(r){return p.resolve().then(function(){if(r.keys.length){return t.db.allDocs({"keys":r.keys,"include_docs":true})}return{"rows":[]}}).then(function(t){var i=t.rows.map(function(e){return e.doc}).filter(function(e){return e});var o=n[e];var a={};i.forEach(function(e){a[e._id]=true;e._deleted=!o[e._id];if(!e._deleted){var t=o[e._id];if("value"in t){e.value=t.value}}});var s=Object.keys(o);s.forEach(function(e){if(!a[e]){var t={"_id":e};var n=o[e];if("value"in n){t.value=n.value}i.push(t)}});r.keys=f.uniq(s.concat(r.keys));i.splice(0,0,r);return i})})}function C(e,t,n){var r="_local/lastSeq";return e.db.get(r)["catch"](q({"_id":r,"seq":0})).then(function(r){var i=Object.keys(t);return p.all(i.map(function(n){return S(n,e,t)})).then(function(t){var i=[];t.forEach(function(e){i=i.concat(e)});r.seq=n;i.push(r);return e.db.bulkDocs({"docs":i})})})}var D=f.sequentialize(d,function(e){var t;var n;function r(e,r){var i={"id":n._id,"key":s(e)};if(typeof r!=="undefined"&&r!==null){i.value=s(r)}t.push(i)}var o;if(typeof e.mapFun==="function"&&e.mapFun.length===2){var u=e.mapFun;o=function(e){return u(e,r)}}else{o=c(e.mapFun.toString(),r,w,l,Array.isArray,JSON.parse)}var f=e.seq||0;function d(t,n){return function(){return C(e,t,n)}}var h=new i;return new p(function(r,i){function s(){h.finish().then(function(){e.seq=f;r()})}function u(){e.sourceDB.changes({"conflicts":true,"include_docs":true,"since":f,"limit":v}).on("complete",function(r){var i=r.results;if(!i.length){return s()}var c={};for(var l=0,p=i.length;l<p;l++){var m=i[l];if(m.doc._id[0]!=="_"){t=[];n=m.doc;if(!n._deleted){g(e.sourceDB,o,[n])}t.sort(y);var b={};var _;for(var w=0,x=t.length;w<x;w++){var E=t[w];var A=[E.key,E.id];if(E.key===_){A.push(w)}var k=a(A);b[k]=E;_=E.key}c[m.doc._id]=b}f=m.seq}h.add(d(c,f));if(i.length<v){return s()}return u()}).on("error",r);function r(e){i(e)}}u()})});function O(e,t,n){if(n.group_level===0){delete n.group_level}var r=n.group||n.group_level;var i;if(x[e.reduceFun]){i=x[e.reduceFun]}else{i=c(e.reduceFun.toString(),null,w,l,Array.isArray,JSON.parse)}var a=[];var s=n.group_level;t.forEach(function(e){var t=a[a.length-1];var n=r?e.key:null;if(r&&Array.isArray(n)&&typeof s==="number"){n=n.length>s?n.slice(0,s):n}if(t&&o(t.key[0][0],n)===0){t.key.push([n,e.id]);t.value.push(e.value);return}a.push({"key":[[n,e.id]],"value":[e.value]})});for(var u=0,f=a.length;u<f;u++){var p=a[u];var d=g(e.sourceDB,i,[p.key,p.value,false]);p.value=d.error?null:d.output;p.key=p.key[0][0]}return{"rows":b(a,n.limit,n.skip)}}var j=f.sequentialize(d,function(e,t){var n;var i=e.reduceFun&&t.reduce!==false;var o=t.skip||0;if(typeof t.keys!=="undefined"&&!t.keys.length){t.limit=0;delete t.keys}function s(t){t.include_docs=true;return e.db.allDocs(t).then(function(e){n=e.total_rows;return e.rows.map(function(e){if("value"in e.doc&&typeof e.doc.value==="object"&&e.doc.value!==null){var t=Object.keys(e.doc.value).sort();var n=["id","key","value"];if(!(t<n||t>n)){return e.doc.value}}var i=r.parseIndexableString(e.doc._id);return{"key":i[0],"id":i[1],"value":"value"in e.doc?e.doc.value:null}})})}function u(r){var a;if(i){a=O(e,r,t)}else{a={"total_rows":n,"offset":o,"rows":r}}if(t.include_docs){var s=r.map(function(t){var n=t.value;var r=n&&typeof n==="object"&&n._id||t.id;return e.sourceDB.get(r).then(function(e){t.doc=e},function(){})});return p.all(s).then(function(){return a})}else{return a}}var c=function(e){return e.reduce(function(e,t){return e.concat(t)})};if(typeof t.keys!=="undefined"){var l=t.keys;var f=l.map(function(e){var t={"startkey":a([e]),"endkey":a([e,{}])};return s(t)});return p.all(f).then(c).then(u)}else{var d={"descending":t.descending};if(typeof t.startkey!=="undefined"){d.startkey=t.descending?a([t.startkey,{}]):a([t.startkey])}if(typeof t.endkey!=="undefined"){var h=t.inclusive_end!==false;if(t.descending){h=!h}d.endkey=a(h?[t.endkey,{}]:[t.endkey])}if(typeof t.key!=="undefined"){var v=a([t.key]);var m=a([t.key,{}]);if(d.descending){d.endkey=v;d.startkey=m}else{d.startkey=v;d.endkey=m}}if(!i){if(typeof t.limit==="number"){d.limit=t.limit}d.skip=o}return s(d).then(u)}});function T(e){return e.request({"method":"POST","url":"_view_cleanup"})}var N=f.sequentialize(d,function(e){return e.get("_local/mrviews").then(function(t){var n={};Object.keys(t.views).forEach(function(e){var t=m(e);var r="_design/"+t[0];var i=t[1];n[r]=n[r]||{};n[r][i]=true});var r={"keys":Object.keys(n),"include_docs":true};return e.allDocs(r).then(function(r){var i={};r.rows.forEach(function(e){var r=e.key.substring(8);Object.keys(n[e.key]).forEach(function(n){var o=r+"/"+n;if(!t.views[o]){o=n}var a=Object.keys(t.views[o]);var s=e.doc&&e.doc.views&&e.doc.views[n];a.forEach(function(e){i[e]=i[e]||s})})});var o=Object.keys(i).filter(function(e){return!i[e]});var a=o.map(function(t){return e.constructor.destroy(t,{"adapter":e.adapter})});return p.all(a).then(function(){return{"ok":true}})})},q({"ok":true}))});n.viewCleanup=f.callbackify(function(){var e=this;if(e.type()==="http"){return T(e)}return N(e)});function B(e,n,r){if(e.type()==="http"){return k(e,n,r)}if(typeof n!=="string"){A(r,n);var i={"db":e,"viewName":"temp_view/temp_view","map":n.map,"reduce":n.reduce,"temporary":true};h.add(function(){return u(i).then(function(e){function t(){return e.db.destroy()}return f.fin(D(e).then(function(){return j(e,r)}),t)})});return h.finish()}else{var o=n;var a=m(o);var s=a[0];var c=a[1];return e.get("_design/"+s).then(function(n){var i=n.views&&n.views[c];if(!i||typeof i.map!=="string"){throw new R("ddoc "+s+" has no view named "+c)}A(r,i);var a={"db":e,"viewName":o,"map":i.map,"reduce":i.reduce};return u(a).then(function(e){if(r.stale==="ok"||r.stale==="update_after"){if(r.stale==="update_after"){t.nextTick(function(){D(e)})}return j(e,r)}else{return D(e).then(function(){return j(e,r)})}})})}}n.query=function(e,t,n){if(typeof t==="function"){n=t;t={}}t=f.extend(true,{},t);if(typeof e==="function"){e={"map":e}}var r=this;var i=p.resolve().then(function(){return B(r,e,t)});f.promisedCallback(i,n);return i};function L(e){this.status=400;this.name="query_parse_error";this.message=e;this.error=true;try{Error.captureStackTrace(this,L)}catch(t){}}f.inherits(L,Error);function R(e){this.status=404;this.name="not_found";this.message=e;this.error=true;try{Error.captureStackTrace(this,R)}catch(t){}}f.inherits(R,Error)}).call(this,e("OpdoqP"))},{"./create-view":304,"./evalfunc":305,"./taskqueue":310,"./utils":312,"OpdoqP":58,"pouchdb-collate":307}],"307":[function(e,t,n){"use strict";var r=-324;var i=3;var o="";var a=e("./utils");n.collate=function(e,t){if(e===t){return 0
}e=n.normalizeKey(e);t=n.normalizeKey(t);var r=d(e);var i=d(t);if(r-i!==0){return r-i}if(e===null){return 0}switch(typeof e){case"number":return e-t;case"boolean":return e===t?0:e<t?-1:1;case"string":return f(e,t)}return Array.isArray(e)?l(e,t):p(e,t)};n.normalizeKey=function(e){switch(typeof e){case"undefined":return null;case"number":if(e===Infinity||e===-Infinity||isNaN(e)){return null}return e;case"object":var t=e;if(Array.isArray(e)){var r=e.length;e=new Array(r);for(var i=0;i<r;i++){e[i]=n.normalizeKey(t[i])}}else if(e instanceof Date){return e.toJSON()}else if(e!==null){e={};for(var o in t){if(t.hasOwnProperty(o)){var a=t[o];if(typeof a!=="undefined"){e[o]=n.normalizeKey(a)}}}}}return e};function s(e){if(e!==null){switch(typeof e){case"boolean":return e?1:0;case"number":return h(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e);var r=t?e:Object.keys(e);var i=-1;var o=r.length;var a="";if(t){while(++i<o){a+=n.toIndexableString(r[i])}}else{while(++i<o){var s=r[i];a+=n.toIndexableString(s)+n.toIndexableString(e[s])}}return a}}return""}n.toIndexableString=function(e){var t="\x00";e=n.normalizeKey(e);return d(e)+o+s(e)+t};function u(e,t){var n=t;var o;var a=e[t]==="1";if(a){o=0;t++}else{var s=e[t]==="0";t++;var u="";var c=e.substring(t,t+i);var l=parseInt(c,10)+r;if(s){l=-l}t+=i;while(true){var f=e[t];if(f==="\x00"){break}else{u+=f}t++}u=u.split(".");if(u.length===1){o=parseInt(u,10)}else{o=parseFloat(u[0]+"."+u[1])}if(s){o=o-10}if(l!==0){o=parseFloat(o+"e"+l)}}return{"num":o,"length":t-n}}function c(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];if(n===r.element){t.pop();r=t[t.length-1]}var i=r.element;var o=r.index;if(Array.isArray(i)){i.push(n)}else if(o===e.length-2){var a=e.pop();i[a]=n}else{e.push(n)}}}n.parseIndexableString=function(e){var t=[];var n=[];var r=0;while(true){var i=e[r++];if(i==="\x00"){if(t.length===1){return t.pop()}else{c(t,n);continue}}switch(i){case"1":t.push(null);break;case"2":t.push(e[r]==="1");r++;break;case"3":var o=u(e,r);t.push(o.num);r+=o.length;break;case"4":var a="";while(true){var s=e[r];if(s==="\x00"){break}a+=s;r++}a=a.replace(/\u0001\u0001/g,"\x00").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,"");t.push(a);break;case"5":var l={"element":[],"index":t.length};t.push(l.element);n.push(l);break;case"6":var f={"element":{},"index":t.length};t.push(f.element);n.push(f);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+i)}}};function l(e,t){var r=Math.min(e.length,t.length);for(var i=0;i<r;i++){var o=n.collate(e[i],t[i]);if(o!==0){return o}}return e.length===t.length?0:e.length>t.length?1:-1}function f(e,t){return e===t?0:e>t?1:-1}function p(e,t){var r=Object.keys(e),i=Object.keys(t);var o=Math.min(r.length,i.length);for(var a=0;a<o;a++){var s=n.collate(r[a],i[a]);if(s!==0){return s}s=n.collate(e[r[a]],t[i[a]]);if(s!==0){return s}}return r.length===i.length?0:r.length>i.length?1:-1}function d(e){var t=["boolean","number","string","object"];var n=t.indexOf(typeof e);if(~n){if(e===null){return 1}if(Array.isArray(e)){return 5}return n<3?n+2:n+3}if(Array.isArray(e)){return 5}}function h(e){if(e===0){return"1"}var t=e.toExponential().split(/e\+?/);var n=parseInt(t[1],10);var s=e<0;var u=s?"0":"2";var c=(s?-n:n)-r;var l=a.padLeft(c.toString(),"0",i);u+=o+l;var f=Math.abs(parseFloat(t[0]));if(s){f=10-f}var p=f.toFixed(20);p=p.replace(/\.?0+$/,"");u+=o+p;return u}},{"./utils":308}],"308":[function(e,t,n){"use strict";function r(e,t,n){var r="";var i=n-e.length;while(r.length<i){r+=t}return r}n.padLeft=function(e,t,n){var i=r(e,t,n);return i+e};n.padRight=function(e,t,n){var i=r(e,t,n);return e+i};n.stringLexCompare=function(e,t){var n=e.length;var r=t.length;var i;for(i=0;i<n;i++){if(i===r){return 1}var o=e.charAt(i);var a=t.charAt(i);if(o!==a){return o<a?-1:1}}if(n<r){return-1}return 0};n.intToDecimalForm=function(e){var t=e<0;var n="";do{var r=t?-Math.ceil(e%10):Math.floor(e%10);n=r+n;e=t?Math.ceil(e/10):Math.floor(e/10)}while(e);if(t&&n!=="0"){n="-"+n}return n}},{}],"309":[function(e,t,n){(function(e){if(typeof n==="object"){t.exports=e()}else if(typeof define==="function"&&define.amd){define(e)}else{var r;try{r=window}catch(i){r=self}r.SparkMD5=e()}})(function(e){"use strict";var t=function(e,t){return e+t&4294967295},n=function(e,n,r,i,o,a){n=t(t(n,e),t(i,a));return t(n<<o|n>>>32-o,r)},r=function(e,t,r,i,o,a,s){return n(t&r|~t&i,e,t,o,a,s)},i=function(e,t,r,i,o,a,s){return n(t&i|r&~i,e,t,o,a,s)},o=function(e,t,r,i,o,a,s){return n(t^r^i,e,t,o,a,s)},a=function(e,t,r,i,o,a,s){return n(r^(t|~i),e,t,o,a,s)},s=function(e,n){var s=e[0],u=e[1],c=e[2],l=e[3];s=r(s,u,c,l,n[0],7,-680876936);l=r(l,s,u,c,n[1],12,-389564586);c=r(c,l,s,u,n[2],17,606105819);u=r(u,c,l,s,n[3],22,-1044525330);s=r(s,u,c,l,n[4],7,-176418897);l=r(l,s,u,c,n[5],12,1200080426);c=r(c,l,s,u,n[6],17,-1473231341);u=r(u,c,l,s,n[7],22,-45705983);s=r(s,u,c,l,n[8],7,1770035416);l=r(l,s,u,c,n[9],12,-1958414417);c=r(c,l,s,u,n[10],17,-42063);u=r(u,c,l,s,n[11],22,-1990404162);s=r(s,u,c,l,n[12],7,1804603682);l=r(l,s,u,c,n[13],12,-40341101);c=r(c,l,s,u,n[14],17,-1502002290);u=r(u,c,l,s,n[15],22,1236535329);s=i(s,u,c,l,n[1],5,-165796510);l=i(l,s,u,c,n[6],9,-1069501632);c=i(c,l,s,u,n[11],14,643717713);u=i(u,c,l,s,n[0],20,-373897302);s=i(s,u,c,l,n[5],5,-701558691);l=i(l,s,u,c,n[10],9,38016083);c=i(c,l,s,u,n[15],14,-660478335);u=i(u,c,l,s,n[4],20,-405537848);s=i(s,u,c,l,n[9],5,568446438);l=i(l,s,u,c,n[14],9,-1019803690);c=i(c,l,s,u,n[3],14,-187363961);u=i(u,c,l,s,n[8],20,1163531501);s=i(s,u,c,l,n[13],5,-1444681467);l=i(l,s,u,c,n[2],9,-51403784);c=i(c,l,s,u,n[7],14,1735328473);u=i(u,c,l,s,n[12],20,-1926607734);s=o(s,u,c,l,n[5],4,-378558);l=o(l,s,u,c,n[8],11,-2022574463);c=o(c,l,s,u,n[11],16,1839030562);u=o(u,c,l,s,n[14],23,-35309556);s=o(s,u,c,l,n[1],4,-1530992060);l=o(l,s,u,c,n[4],11,1272893353);c=o(c,l,s,u,n[7],16,-155497632);u=o(u,c,l,s,n[10],23,-1094730640);s=o(s,u,c,l,n[13],4,681279174);l=o(l,s,u,c,n[0],11,-358537222);c=o(c,l,s,u,n[3],16,-722521979);u=o(u,c,l,s,n[6],23,76029189);s=o(s,u,c,l,n[9],4,-640364487);l=o(l,s,u,c,n[12],11,-421815835);c=o(c,l,s,u,n[15],16,530742520);u=o(u,c,l,s,n[2],23,-995338651);s=a(s,u,c,l,n[0],6,-198630844);l=a(l,s,u,c,n[7],10,1126891415);c=a(c,l,s,u,n[14],15,-1416354905);u=a(u,c,l,s,n[5],21,-57434055);s=a(s,u,c,l,n[12],6,1700485571);l=a(l,s,u,c,n[3],10,-1894986606);c=a(c,l,s,u,n[10],15,-1051523);u=a(u,c,l,s,n[1],21,-2054922799);s=a(s,u,c,l,n[8],6,1873313359);l=a(l,s,u,c,n[15],10,-30611744);c=a(c,l,s,u,n[6],15,-1560198380);u=a(u,c,l,s,n[13],21,1309151649);s=a(s,u,c,l,n[4],6,-145523070);l=a(l,s,u,c,n[11],10,-1120210379);c=a(c,l,s,u,n[2],15,718787259);u=a(u,c,l,s,n[9],21,-343485551);e[0]=t(s,e[0]);e[1]=t(u,e[1]);e[2]=t(c,e[2]);e[3]=t(l,e[3])},u=function(e){var t=[],n;for(n=0;n<64;n+=4){t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24)}return t},c=function(e){var t=[],n;for(n=0;n<64;n+=4){t[n>>2]=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24)}return t},l=function(e){var t=e.length,n=[1732584193,-271733879,-1732584194,271733878],r,i,o,a,c,l;for(r=64;r<=t;r+=64){s(n,u(e.substring(r-64,r)))}e=e.substring(r-64);i=e.length;o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<i;r+=1){o[r>>2]|=e.charCodeAt(r)<<(r%4<<3)}o[r>>2]|=128<<(r%4<<3);if(r>55){s(n,o);for(r=0;r<16;r+=1){o[r]=0}}a=t*8;a=a.toString(16).match(/(.*?)(.{0,8})$/);c=parseInt(a[2],16);l=parseInt(a[1],16)||0;o[14]=c;o[15]=l;s(n,o);return n},f=function(e){var t=e.length,n=[1732584193,-271733879,-1732584194,271733878],r,i,o,a,u,l;for(r=64;r<=t;r+=64){s(n,c(e.subarray(r-64,r)))}e=r-64<t?e.subarray(r-64):new Uint8Array(0);i=e.length;o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<i;r+=1){o[r>>2]|=e[r]<<(r%4<<3)}o[r>>2]|=128<<(r%4<<3);if(r>55){s(n,o);for(r=0;r<16;r+=1){o[r]=0}}a=t*8;a=a.toString(16).match(/(.*?)(.{0,8})$/);u=parseInt(a[2],16);l=parseInt(a[1],16)||0;o[14]=u;o[15]=l;s(n,o);return n},p=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],d=function(e){var t="",n;for(n=0;n<4;n+=1){t+=p[e>>n*8+4&15]+p[e>>n*8&15]}return t},h=function(e){var t;for(t=0;t<e.length;t+=1){e[t]=d(e[t])}return e.join("")},v=function(e){return h(l(e))},m=function(){this.reset()};if(v("hello")!=="5d41402abc4b2a76b9719d911017c592"){t=function(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}}m.prototype.append=function(e){if(/[\u0080-\uFFFF]/.test(e)){e=unescape(encodeURIComponent(e))}this.appendBinary(e);return this};m.prototype.appendBinary=function(e){this._buff+=e;this._length+=e.length;var t=this._buff.length,n;for(n=64;n<=t;n+=64){s(this._state,u(this._buff.substring(n-64,n)))}this._buff=this._buff.substr(n-64);return this};m.prototype.end=function(e){var t=this._buff,n=t.length,r,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o;for(r=0;r<n;r+=1){i[r>>2]|=t.charCodeAt(r)<<(r%4<<3)}this._finish(i,n);o=!!e?this._state:h(this._state);this.reset();return o};m.prototype._finish=function(e,t){var n=t,r,i,o;e[n>>2]|=128<<(n%4<<3);if(n>55){s(this._state,e);for(n=0;n<16;n+=1){e[n]=0}}r=this._length*8;r=r.toString(16).match(/(.*?)(.{0,8})$/);i=parseInt(r[2],16);o=parseInt(r[1],16)||0;e[14]=i;e[15]=o;s(this._state,e)};m.prototype.reset=function(){this._buff="";this._length=0;this._state=[1732584193,-271733879,-1732584194,271733878];return this};m.prototype.destroy=function(){delete this._state;delete this._buff;delete this._length};m.hash=function(e,t){if(/[\u0080-\uFFFF]/.test(e)){e=unescape(encodeURIComponent(e))}var n=l(e);return!!t?n:h(n)};m.hashBinary=function(e,t){var n=l(e);return!!t?n:h(n)};m.ArrayBuffer=function(){this.reset()};m.ArrayBuffer.prototype.append=function(e){var t=this._concatArrayBuffer(this._buff,e),n=t.length,r;this._length+=e.byteLength;for(r=64;r<=n;r+=64){s(this._state,c(t.subarray(r-64,r)))}this._buff=r-64<n?t.subarray(r-64):new Uint8Array(0);return this};m.ArrayBuffer.prototype.end=function(e){var t=this._buff,n=t.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i,o;for(i=0;i<n;i+=1){r[i>>2]|=t[i]<<(i%4<<3)}this._finish(r,n);o=!!e?this._state:h(this._state);this.reset();return o};m.ArrayBuffer.prototype._finish=m.prototype._finish;m.ArrayBuffer.prototype.reset=function(){this._buff=new Uint8Array(0);this._length=0;this._state=[1732584193,-271733879,-1732584194,271733878];return this};m.ArrayBuffer.prototype.destroy=m.prototype.destroy;m.ArrayBuffer.prototype._concatArrayBuffer=function(e,t){var n=e.length,r=new Uint8Array(n+t.byteLength);r.set(e);r.set(new Uint8Array(t),n);return r};m.ArrayBuffer.hash=function(e,t){var n=f(new Uint8Array(e));return!!t?n:h(n)};return m})},{}],"310":[function(e,t,n){"use strict";var r=e("./utils").Promise;function i(){this.promise=new r(function(e){e()})}i.prototype.add=function(e){this.promise=this.promise["catch"](function(){}).then(function(){return e()});return this.promise};i.prototype.finish=function(){return this.promise};t.exports=i},{"./utils":312}],"311":[function(e,t,n){"use strict";var r=e("./utils").Promise;function i(e,t,n){return new r(function(r,i){if(t&&typeof t==="object"){t=t._id}if(typeof t!=="string"){return i(new Error("doc id is required"))}e.get(t,function(a,s){if(a){if(a.status!==404){return i(a)}return r(o(e,n({"_id":t}),n))}var u=n(s);if(!u){return r(s)}r(o(e,u,n))})})}function o(e,t,n){return e.put(t)["catch"](function(r){if(r.status!==409){throw r}return i(e,t,n)})}t.exports=i},{"./utils":312}],"312":[function(e,t,n){(function(t,r){"use strict";if(typeof r.Promise==="function"){n.Promise=r.Promise}else{n.Promise=e("lie")}n.uniq=function(e){var t={};e.forEach(function(e){t[e]=true});return Object.keys(t)};n.inherits=e("inherits");n.extend=e("pouchdb-extend");var i=e("argsarray");n.promisedCallback=function(e,n){if(n){e.then(function(e){t.nextTick(function(){n(null,e)})},function(e){t.nextTick(function(){n(e)})})}return e};n.callbackify=function(e){return i(function(t){var r=t.pop();var i=e.apply(this,t);if(typeof r==="function"){n.promisedCallback(i,r)}return i})};n.fin=function(e,t){return e.then(function(e){var n=t();if(typeof n.then==="function"){return n.then(function(){return e})}return e},function(e){var n=t();if(typeof n.then==="function"){return n.then(function(){throw e})}throw e})};n.sequentialize=function(e,t){return function(){var n=arguments;var r=this;return e.add(function(){return t.apply(r,n)})}};var o=e("crypto");var a=e("spark-md5");n.MD5=function(e){if(!t.browser){return o.createHash("md5").update(e).digest("hex")}else{return a.hash(e)}}}).call(this,e("OpdoqP"),typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"OpdoqP":58,"argsarray":282,"crypto":56,"inherits":283,"lie":287,"pouchdb-extend":303,"spark-md5":309}],"313":[function(e,t,n){(function(){var e=function(e,t){var n={},r=n;for(var i=0,o=e.length-1;i<o;i++){r=r[e[i]]={}}r[e[i]]=t;return n};var n=new function(){var t=this.priority=function(e,t){var n=e.exprs,r=0;for(var o=0,a=n.length;o<a;o++){var s=n[o],u;if(!~(u=s.e(s.v,i(t),t)))return-1;r+=u}return r};var n=this.parse=function(i,o){if(!i)i={"$eq":i};var s=[];if(Object.prototype.toString.call(i)==="[object Object]"){for(var c in i){var l=!!a[c]?c:"$trav",f=i[c],p=f;if(r[l]){if(~c.indexOf(".")){var d=c.split(".");c=d.shift();p=f=e(d,f)}if(f instanceof Array){p=[];for(var h=f.length;h--;){p.push(n(f[h]))}}else{p=n(f,c)}}s.push(u(l,c,p))}}else{s.push(u("$eq",c,i))}var v={"exprs":s,"k":o,"test":function(e){return!!~v.priority(e)},"priority":function(e){return t(v,e)}};return v};var r=this.traversable={"$and":true,"$or":true,"$nor":true,"$trav":true,"$not":true};function i(e){if(e instanceof Date){return e.getTime()}else{return e}}function o(e){return e?0:-1}var a=this.testers={"$eq":function(e,t){return o(e.test(t))},"$ne":function(e,t){return o(!e.test(t))},"$lt":function(e,t){return o(e>t)},"$gt":function(e,t){return o(e<t)},"$lte":function(e,t){return o(e>=t)},"$gte":function(e,t){return o(e<=t)},"$exists":function(e,t){return o(e===(t!=null))},"$in":function(e,t){if(t instanceof Array){for(var n=t.length;n--;){if(~e.indexOf(t[n]))return n}}else{return o(~e.indexOf(t))}return-1},"$not":function(e,t){if(!e.test)throw new Error("$not test should include an expression, not a value. Use $ne instead.");return o(!e.test(t))},"$type":function(e,t,n){return n?o(n instanceof e||n.constructor==e):-1},"$nin":function(e,t){return~a.$in(e,t)?-1:0},"$mod":function(e,t){return t%e[0]==e[1]?0:-1},"$all":function(e,t){t=t||(t=[]);for(var n=e.length;n--;){var r=e[n];var i=~t.indexOf(r);if(!i)return-1}return 0},"$size":function(e,t){return t?o(e==t.length):-1},"$or":function(e,n){var r=e.length,i,a=r;for(;r--;){if(~t(e[r],n)){return r}}return o(a==0)},"$nor":function(e,n){var r=e.length,i=r;for(;r--;){if(~t(e[r],n)){return-1}}return 0},"$and":function(e,n){for(var r=e.length;r--;){if(!~t(e[r],n)){return-1}}return 0},"$trav":function(e,n){if(n instanceof Array){for(var r=n.length;r--;){var i=n[r];if(i[e.k]&&~t(e,i[e.k]))return r}return-1}return t(e,n?n[e.k]:undefined)},"$regex":function(e,t){var n=new RegExp(e);return n.test(t)?0:-1}};var s={"$eq":function(e){var t;if(e instanceof RegExp){return e}else if(e instanceof Function){t=e}else{t=function(t){if(t instanceof Array){return~t.indexOf(e)}else{return e==t}}}return{"test":t}},"$ne":function(e){return s.$eq(e)}};var u=function(e,t,n){var r=i(n);return{"k":t,"v":s[e]?s[e](r):r,"e":a[e]}}};var r=function(e){if(!e){return function(e){return e}}else if(typeof e=="function"){return e}throw new Error("Unknown sift selector "+e)};var i=function(e,t){var r=n.parse(e);var i=function(e){var n=[],i=[],o,a,s;for(var u=0,c=e.length;u<c;u++){a=e[u];o=t(a);if(!~(s=r.priority(o)))continue;n.push({"value":a,"priority":s})}n.sort(function(e,t){return e.priority>t.priority?-1:1});var l=Array(n.length);for(var u=n.length;u--;){l[u]=n[u].value}return l};i.test=r.test;i.score=r.priority;i.query=e;return i};var o=function(e,t,n){if(typeof t!="object"){n=t;t=undefined}var o=i(e,r(n));if(t)return o(t);return o};o.use=function(e){if(e.operators)o.useOperators(e.operators)};o.useOperators=function(e){for(var t in e){o.useOperator(t,e[t])}};o.useOperator=function(e,t){var r={};if(typeof t=="object"){r=t}else{r={"test":t}}var i="$"+e;n.testers[i]=r.test;if(r.traversable||r.traverse){n.traversable[i]=true}};if(typeof t!="undefined"&&typeof t.exports!="undefined"){t.exports=o}else if(typeof window!="undefined"){window.sift=o}})()},{}]},{},[1]);